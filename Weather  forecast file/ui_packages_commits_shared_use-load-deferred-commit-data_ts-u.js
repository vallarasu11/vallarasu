"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_commit-checks-status_index_ts","ui_packages_commits_shared_use-load-deferred-commit-data_ts-ui_packages_diff-lines_diff-lines-21f1cb","ui_packages_file-renderer-blob_FileRendererBlob_tsx","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx-ui_packages_copilot-chat_component-930b8a"],{58924:(e,n,a)=>{a.d(n,{A:()=>l});let l={activityHeader:"ActivityHeader-module__activityHeader--Flalv",footer:"ActivityHeader-module__footer--FVHp7",narrowViewportWrapper:"ActivityHeader-module__narrowViewportWrapper--Hjl75",edits:"ActivityHeader-module__edits--LwHTE"}},8489:(e,n,a)=>{a.d(n,{A:()=>l});let l={avatarOuter:"Avatar-module__avatarOuter--MZJZH",avatarInner:"Avatar-module__avatarInner--rVuJD",avatarLink:"Avatar-module__avatarLink--S36bm",hiddenActivityAvatar:"Avatar-module__hiddenActivityAvatar--TkNWK",activityAvatar:"Avatar-module__activityAvatar--yNkmi",issueViewerAvatar:"Avatar-module__issueViewerAvatar--grA_h",avatarWithDivider:"Avatar-module__avatarWithDivider--QAWxt",avatarWithoutDivider:"Avatar-module__avatarWithoutDivider--VO6EM"}},35752:(e,n,a)=>{a.d(n,{A:()=>l});let l={skeletonContainer:"TemplateList-module__skeletonContainer--hD7Ed",templateHeader:"TemplateList-module__templateHeader--jor1D"}},57814:(e,n,a)=>{a.d(n,{A9:()=>l,vM:()=>t});let l="copilot";function t(e){return"copilot-swe-agent"===e.toLocaleLowerCase()||e.toLocaleLowerCase()===l}},50064:(e,n,a)=>{a.d(n,{x:()=>l});let l=a(55626).n.ActionButton},76235:(e,n,a)=>{a.d(n,{Bq:()=>t,Sp:()=>r,mU:()=>l,tD:()=>i});let l={issueComment:"react-issue-comment",commentsContainer:"react-comments-container",markdownBody:"markdown-body",issueBody:"react-issue-body"},t={issueCommentComposer:"react-issue-comment-composer"};function i(){var e,n;let a=document.querySelector(`${r(l.commentsContainer)} ${(e=t.issueCommentComposer,`#${e}`)}[data-inside-side-panel=true]`);return a||document.querySelector((n=t.issueCommentComposer,`#${n}`))}function r(e){return`.${e}`}},99582:(e,n,a)=>{a.d(n,{k:()=>l});let l={canNotComment:e=>e?`You do not have permissions to comment on this ${e}.`:"You do not have permissions to comment.",confirmations:{deleteCommentTitle:"Delete comment",deleteCommentContent:"Are you sure you'd like to delete this comment?",deleteCommentConfirmButtonContent:"Delete"},hiddenComment:"Hidden comment",hiddenCommentWithReason:"Hidden as",issueLockedToCollaborators:"This conversation has been locked and limited to collaborators.",repoArchived:"This repository has been archived.",sentViaEmail:"via email",commentAuthor:"Author",spammyBadge:"Spammy",spammyBadgeTooltip:"This user is marked as spammy. Their comments will only show in staff mode.",sponsorBadge:"Sponsor",newComment:"new Comment",newCommentPlaceholder:"Use Markdown to format your comment",commentSubjectAuthor:(e,n)=>`${e?"You are the":"This user is the"} author${n?` of this ${n}`:""}`,sponsor:(e,n)=>`${e}'s sponsor since ${n}`,noDescriptionProvided:"No description provided.",staleCommentErrorPrefix:"GraphQL error: STALE_DATA",issueConvertedToDiscussion:"Commenting has been disabled because this issue was converted to a"}},14438:(e,n,a)=>{a.d(n,{Y:()=>l});let l={avatarLink:"avatar-link",commentAuthorAssociation:"comment-author-association",commentSubjectAuthor:"comment-subject-author",spammyLabel:"spammy-label",sponsorLabel:"sponsor-label",commentHeader:"comment-header",commentHeaderLeftSideItems:"comment-header-left-side-items",commentHeaderRightSideItems:"comment-header-right-side-items",commentHeaderHamburger:"comment-header-hamburger",commentHeaderHamburgerOpen:"comment-header-hamburger-open",commentMenuRefComment:"comment-menu-ref-comment",commentViewerOuterBox:e=>e?`comment-viewer-outer-box-${e}`:"comment-viewer-outer-box",commentComposer:"comment-composer",markdownBody:"markdown-body",commentBox:(e="")=>`markdown-editor-${e}`,readonlyCommentBox:(e="")=>`readonly-markdown-editor-${e}`,commentSkeleton:"comment-skeleton"}},52655:(e,n,a)=>{a.d(n,{t:()=>l});let l={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"},localStorageKeys:{issueComment:(e,n,a)=>`${e}-i${n}-c${a}.view-issue-comment`,issueNewComment:(e,n)=>`${e}-i${n}.view-issue-comment-new`}}},31402:(e,n,a)=>{a.d(n,{x:()=>p});var l=a(63510),t=a(67737),i=a(38359),r=a(81356),s=a(26677),o=a(96540),d=a(76235);let c={focusCommentComposer:"r"};var u=a(52655),m=a(86856);function p({commentBoxRef:e,markdownComposerRef:n,onChange:a,onCancel:p,referenceId:g,hasSingleKeyShortcutEnabled:f,insidePortal:h}){let[y,b]=(0,s.F)(u.t.localStorageKeys.issueNewComment("viewer",g),""),[k,x]=(0,o.useState)(y),v=(0,o.useMemo)(()=>(0,l.KG)(k),[k]),C=(0,i.X)(),j=void 0!==f?f:C?.current_user_settings?.use_single_key_shortcut||!1,{anyItemPickerOpen:S}=(0,t.t)(),_=(0,o.useCallback)(e=>{x(e),b(e)},[b]),I=(0,o.useCallback)(e=>{_(e),a(),""===e&&p()},[_,p,a]);(0,o.useImperativeHandle)(n,()=>({appendText:e=>{I(`${k}

${e}`)},setText:e=>{I(e)},focus:()=>{e.current?.focus()}}),[I,k,e]),(0,o.useEffect)(()=>x(k),[k,x]);let w=(0,o.useCallback)(n=>{if(!(!j||S())&&e&&e.current){n.preventDefault();let a=window.getSelection();if(a&&a.anchorNode){let e={anchorNode:a.anchorNode,range:a.getRangeAt(0)},n=a.anchorNode.parentElement,l=n?.closest(d.Sp(d.mU.issueComment))??n?.closest(d.Sp(d.mU.issueBody));if(l&&l instanceof HTMLDivElement){let n=(0,m.E)(l,e);_(`${n}`)}}e.current.scrollIntoView(),e.current.focus()}},[S,_,e,j]),F=(0,o.useCallback)(()=>{e.current?e.current.reset():x(""),b(void 0)},[e,b]);return(0,r._N)([c.focusCommentComposer],w,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:h}),{handleMarkdownBodyChanged:I,markdownValidationResult:v,markdownBody:k,resetMarkdownBody:F}}},68310:(e,n,a)=>{a.d(n,{i:()=>t});var l=a(99582);function t(e,n,a=null,i="issue"){return e?l.k.repoArchived:n?l.k.issueLockedToCollaborators:a||l.k.canNotComment(i)}},86856:(e,n,a)=>{a.d(n,{E:()=>d,s:()=>i});var l=a(66661),t=a(76235);function i(e){if(!e)return e;let n=e.split("\n"),a="";for(let e of n)a=a.concat(`> ${e}
`);return a}let r=e=>n=>{for(let a of e.matchAll(/(!\[[^[]+?\]\([^()]+\/)([\w\d-]+)(.+)/g)){let e=a[1],l=a[2],t=a[3];if(!e||!l||!t)continue;let i=`${e}${l}${t.split(")")[0]})`,r=n.split(l);if(r.length<2)continue;let s=r[0]?.match(/!\[[^[]+$/),o=r[1]?.split(")")[0],d=`${s}${l}${o})`;n=n.replaceAll(d,i)}return n},s=e=>"none"===e.style.display||"hidden"===e.style.visibility||"true"===e.ariaHidden,o=e=>{let n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT}),a=n.nextNode();for(;a;)a instanceof HTMLElement&&s(a)&&a.remove(),a=n.nextNode()};function d(e,n,a){if(!e)return;let i=e.querySelector((0,t.Sp)(t.mU.markdownBody)),s=new l.g("",o);n&&i.contains(n.anchorNode)&&i.contains(n.range.startContainer)&&i.contains(n.range.endContainer)&&!n.range.collapsed&&""!==n.range.toString().trim()?s.range=n.range:s.select(i),a&&(s.processSelectionTextFn=r(a));let d=(0,t.tD)();if(d){let e=d?.querySelector("textarea"),n=d?.querySelector("button");if(e)return s.insert(e),e.value;if(n)return s.quotedText}}},58423:(e,n,a)=>{a.d(n,{h:()=>j,j:()=>M});var l=a(74848),t=a(21728),i=a(62456),r=a(5796),s=a(34614),o=a(75177);function d(e){return e.path?.startsWith("/apps/")??!1}var c=a(42522);function u(e){let n;let a=(0,t.c)(5),{renderTooltip:i,author:r,children:s}=e;if(!1===i){let e;return a[0]!==s?(e=(0,l.jsx)(l.Fragment,{children:s}),a[0]=s,a[1]=e):e=a[1],e}let o=`commits by ${r.login}`;return a[2]!==s||a[3]!==o?(n=(0,l.jsx)(c.m,{text:o,direction:"se",children:s}),a[2]=s,a[3]=o,a[4]=n):n=a[4],n}try{u.displayName||(u.displayName="AuthorTooltip")}catch{}var m=a(14744),p=a.n(m),g=a(96540);let f={fontWeight:"bold",fontColor:"fg.default",includeTooltip:!1,avatarSize:void 0},h=(0,g.createContext)(f);function y(e){let n,a,i;let r=(0,t.c)(7),{authorSettings:s,children:o}=e;r[0]!==s?(n=s??{},r[0]=s,r[1]=n):n=r[1],r[2]!==n?(a=p()(f,n),r[2]=n,r[3]=a):a=r[3];let d=a;return r[4]!==d||r[5]!==o?(i=(0,l.jsx)(h.Provider,{value:d,children:o}),r[4]=d,r[5]=o,r[6]=i):i=r[6],i}function b(){return(0,g.useContext)(h)||f}try{h.displayName||(h.displayName="AuthorSettingsContext")}catch{}try{y.displayName||(y.displayName="AuthorSettingsProvider")}catch{}var k=a(52464),x=a(30631);let v=["150px","150px","200px"];function C(e){let n,a,i;let r=(0,t.c)(9),{displayName:s,authorSettings:o}=e;return r[0]!==o.fontColor||r[1]!==o.fontWeight?(n={fontWeight:o.fontWeight,whiteSpace:"nowrap",color:o.fontColor},r[0]=o.fontColor,r[1]=o.fontWeight,r[2]=n):n=r[2],r[3]!==s||r[4]!==n?(a=(0,l.jsx)(k.A,{sx:n,children:s}),r[3]=s,r[4]=n,r[5]=a):a=r[5],r[6]!==s||r[7]!==a?(i=(0,l.jsx)(x.A,{title:s,maxWidth:v,inline:!0,children:a}),r[6]=s,r[7]=a,r[8]=i):i=r[8],i}try{C.displayName||(C.displayName="AuthorDisplayName")}catch{}function j(e){let n,a,c,m,p,g,f;let h=(0,t.c)(23),{author:y,repo:k,sx:x}=e,v=b();if(!y)return null;let j=`${y.login||"author"}`,S=y.avatarUrl,_=`${y.login||"author"}`;h[0]===Symbol.for("react.memo_cache_sentinel")?(n={mr:2,mt:"-1px",ml:"1px"},h[0]=n):n=h[0];let I=v.avatarSize;h[1]!==y?(a=d(y),h[1]=y,h[2]=a):a=h[2],h[3]!==y.avatarUrl||h[4]!==v.avatarSize||h[5]!==j||h[6]!==_||h[7]!==a?(c=(0,l.jsx)(i.r,{"aria-label":j,src:S,alt:_,sx:n,size:I,square:a}),h[3]=y.avatarUrl,h[4]=v.avatarSize,h[5]=j,h[6]=_,h[7]=a,h[8]=c):c=h[8];let w=c;return h[9]!==x?(m={display:"flex",flexDirection:"row",alignItems:"center",...x},h[9]=x,h[10]=m):m=h[10],h[11]!==y.login||h[12]!==y.path||h[13]!==w?(p=y.path?(0,l.jsx)(s.A,{href:y.path,"data-testid":"avatar-icon-link","data-hovercard-url":y.login?(0,r.dCN)({owner:y.login}):void 0,children:w}):w,h[11]=y.login,h[12]=y.path,h[13]=w,h[14]=p):p=h[14],h[15]!==y||h[16]!==v||h[17]!==k?(g=y.login?(0,l.jsx)(u,{author:y,renderTooltip:v.includeTooltip,children:(0,l.jsx)(s.A,{muted:!0,href:(0,r.jQC)({repo:k,author:y.login}),"aria-label":`commits by ${y.login}`,"data-hovercard-url":(0,r.dCN)({owner:y.login}),sx:{fontWeight:v.fontWeight,whiteSpace:"nowrap",color:v.fontColor,"&:hover":{color:v.fontColor,textDecoration:"underline"}},children:y.login})}):(0,l.jsx)(C,{displayName:y.displayName,authorSettings:v}),h[15]=y,h[16]=v,h[17]=k,h[18]=g):g=h[18],h[19]!==g||h[20]!==m||h[21]!==p?(f=(0,l.jsxs)(o.A,{sx:m,"data-testid":"author-avatar",children:[p,g]}),h[19]=g,h[20]=m,h[21]=p,h[22]=f):f=h[22],f}try{j.displayName||(j.displayName="AuthorAvatar")}catch{}var S=a(8338),_=a(74144);function I(e){let n,a,i,r,o;let d=(0,t.c)(13),{authors:c,repo:u}=e,m=c.length,[p,f]=(0,g.useState)(!1),h=(0,g.useRef)(null),y=`Show ${m} authors`;return d[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{f(!0)},a={mx:1},d[0]=n,d[1]=a):(n=d[0],a=d[1]),d[2]!==m||d[3]!==y?(i=(0,l.jsxs)(s.A,{as:"button","aria-label":y,"data-testid":"authors-dialog-anchor",onClick:n,sx:a,ref:h,muted:!0,children:[m," ","people"]}),d[2]=m,d[3]=y,d[4]=i):i=d[4],d[5]!==m||d[6]!==c||d[7]!==p||d[8]!==u?(r=p&&(0,l.jsx)(_.l,{title:`${m} authors`,onClose:()=>{f(!1),setTimeout(()=>h.current?.focus(),25)},width:"medium",height:m>=12?"small":"auto",renderBody:()=>(0,l.jsx)(S.l,{sx:{overflowY:"auto",py:2},"data-testid":"contributor-dialog-list",children:c.map((e,n)=>(0,l.jsx)(w,{author:e,repo:u},`${e.login}_${n}`))})}),d[5]=m,d[6]=c,d[7]=p,d[8]=u,d[9]=r):r=d[9],d[10]!==i||d[11]!==r?(o=(0,l.jsxs)(l.Fragment,{children:[i,r]}),d[10]=i,d[11]=r,d[12]=o):o=d[12],o}function w(e){let n,a,s,o,c,u,m;let p=(0,t.c)(18),{author:g,repo:f}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",flexDirection:"row",fontSize:1,py:2,color:"fg.default","&:hover":{backgroundColor:"canvas.subtle"}},p[0]=n):n=p[0];let h=g.login??"";p[1]!==f||p[2]!==h?(a=(0,r.jQC)({repo:f,author:h}),p[1]=f,p[2]=h,p[3]=a):a=p[3];let y=g.avatarUrl,b=g.login??g.displayName;p[4]===Symbol.for("react.memo_cache_sentinel")?(s={mr:2},p[4]=s):s=p[4],p[5]!==g?(o=d(g),p[5]=g,p[6]=o):o=p[6],p[7]!==g.avatarUrl||p[8]!==b||p[9]!==o?(c=(0,l.jsx)(i.r,{src:y,alt:b,sx:s,"aria-hidden":"true",square:o}),p[7]=g.avatarUrl,p[8]=b,p[9]=o,p[10]=c):c=p[10];let k=g.login??g.displayName??"",v=g.login??g.displayName;return p[11]!==v||p[12]!==k?(u=(0,l.jsx)(x.A,{inline:!0,title:k,children:v}),p[11]=v,p[12]=k,p[13]=u):u=p[13],p[14]!==u||p[15]!==a||p[16]!==c?(m=(0,l.jsxs)(S.l.LinkItem,{sx:n,"data-testid":"contributor-dialog-row",href:a,children:[c,u]}),p[14]=u,p[15]=a,p[16]=c,p[17]=m):m=p[17],m}try{I.displayName||(I.displayName="AuthorsDialog")}catch{}try{w.displayName||(w.displayName="AuthorRow")}catch{}var F=a(46008);function N(e){let n,a,s;let o=(0,t.c)(11),{authors:c,onBehalfOf:u}=e,m=b();if(o[0]!==m||o[1]!==c){let e;o[3]!==m?(e=(e,n)=>(0,l.jsx)(i.r,{"data-testid":"commit-stack-avatar",src:e.avatarUrl,alt:e.login??e.displayName,"data-hovercard-url":(0,r.dCN)({owner:e.login??""}),square:d(e),size:m.avatarSize},`${e.login}_${n}`),o[3]=m,o[4]=e):e=o[4],n=c.slice(0,5).map(e),o[0]=m,o[1]=c,o[2]=n}else n=o[2];return o[5]!==m||o[6]!==u?(a=u&&(0,l.jsx)(i.r,{"data-testid":"commit-stack-avatar",src:u.avatarUrl,alt:u.login??u.displayName,"data-hovercard-url":(0,r.qsO)({owner:u.login??""}),square:!0,size:m.avatarSize},`${u.login}_on_behalf_of`),o[5]=m,o[6]=u,o[7]=a):a=o[7],o[8]!==n||o[9]!==a?(s=(0,l.jsxs)(F.A,{children:[n,a]}),o[8]=n,o[9]=a,o[10]=s):s=o[10],s}try{N.displayName||(N.displayName="CommitAuthorStack")}catch{}function L(e){let n,a,i;let d=(0,t.c)(9),{author:c,repo:m,sx:p}=e,g=b();return c?(d[0]!==p?(n={display:"flex",flexDirection:"row",alignItems:"center",...p},d[0]=p,d[1]=n):n=d[1],d[2]!==c||d[3]!==g||d[4]!==m?(a=c.login?(0,l.jsx)(u,{author:c,renderTooltip:g.includeTooltip,children:(0,l.jsx)(s.A,{muted:!0,href:(0,r.jQC)({repo:m,author:c.login}),"aria-label":`commits by ${c.login}`,"data-hovercard-url":(0,r.dCN)({owner:c.login}),sx:{fontWeight:g.fontWeight,whiteSpace:"nowrap",color:g.fontColor,"&:hover":{color:g.fontColor,textDecoration:"underline"}},children:c.login})}):(0,l.jsx)(C,{displayName:c.displayName,authorSettings:g}),d[2]=c,d[3]=g,d[4]=m,d[5]=a):a=d[5],d[6]!==n||d[7]!==a?(i=(0,l.jsx)(o.A,{sx:n,"data-testid":"author-link",children:a}),d[6]=n,d[7]=a,d[8]=i):i=d[8],i):null}try{L.displayName||(L.displayName="AuthorLink")}catch{}var T=a(34164);let A={orgLink:"OrgLink-module__orgLink--pOGLv"};function K(e){let n,a,i,o;let d=(0,t.c)(12),{org:c,className:u}=e;if(!c)return null;d[0]!==u?(n=(0,T.$)("d-flex flex-row flex-items-center",u),d[0]=u,d[1]=n):n=d[1];let m=c.path,p=`${c.login}'s org home page`;return d[2]!==c.login?(a=(0,r.qsO)({owner:c.login}),d[2]=c.login,d[3]=a):a=d[3],d[4]!==c.login||d[5]!==c.path||d[6]!==p||d[7]!==a?(i=(0,l.jsx)(s.A,{muted:!0,href:m,"aria-label":p,"data-hovercard-url":a,className:A.orgLink,children:c.login}),d[4]=c.login,d[5]=c.path,d[6]=p,d[7]=a,d[8]=i):i=d[8],d[9]!==n||d[10]!==i?(o=(0,l.jsx)("div",{className:n,children:i}),d[9]=n,d[10]=i,d[11]=o):o=d[11],o}try{K.displayName||(K.displayName="OrgLink")}catch{}function D(e){let n;let a=(0,t.c)(3),{author:i,repo:r}=e;return a[0]!==i||a[1]!==r?(n=(0,l.jsx)(j,{author:i,repo:r}),a[0]=i,a[1]=r,a[2]=n):n=a[2],n}function E(e){let n,a,i,r,s;let o=(0,t.c)(14),{author:d,committer:c,committerAttribution:u,onBehalfOf:m,repo:p}=e;return o[0]!==d||o[1]!==c||o[2]!==u?(n=[d],c&&u&&n.push(c),o[0]=d,o[1]=c,o[2]=u,o[3]=n):n=o[3],o[4]!==n||o[5]!==m?(a=(0,l.jsx)(N,{authors:n,onBehalfOf:m}),o[4]=n,o[5]=m,o[6]=a):a=o[6],o[7]===Symbol.for("react.memo_cache_sentinel")?(i={pl:1},o[7]=i):i=o[7],o[8]!==d||o[9]!==p?(r=(0,l.jsx)(L,{author:d,repo:p,sx:i}),o[8]=d,o[9]=p,o[10]=r):r=o[10],o[11]!==a||o[12]!==r?(s=(0,l.jsxs)(l.Fragment,{children:[a,r]}),o[11]=a,o[12]=r,o[13]=s):s=o[13],s}function P(e){let n,a,i;let r=(0,t.c)(12),{authors:s,onBehalfOf:o,repo:d}=e;if(r[0]!==s||r[1]!==o?(n=(0,l.jsx)(N,{authors:s,onBehalfOf:o}),r[0]=s,r[1]=o,r[2]=n):n=r[2],r[3]!==s||r[4]!==d){let e;r[6]!==s.length||r[7]!==d?(e=(e,n)=>(0,l.jsxs)(g.Fragment,{children:[(0,l.jsx)(L,{author:e,repo:d,sx:{pl:1}}),n!==s.length-1&&(0,l.jsx)("span",{className:"pl-1",children:"and"})]},`${e.login}_${n}`),r[6]=s.length,r[7]=d,r[8]=e):e=r[8],a=s.map(e),r[3]=s,r[4]=d,r[5]=a}else a=r[5];return r[9]!==n||r[10]!==a?(i=(0,l.jsxs)(l.Fragment,{children:[n,a]}),r[9]=n,r[10]=a,r[11]=i):i=r[11],i}function R(e){let n,a,i;let r=(0,t.c)(9),{authors:s,onBehalfOf:o,repo:d}=e;return r[0]!==s||r[1]!==o?(n=(0,l.jsx)(N,{authors:s,onBehalfOf:o}),r[0]=s,r[1]=o,r[2]=n):n=r[2],r[3]!==s||r[4]!==d?(a=(0,l.jsx)(I,{authors:s,repo:d}),r[3]=s,r[4]=d,r[5]=a):a=r[5],r[6]!==n||r[7]!==a?(i=(0,l.jsxs)(l.Fragment,{children:[n,a]}),r[6]=n,r[7]=a,r[8]=i):i=r[8],i}function M(e){let n,a,i,r,s,d,c,u,m;let p=(0,t.c)(42),{authors:g,committer:f,committerAttribution:h,onBehalfOf:b,repo:k,children:x,includeVerbs:v,authorSettings:C,textVariant:j}=e,S=void 0===v||v,_=1===g.length&&!h&&!b,I=1===g.length&&(h||b),w=2===g.length&&!h,F=!_&&!I&&!w,N=g[0],L=S?"pl-1":"";p[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",flexDirection:"row",flexWrap:["wrap","wrap","wrap","nowrap"],alignItems:"center"},p[0]=n):n=p[0];let T="muted"===(void 0===j?"default":j)?"color-fg-muted":"";p[1]!==N||p[2]!==k||p[3]!==_?(a=_&&N&&(0,l.jsx)(D,{author:N,repo:k}),p[1]=N,p[2]=k,p[3]=_,p[4]=a):a=p[4],p[5]!==I||p[6]!==f||p[7]!==h||p[8]!==N||p[9]!==b||p[10]!==k?(i=I&&N&&(0,l.jsx)(E,{author:N,committer:f,committerAttribution:h,onBehalfOf:b,repo:k}),p[5]=I,p[6]=f,p[7]=h,p[8]=N,p[9]=b,p[10]=k,p[11]=i):i=p[11],p[12]!==g||p[13]!==w||p[14]!==b||p[15]!==k?(r=w&&(0,l.jsx)(P,{authors:g,onBehalfOf:b,repo:k}),p[12]=g,p[13]=w,p[14]=b,p[15]=k,p[16]=r):r=p[16],p[17]!==g||p[18]!==F||p[19]!==b||p[20]!==k?(s=F&&(0,l.jsx)(R,{authors:g,onBehalfOf:b,repo:k}),p[17]=g,p[18]=F,p[19]=b,p[20]=k,p[21]=s):s=p[21];let A=h||!1;return p[22]!==f||p[23]!==S||p[24]!==k||p[25]!==A||p[26]!==L?(d=(0,l.jsx)(V,{committer:f,committerAttribution:A,includeVerbs:S,repo:k,verbClass:L}),p[22]=f,p[23]=S,p[24]=k,p[25]=A,p[26]=L,p[27]=d):d=p[27],p[28]!==b?(c=b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"pl-1",children:"on behalf of"}),(0,l.jsx)(K,{org:b,className:"pl-1"})]}),p[28]=b,p[29]=c):c=p[29],p[30]!==C||p[31]!==x||p[32]!==d||p[33]!==c||p[34]!==a||p[35]!==i||p[36]!==r||p[37]!==s?(u=(0,l.jsxs)(y,{authorSettings:C,children:[a,i,r,s,d,c,x]}),p[30]=C,p[31]=x,p[32]=d,p[33]=c,p[34]=a,p[35]=i,p[36]=r,p[37]=s,p[38]=u):u=p[38],p[39]!==u||p[40]!==T?(m=(0,l.jsx)(o.A,{sx:n,className:T,children:u}),p[39]=u,p[40]=T,p[41]=m):m=p[41],m}function V(e){let n=(0,t.c)(19),{committer:a,committerAttribution:i,includeVerbs:r,repo:s,verbClass:o}=e;if(a&&a.isGitHub){let e;let a=r&&"authored";return n[0]!==a||n[1]!==o?(e=(0,l.jsx)("span",{className:o,children:a}),n[0]=a,n[1]=o,n[2]=e):e=n[2],e}if(i){let e,t,i,d,c;let u=r?"authored and":"and";n[6]!==u?(e=(0,l.jsx)("span",{className:"pl-1",children:u}),n[6]=u,n[7]=e):e=n[7],n[8]===Symbol.for("react.memo_cache_sentinel")?(t={pl:1},n[8]=t):t=n[8],n[9]!==a||n[10]!==s?(i=(0,l.jsx)(L,{author:a,repo:s,sx:t}),n[9]=a,n[10]=s,n[11]=i):i=n[11];let m=r&&"committed";return n[12]!==m||n[13]!==o?(d=(0,l.jsx)("span",{className:o,children:m}),n[12]=m,n[13]=o,n[14]=d):d=n[14],n[15]!==e||n[16]!==i||n[17]!==d?(c=(0,l.jsxs)(l.Fragment,{children:[e,i,d]}),n[15]=e,n[16]=i,n[17]=d,n[18]=c):c=n[18],c}{let e;let a=r&&"committed";return n[3]!==a||n[4]!==o?(e=(0,l.jsx)("span",{className:o,children:a}),n[3]=a,n[4]=o,n[5]=e):e=n[5],e}}try{D.displayName||(D.displayName="SingleAuthor")}catch{}try{E.displayName||(E.displayName="AuthorByline")}catch{}try{P.displayName||(P.displayName="TwoAuthors")}catch{}try{R.displayName||(R.displayName="MultipleAuthors")}catch{}try{M.displayName||(M.displayName="CommitAttribution")}catch{}try{V.displayName||(V.displayName="AuthoredOrCommitted")}catch{}},76373:(e,n,a)=>{a.d(n,{xC:()=>j,B6:()=>I,ym:()=>N});var l=a(74848),t=a(21728),i=a(38621),r=a(55847),s=a(87330),o=a(30729),d=a(94977),c=a(96540),u=a(34164),m=a(75177),p=a(63867),g=a(74144),f=a(62456),h=a(34614),y=a(42522),b=a(52464);function k(e){let n,a,r,s,o,d,c,u,p,g,k,x,v,C,j,S,_,I,w;let F=(0,t.c)(43),{checkRun:N}=e;F[0]!==N.icon?(n=function(e){switch(e){case"check":return(0,l.jsx)(i.CheckIcon,{className:"fgColor-success my-0 mx-2 flex-self-center"});case"dot-fill":return(0,l.jsx)(i.DotFillIcon,{className:"fgColor-attention my-0 mx-2 flex-self-center"});case"stop":return(0,l.jsx)(i.StopIcon,{className:"fgColor-muted my-0 mx-2 flex-self-center"});case"issue-reopened":return(0,l.jsx)(i.IssueReopenedIcon,{className:"fgColor-muted my-0 mx-2 flex-self-center"});case"clock":return(0,l.jsx)(i.ClockIcon,{className:"fgColor-attention my-0 mx-2 flex-self-center"});case"square-fill":return(0,l.jsx)(i.SquareFillIcon,{className:"fgColor-default my-0 mx-2 flex-self-center"});case"skip":return(0,l.jsx)(i.SkipIcon,{className:"fgColor-muted my-0 mx-2 flex-self-center"});case"alert":return(0,l.jsx)(i.AlertIcon,{className:"fgColor-danger my-0 mx-2 flex-self-center"});default:return(0,l.jsx)(i.XIcon,{className:"fgColor-danger my-0 mx-2 flex-self-center"})}}(N.icon),F[0]=N.icon,F[1]=n):n=F[1];let L=n,T="in_progress"===N.state;return F[2]===Symbol.for("react.memo_cache_sentinel")?(a={display:"flex",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"border.default",backgroundColor:"canvas.subtle",py:2,pr:3,pl:"12px",alignItems:"center"},F[2]=a):a=F[2],F[3]===Symbol.for("react.memo_cache_sentinel")?(r={alignSelf:"center",display:"flex"},F[3]=r):r=F[3],F[4]!==L||F[5]!==T?(s=T?(0,l.jsx)(m.A,{sx:{height:"16px",width:"16px",minWidth:"16px",alignSelf:"center",mx:"7px"},children:(0,l.jsxs)("svg",{fill:"none",viewBox:"0 0 16 16",className:"anim-rotate","aria-hidden":"true",role:"img",children:[(0,l.jsx)("path",{opacity:".5",d:"M8 15A7 7 0 108 1a7 7 0 000 14v0z",stroke:"#dbab0a",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M15 8a7 7 0 01-7 7",stroke:"#dbab0a",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M8 12a4 4 0 100-8 4 4 0 000 8z",fill:"#dbab0a"})]})}):(0,l.jsx)(l.Fragment,{children:L}),F[4]=L,F[5]=T,F[6]=s):s=F[6],F[7]===Symbol.for("react.memo_cache_sentinel")?(o={mr:2},F[7]=o):o=F[7],F[8]!==N.avatarBackgroundColor?(d={backgroundColor:N.avatarBackgroundColor},F[8]=N.avatarBackgroundColor,F[9]=d):d=F[9],F[10]!==N.avatarLogo||F[11]!==d?(c=(0,l.jsx)(f.r,{square:!0,src:N.avatarLogo,sx:d}),F[10]=N.avatarLogo,F[11]=d,F[12]=c):c=F[12],F[13]!==N.avatarUrl||F[14]!==c?(u=(0,l.jsx)(h.A,{href:N.avatarUrl,sx:o,"aria-label":"Avatar",children:c}),F[13]=N.avatarUrl,F[14]=c,F[15]=u):u=F[15],F[16]!==N.avatarDescription||F[17]!==u?(p=(0,l.jsx)(y.m,{text:N.avatarDescription,direction:"e",children:u}),F[16]=N.avatarDescription,F[17]=u,F[18]=p):p=F[18],F[19]!==s||F[20]!==p?(g=(0,l.jsxs)(m.A,{sx:r,children:[s,p]}),F[19]=s,F[20]=p,F[21]=g):g=F[21],F[22]===Symbol.for("react.memo_cache_sentinel")?(k={fontSize:"13px",color:"fg.muted"},F[22]=k):k=F[22],F[23]===Symbol.for("react.memo_cache_sentinel")?(x={fontWeight:"bold",color:"fg.default",mr:"2px"},F[23]=x):x=F[23],F[24]!==N.name?(v=(0,l.jsxs)(b.A,{sx:x,children:[N.name," "]}),F[24]=N.name,F[25]=v):v=F[25],F[26]!==N.additionalContext||F[27]!==N.pending?(C=N.pending?(0,l.jsx)(b.A,{sx:{fontStyle:"italic"},children:N.additionalContext}):N.additionalContext,F[26]=N.additionalContext,F[27]=N.pending,F[28]=C):C=F[28],F[29]!==N.description||F[30]!==N.pending?(j=N.description&&(0,l.jsxs)("span",{children:[" ","- ",N.pending?(0,l.jsx)(b.A,{sx:{fontStyle:"italic"},children:N.description}):N.description]}),F[29]=N.description,F[30]=N.pending,F[31]=j):j=F[31],F[32]!==v||F[33]!==C||F[34]!==j?(S=(0,l.jsxs)(b.A,{sx:k,children:[v,C,j]}),F[32]=v,F[33]=C,F[34]=j,F[35]=S):S=F[35],F[36]===Symbol.for("react.memo_cache_sentinel")?(_={pl:"12px",fontSize:"13px",marginLeft:"auto"},F[36]=_):_=F[36],F[37]!==N.targetUrl?(I=(0,l.jsx)(h.A,{href:N.targetUrl,sx:_,children:"Details"}),F[37]=N.targetUrl,F[38]=I):I=F[38],F[39]!==g||F[40]!==S||F[41]!==I?(w=(0,l.jsxs)(m.A,{"data-testid":"check-run-item",as:"li",sx:a,children:[g,S,I]}),F[39]=g,F[40]=S,F[41]=I,F[42]=w):w=F[42],w}try{k.displayName||(k.displayName="CheckRunItem")}catch{}function x(e){let n,a,i;let r=(0,t.c)(5),{checkRuns:s}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",flexDirection:"column",maxHeight:["230px","380px"],overflow:"auto"},r[0]=n):n=r[0],r[1]!==s?(a=s.map(v),r[1]=s,r[2]=a):a=r[2],r[3]!==a?(i=(0,l.jsx)(m.A,{as:"ul",sx:n,children:a}),r[3]=a,r[4]=i):i=r[4],i}function v(e,n){return(0,l.jsx)(k,{checkRun:e},n)}try{x.displayName||(x.displayName="ChecksStatusBadgeFooter")}catch{}function C(e){let n=(0,t.c)(4),{checksHeaderState:a}=e;switch(a){case"SUCCEEDED":{let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(b.A,{sx:{fontWeight:"bold",fontSize:2},children:"All checks have passed"}),n[0]=e):e=n[0],e}case"FAILED":{let e;return n[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(b.A,{sx:{color:"var(--fgColor-danger, var(--color-danger-fg))",fontWeight:"bold",fontSize:2},children:"All checks have failed"}),n[1]=e):e=n[1],e}case"PENDING":{let e;return n[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(b.A,{sx:{color:"var(--fgColor-attention, var(--color-attention-fg))",fontWeight:"bold",fontSize:2},children:"Some checks haven\u2019t completed yet"}),n[2]=e):e=n[2],e}default:{let e;return n[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(b.A,{sx:{color:"var(--fgColor-danger, var(--color-danger-fg))",fontWeight:"bold",fontSize:2},children:"Some checks were not successful"}),n[3]=e):e=n[3],e}}}try{C.displayName||(C.displayName="HeaderState")}catch{}function j(e){let n,a;let i=(0,t.c)(7),{combinedStatus:r,isOpen:s,onDismiss:o}=e;i[0]!==r?(n=r?(0,l.jsx)(C,{checksHeaderState:r.checksHeaderState}):"Loading...",i[0]=r,i[1]=n):n=i[1];let d=n;return i[2]!==r||i[3]!==s||i[4]!==o||i[5]!==d?(a=s?(0,l.jsx)(g.l,{onClose:o,sx:{overflowY:"auto",backgroundColor:"canvas.default",boxShadow:"none",border:"1px solid",borderColor:"border.default",borderBottom:0},title:d,subtitle:r?r.checksStatusSummary:void 0,width:"xlarge",renderBody:()=>(0,l.jsx)(g.l.Body,{sx:{padding:0},children:r?(0,l.jsx)(x,{checkRuns:r.checkRuns}):(0,l.jsx)(m.A,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,l.jsx)(p.A,{size:"medium"})})})}):null,i[2]=r,i[3]=s,i[4]=o,i[5]=d,i[6]=a):a=i[6],a}try{j.displayName||(j.displayName="CheckStatusDialog")}catch{}let S={success:{circled:i.CheckCircleIcon,filled:i.CheckCircleFillIcon,default:i.CheckIcon,color:"var(--bgColor-success-emphasis, var(--color-success-emphasis))"},pending:{circled:i.CircleIcon,filled:i.DotFillIcon,default:i.DotFillIcon,color:"var(--bgColor-attention-emphasis, var(--color-scale-yellow-4))"},failure:{circled:i.XCircleIcon,filled:i.XCircleFillIcon,default:i.XIcon,color:"var(--bgColor-danger-emphasis, var(--color-scale-red-4))"},error:{circled:i.QuestionIcon,filled:i.QuestionIcon,default:i.QuestionIcon,color:"var(--fgColor-muted, var(--color-canvas-subtle))"}};function _(e){let n,a,i,r,s;let m=(0,t.c)(19),{className:p,descriptionText:g,icon:f,iconColor:h,tooltipText:y}=e,b=(0,c.useId)(),k=y?b:void 0,x=y?void 0:g||"See all checks";m[0]!==h?(n={color:h},m[0]=h,m[1]=n):n=m[1],m[2]!==f||m[3]!==k||m[4]!==x||m[5]!==n?(a=(0,l.jsx)(o.A,{"aria-labelledby":k,icon:f,"aria-label":x,sx:n}),m[2]=f,m[3]=k,m[4]=x,m[5]=n,m[6]=a):a=m[6];let v=a;if(y){let e;m[7]!==v||m[8]!==b||m[9]!==y?(e=(0,l.jsx)(d.A,{id:b,"aria-label":y,direction:"e",children:v}),m[7]=v,m[8]=b,m[9]=y,m[10]=e):e=m[10],v=e}return m[11]!==p?(i=(0,u.$)(p,"d-flex flex-items-center gap-1"),m[11]=p,m[12]=i):i=m[12],m[13]!==g?(r=g&&(0,l.jsxs)("span",{children:[" ",g]}),m[13]=g,m[14]=r):r=m[14],m[15]!==v||m[16]!==i||m[17]!==r?(s=(0,l.jsxs)("span",{className:i,"data-testid":"checks-status-badge-icon-only",children:[v,r]}),m[15]=v,m[16]=i,m[17]=r,m[18]=s):s=m[18],s}function I(e){let n,a,i,o;let u=(0,t.c)(27),{statusRollup:m,combinedStatus:p,variant:g,disablePopover:f,buttonSx:h,size:y,descriptionText:b,onWillOpenPopup:k}=e,x=void 0===g?"default":g,v=void 0===y?"medium":y,C=void 0===b?"":b,[I,w]=(0,c.useState)(!1),F=(0,c.useId)(),N=(0,c.useRef)(null),L=S[m],T=L?.[x]||S.error[x],A=L?.color||S.error.color;u[0]!==T||u[1]!==A?(n={icon:T,iconColor:A},u[0]=T,u[1]=A,u[2]=n):n=u[2];let{icon:K,iconColor:D}=n;if("error"===m){let e;let n=f?void 0:"p-1";return u[3]!==K||u[4]!==D||u[5]!==n?(e=(0,l.jsx)(_,{className:n,descriptionText:"?/?",icon:K,iconColor:D,tooltipText:"There was an error retrieving checks status"}),u[3]=K,u[4]=D,u[5]=n,u[6]=e):e=u[6],e}if(f){let e;return u[7]!==C||u[8]!==K||u[9]!==D?(e=(0,l.jsx)(_,{descriptionText:C,icon:K,iconColor:D}),u[7]=C,u[8]=K,u[9]=D,u[10]=e):e=u[10],e}return u[11]!==h||u[12]!==p?.checksStatusSummary||u[13]!==C||u[14]!==k||u[15]!==K||u[16]!==D||u[17]!==v||u[18]!==m||u[19]!==F?(a=C?(0,l.jsx)(r.Q,{"data-testid":"checks-status-badge-button",leadingVisual:K,variant:"invisible",size:v,"aria-label":p?.checksStatusSummary??`Status checks: ${m}`,sx:{p:1,color:"fg.default",fontWeight:"normal",svg:{color:D},...h},ref:N,onClick:()=>{k?.(),w(!0)},children:C}):(0,l.jsx)(d.A,{id:F,"aria-label":p?.checksStatusSummary??m,direction:"se",sx:{mr:2},children:(0,l.jsx)(s.K,{unsafeDisableTooltip:!0,"data-testid":"checks-status-badge-icon",icon:K,variant:"invisible",size:v,"aria-labelledby":F,sx:{py:0,px:0,svg:{color:D},":hover:not([disabled])":{bg:"pageHeaderBg"},...h},ref:N,onClick:()=>{k?.(),w(!0)}})}),u[11]=h,u[12]=p?.checksStatusSummary,u[13]=C,u[14]=k,u[15]=K,u[16]=D,u[17]=v,u[18]=m,u[19]=F,u[20]=a):a=u[20],u[21]!==p||u[22]!==I?(i=I&&(0,l.jsx)(j,{combinedStatus:p,isOpen:I,onDismiss:()=>{w(!1),setTimeout(()=>{N.current?.focus()},0)}}),u[21]=p,u[22]=I,u[23]=i):i=u[23],u[24]!==a||u[25]!==i?(o=(0,l.jsxs)(l.Fragment,{children:[a,i]}),u[24]=a,u[25]=i,u[26]=o):o=u[26],o}try{_.displayName||(_.displayName="IconOnlyStatus")}catch{}try{I.displayName||(I.displayName="ChecksStatusBadge")}catch{}var w=a(5796),F=a(57572);function N(e,n){let a,l;let i=(0,t.c)(7),[r,s]=(0,c.useState)(),[o,d]=(0,c.useState)();i[0]!==e||i[1]!==o||i[2]!==n?(a=async()=>{if(o!==e&&(d(e),s(void 0),e)){let a=(0,w.vki)(n,e),l=await (0,F.lS)(a);s(await l.json())}},i[0]=e,i[1]=o,i[2]=n,i[3]=a):a=i[3];let u=a;return i[4]!==r||i[5]!==u?(l=[r,u],i[4]=r,i[5]=u,i[6]=l):l=i[6],l}},79740:(e,n,a)=>{a.d(n,{X:()=>d});var l=a(17908),t=a(5796),i=a(86365),r=a(57572),s=a(53526),o=a(96540);function d(){let e=(0,l.t)(),n=(0,s.S)(),a=(0,i.B)(),{commit:d}=a,c=`/${(0,t.QU3)(e.ownerLogin)}/${(0,t.QU3)(e.name)}/commit_comment`,u=`${c}/create`,m=(0,o.useCallback)(async(e,n,a)=>{let l=new FormData;l.append("commit_id",d.oid),l.append("comment[body]",e),n&&a&&(l.append("path",n),l.append("position",a.toString()));let t=await (0,r.DI)(u,{method:"POST",body:l});return t.ok?{error:null,comment:(await t.json()).comment}:{error:Error("Failed to add comment"),comment:null}},[d.oid,u]),p=(0,o.useCallback)(async(e,n)=>{let a=new FormData;a.append("_method","put"),a.append("commit_comment[id]",n.id.toString()),a.append("commit_comment[body]",e),a.append("commit_comment[bodyVersion]",n.bodyVersion);let l=await (0,r.DI)(c,{method:"POST",body:a});if(!l.ok)return{error:Error("Failed to edit comment"),updatedFields:null};{let e=await l.json();return{error:null,updatedFields:{body:e.source,bodyVersion:e.bodyVersion,htmlBody:e.body}}}},[c]),g=(0,o.useCallback)(async e=>{if(!await n({content:"Are you sure you want to delete this comment?",title:"Delete comment",confirmButtonContent:"Delete",confirmButtonType:"danger"}))return"canceled";let a=new FormData;return(a.append("_method","delete"),a.append("commit_comment[id]",e),(await (0,r.DI)(c,{method:"POST",body:a})).ok)?"success":"error"},[c,n]),f=(0,o.useCallback)(async(e,n)=>{let a=new FormData;return(a.append("_method","put"),a.append("classifier",n),(await (0,r.DI)(`${c}/${e}/minimize`,{method:"POST",body:a,headers:{Accept:"application/json"}})).ok)?"success":"error"},[c]),h=(0,o.useCallback)(async e=>{let n=new FormData;return(n.append("_method","put"),(await (0,r.DI)(`${c}/${e}/unminimize`,{method:"POST",body:n,headers:{Accept:"application/json"}})).ok)?"success":"error"},[c]);return(0,o.useMemo)(()=>({addComment:m,commentBoxConfig:{pasteUrlsAsPlainText:a.pasteUrlLinkAsPlainText,useMonospaceFont:a.useMonospaceFont},editComment:p,deleteComment:g,hideComment:f,unhideComment:h}),[m,a.pasteUrlLinkAsPlainText,a.useMonospaceFont,g,p,f,h])}},9916:(e,n,a)=>{a.d(n,{D:()=>t});var l=a(38359);function t(){return(0,l.X)()}},74493:(e,n,a)=>{a.d(n,{I:()=>c,p:()=>m});var l=a(5796),t=a(46584),i=a(47584),r=a(57572),s=a(96540),o=a(43732),d=a(55833);function c({repo:e,commit:n,viewerCanReply:a,getInlineCommentInfoByPathAndPosition:i}){let{addComments:d}=(0,o.B)(),{diff_inline_comments:c}=(0,t.h)();return(0,s.useCallback)((t,s)=>new Promise(async(o,m)=>{let[p,g]=t.split("::");if(!p||!g){m(Error("Invalid threadId"));return}if(c&&!s){let l=i(p,Number(g));o(l?u(l,n,e,a,t):void 0);return}let f=await (0,r.lS)(`${(0,l.MLt)({owner:e.ownerLogin,repo:e.name,commitOid:n.oid,path:p,position:g})}${s?"&isRefetch=true":""}`);if(f.ok){let l=await f.json();d(l.comments,p,g),o(l.comments?u(l.comments,n,e,a,t):void 0)}else m(Error("Failed to fetch thread"))}),[d,n,c,i,e,a])}function u(e,n,a,l,t){return{commentsData:{comments:e.map(e=>m(e,n,a))},id:t,viewerCanReply:l}}function m(e,n,a){return{publishedAt:void 0,state:"",viewerRelationship:"",id:e.relayId,databaseId:e.id,body:e.body,bodyHTML:e.htmlBody,createdAt:e.createdAt,url:`${i.cg?.location.origin}${(0,l.$Qz)({owner:a.ownerLogin,repo:a.name,commitish:n.oid})}#${e.urlFragment}`,currentDiffResourcePath:`#${e.urlFragment}`,authorAssociation:e.authorAssociation?.toUpperCase(),author:{id:e.author.id,login:e.author.login,avatarUrl:e.author.avatarUrl,url:""},isHidden:e.isHidden,lastUserContentEdit:e.lastUserContentEdit,minimizedReason:e.minimizedReason,subjectType:"commit",viewerCanMinimize:e.viewerCanMinimize,viewerCanSeeMinimizeButton:e.viewerCanMinimize,viewerCanSeeUnminimizeButton:e.viewerCanMinimize,viewerCanDelete:e.viewerCanDelete,viewerCanUpdate:e.viewerCanUpdate,viewerCanReact:e.viewerCanReact,viewerCanReport:e.viewerCanReport,viewerCanReportToMaintainer:e.viewerCanReportToMaintainer,viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,viewerDidAuthor:e.viewerDidAuthor,reactionGroups:e.reactionGroups,reference:{number:void 0,text:(0,d.F)(n.oid),author:{login:n.authors.length>0?n.authors[0]?.login??"":""}},repository:{id:a.id.toString(),isPrivate:a.private,name:a.name,owner:{id:a.ownerLogin,login:a.ownerLogin,url:""}}}}},95017:(e,n,a)=>{a.d(n,{I:()=>o,d_:()=>d,wu:()=>s});var l=a(56366),t=a(57572),i=a(96540),r=a(82169);function s(e,n){let[a,s]=(0,i.useState)(r.UI);return(0,i.useEffect)(()=>{if(!e)return;let n=!1;return(async()=>{s(r.UI);let a=await (0,t.Sr)((0,l.RD)(e));if(!n)try{if(a.ok){let e=await a.json();e.loading=!1,e&&((0,l.Av)(e),s(e))}else s(r.Xx)}catch{s(r.Xx)}})(),function(){n=!0}},[e,n]),a}function o(e){let[n,a]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{e&&(async()=>{let n=await (0,t.Sr)((0,l.RD)(e));try{if(n.ok){let e=await n.json();e&&((0,l.Av)(e),a(e.data))}}catch{}})()},[e]),n}function d(e,n,a,l){let[s,o]=(0,i.useState)(r.UI),d=(0,i.useRef)([...Array(a)]),c=(0,i.useRef)(n);return(0,i.useEffect)(()=>{if(!e)return;let a=!1;async function l(n){let i=await (0,t.Sr)(`${e}?start_entry=${n}`);if(!a)try{if(i.ok){let e=await i.json();if(e){let n=0;for(let a=c.current;a<e.nextIndex;a++)d.current[a]=e.deferredCommits[n],n++;e.deferredCommits=d.current,e.loadMore&&c.current!==e.nextIndex?(c.current=e.nextIndex,e.error=!1,o(e),setTimeout(()=>l(e.nextIndex),0)):(c.current===e.nextIndex?e.error=!0:e.error=!1,o(e))}}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:d.current}))}catch{o(e=>({...e,loading:!1,deferredCommits:d.current}))}}return l(n),function(){a=!0}},[e,l,n]),(0,i.useEffect)(()=>{d.current=[],c.current=n},[e,l,n]),s}},55833:(e,n,a)=>{a.d(n,{F:()=>l});function l(e){return e.slice(0,7)}},74779:(e,n,a)=>{a.d(n,{N:()=>l});function l(e,n){return"d28fac7f18aeacb00d8ad3460a0a5a901617c2d4"===e&&0xf122a7===n}},82431:(e,n,a)=>{a.d(n,{Su:()=>t.S,uo:()=>Y.u,dE:()=>V,c7:()=>R,UA:()=>O.U,yF:()=>q,cT:()=>Q,i4:()=>X.i,nN:()=>Y.n,L4:()=>J.L});var l=a(22025);a(80765);var t=a(97745),i=a(74848),r=a(73218),s=a(85349),o=a(75177),d=a(63867),c=a(16255),u=a(96540),m=a(56126),p=a(38621),g=a(87330),f=a(33563),h=a(52464);function y({markerId:e,markers:n}){let a=n.findIndex(n=>n.id===e);return(0,i.jsxs)(h.A,{sx:{color:"fg.muted"},children:[(0,i.jsx)(h.A,{sx:{fontWeight:500,color:"fg.default"},children:a+1})," of"," ",(0,i.jsx)(h.A,{sx:{fontWeight:500,color:"fg.default"},children:n.length})]})}function b({markerId:e,markerNavigationImplementation:n,onNavigate:a}){let{incrementActiveMarker:l,decrementActiveMarker:t,filteredMarkers:r}=n;return r.find(n=>n.id===e)&&r.length>1?(0,i.jsxs)(o.A,{sx:{pr:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i.jsx)(g.K,{unsafeDisableTooltip:!0,"aria-label":"Load previous marker",icon:p.ChevronLeftIcon,variant:"invisible",onClick:()=>{t(e),a()}}),(0,i.jsx)(g.K,{unsafeDisableTooltip:!0,"aria-label":"Load next marker",icon:p.ChevronRightIcon,variant:"invisible",onClick:()=>{l(e),a()}}),(0,i.jsx)(o.A,{sx:{ml:1},children:(0,i.jsx)(y,{markerId:e,markers:r})})]}):null}try{y.displayName||(y.displayName="MarkerPosition")}catch{}try{b.displayName||(b.displayName="GlobalMarkerNavigation")}catch{}function k({annotation:e,markerNavigationImplementation:n,onClose:a}){return(0,i.jsxs)(o.A,{sx:{width:"clamp(240px, 100vw, 540px)"},children:[(0,i.jsx)(o.A,{sx:{borderBottom:"1px solid",borderBottomColor:"border.default",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",p:1,background:"canvas.default"},children:(0,i.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},children:[(0,i.jsx)(b,{markerId:e.id,markerNavigationImplementation:n,onNavigate:a}),(0,i.jsx)(o.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:(0,i.jsx)(g.K,{unsafeDisableTooltip:!0,"aria-label":"Close annotation",icon:p.XIcon,variant:"invisible",onClick:a})})]})}),(0,i.jsx)(f.Y,{annotation:e})]})}try{k.displayName||(k.displayName="AnnotationDialog")}catch{}var x=a(52655),v=a(62456),C=a(89323),j=a(8338),S=a(30729),_=a(82126);function I({anchorRef:e,annotations:n,handleOpenChange:a,threads:l,onShowAnnotation:t,onShowCommentThread:r,ghostUser:s=x.t.ghostUser}){function d(e){return{display:"-webkit-box",overflow:"hidden","-webkit-box-orient":"vertical","-webkit-line-clamp":e.toString(),maxWidth:"unset"}}return(0,i.jsx)(C.W,{anchorRef:e,open:!0,onOpenChange:a,children:(0,i.jsx)(C.W.Overlay,{width:"small",children:(0,i.jsx)("div",{children:(0,i.jsxs)(j.l,{children:[n.map(e=>(0,i.jsxs)(j.l.Item,{onSelect:()=>t(e.id),children:[(0,i.jsx)(j.l.LeadingVisual,{sx:{mr:2},children:(0,i.jsx)(_.Xh,{annotationLevel:e.annotationLevel},e.id)}),(0,i.jsxs)(o.A,{sx:{...d(2)},children:[e.checkSuiteName," /"," ",(0,i.jsx)(h.A,{sx:{fontWeight:400,color:"fg.muted"},children:e.checkRun.name})]}),(0,i.jsx)(j.l.Description,{variant:"block",children:(0,i.jsx)(o.A,{sx:{...d(1)},children:e.title})}),(0,i.jsx)(j.l.TrailingVisual,{children:(0,i.jsx)(S.A,{icon:p.ArrowRightIcon})})]},e.id)),l.map(e=>(0,i.jsxs)(j.l.Item,{onSelect:()=>r(e.id),children:[(0,i.jsx)(j.l.LeadingVisual,{sx:{mr:2},children:(0,i.jsx)(v.r,{alt:e.author.login,size:20,src:e.author.avatarUrl??s.avatarUrl})}),"Thread by ",e.author.login,(0,i.jsxs)(j.l.Description,{variant:"block",children:[e.commentCount," comment",e.commentCount>1?"s":""]}),(0,i.jsx)(j.l.TrailingVisual,{children:(0,i.jsx)(S.A,{icon:p.ArrowRightIcon})})]},e.id))]})})})})}try{I.displayName||(I.displayName="MarkersListActionMenu")}catch{}var w=a(67136),F=a(70404),N=a(47139),L=a(42522),T=a(94493);function A({children:e}){return(0,i.jsx)(h.A,{sx:{fontWeight:500,color:"fg.default"},children:e})}function K({thread:e}){return void 0!==e&&e?.diffSide&&e.line?e.startLine&&e.startDiffSide?E({thread:e}):D({thread:e}):null}function D({thread:e}){let n="LEFT"===e.startDiffSide?"L":"R";return(0,i.jsxs)(h.A,{sx:{color:"fg.muted",pl:2},children:["Comment on lines"," ",(0,i.jsxs)(A,{children:[n,e.line]})]})}function E({thread:e}){let n="LEFT"===e.startDiffSide?"L":"R",a="LEFT"===e.diffSide?"L":"R";return(0,i.jsxs)(h.A,{sx:{color:"fg.muted",pl:2},children:["Comment on lines"," ",(0,i.jsxs)(A,{children:[n,e.startLine]})," ","to"," ",(0,i.jsxs)(A,{children:[a,e.line]})]})}function P({commentingImplementation:e,filePath:n,onClose:a,onRefreshThread:l,thread:t,threads:r,threadsConnectionId:s,markerNavigationImplementation:c,ghostUser:m,...f}){let{sendAnalyticsEvent:h}=(0,F.s)(),{resolveThread:y,unresolveThread:k,resolvingEnabled:x}=e,v=r.find(e=>e.id===t.id),C=t.commentsData.comments.length>0,j=!!t.isResolved,{addToast:S}=(0,w.Y6)(),_=v?.commentsConnectionId;return C?(0,i.jsxs)("div",{children:[(0,i.jsx)(o.A,{sx:{borderBottom:"1px solid",borderBottomColor:"border.default",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",p:1,background:"canvas.default"},children:(0,i.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},children:[(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b,{markerId:t.id,markerNavigationImplementation:c,onNavigate:a}),(0,i.jsx)(K,{thread:v})]}),(0,i.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:[j&&(0,i.jsx)(N.A,{variant:"done",size:"large",children:"Resolved"}),x&&(0,i.jsx)(L.m,{text:j?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,i.jsx)(g.K,{"aria-labelledby":"resolve-conversation",unsafeDisableTooltip:!0,icon:j?p.CheckCircleFillIcon:p.CheckCircleIcon,sx:{color:j?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:j?()=>{k({thread:t,onCompleted:()=>l(t.id),onError:()=>{S({type:"error",message:"Failed to unresolve thread"})}}),h("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON")}:()=>{y({thread:t,onCompleted:()=>l(t.id),onError:()=>{S({type:"error",message:"Failed to resolve thread"})}}),h("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON")}})}),(0,i.jsx)(g.K,{unsafeDisableTooltip:!0,"aria-label":"Close thread",icon:p.XIcon,variant:"invisible",onClick:a})]})]})}),(0,i.jsx)(u.Suspense,{fallback:(0,i.jsxs)(o.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,i.jsx)(d.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),children:(0,i.jsx)(T.H,{commentingImplementation:e,commentsConnectionId:_,filePath:n,onRefreshThread:l,thread:t,threadsConnectionId:s,...f,ghostUser:m})})]}):null}try{A.displayName||(A.displayName="Emphasis")}catch{}try{K.displayName||(K.displayName="ThreadBanner")}catch{}try{D.displayName||(D.displayName="SingleLineThreadBanner")}catch{}try{E.displayName||(E.displayName="MultineLineThreadBanner")}catch{}try{P.displayName||(P.displayName="ReviewThreadDialog")}catch{}function R(e){return(0,i.jsx)(m.j,{children:(0,i.jsx)(M,{...e})})}function M({annotations:e,commentingImplementation:n,conversationAnchorRef:a,conversationListAnchorRef:l,conversationListThreads:t,isMarkerListOpen:c,fileAnchor:p,filePath:g,onAnnotationSelected:f,onCloseConversationDialog:h,onCloseConversationList:y,onThreadSelected:b,returnFocusRef:x,selectedAnnotationId:v,selectedThreadId:C,threadsConnectionId:j,markerNavigationImplementation:S,suggestedChangesConfig:_,ghostUser:w,...F}){let{isDialogOpen:N}=(0,m.W)(),[L,T]=(0,u.useState)(),{fetchThread:A}=n,K=(0,u.useCallback)(()=>!N&&h(),[N,h]),D=async e=>{T(void 0);let n=t.find(n=>n.id===e)?.isOutdated;T(await A(e,n))},E=(0,u.useMemo)(()=>{if(p&&L&&L.subject?.startDiffSide&&L.subject?.endDiffSide&&L.subject?.startLine&&L.subject?.endLine&&_?.configureSuggestedChangesFromLineRange){let e=L.subject?.startLine??L?.subject?.endLine,n=L.subject?.startDiffSide??L?.subject?.endDiffSide,a={diffAnchor:p,endLineNumber:L?.subject?.endLine,endOrientation:L.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===n?"left":"right",startOrientation:"LEFT"===n?"left":"right"};return _?.configureSuggestedChangesFromLineRange(a)}},[p,L,_]);(0,u.useEffect)(()=>{!C&&L?T(void 0):C&&C!==L?.id&&D(C)},[A,C]);let R=C||v,M=v?e.find(e=>e.id===v):void 0;return(0,i.jsx)(i.Fragment,{children:R?(0,i.jsx)(s.T,{align:"end",anchorRef:a,focusZoneSettings:{disabled:!0},open:!0,focusTrapSettings:{disabled:!0},renderAnchor:null,overlayProps:{"aria-label":`${C?"Pull Request Review Thread":"Pull Request Check Annotation"}`,id:"conversation-dialog",returnFocusRef:x,role:"dialog",width:"xlarge",preventOverflow:!1,sx:{borderRadius:2},onClickOutside:r.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()},portalContainerName:S.overlayPortalContainerName},onClose:K,children:L?(0,i.jsx)(P,{commentingImplementation:n,filePath:g,thread:L,threads:t,threadsConnectionId:j,onClose:K,onThreadSelected:b,onRefreshThread:D,markerNavigationImplementation:S,suggestedChangesConfig:E,ghostUser:w,...F}):M?(0,i.jsx)(k,{annotation:M,markerNavigationImplementation:S,onClose:K}):(0,i.jsxs)(o.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,i.jsx)(d.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]})}):c&&(0,i.jsx)(I,{anchorRef:l,annotations:e,handleOpenChange:y,threads:t,onShowCommentThread:b,onShowAnnotation:f,ghostUser:w})})}function V({id:e}){let n=(0,u.useRef)(null);return(0,u.useEffect)(()=>{n.current&&(0,c.c)(n.current,e)},[e]),(0,i.jsx)("span",{id:e,ref:n,style:{position:"absolute",top:0,right:0,zIndex:10}})}try{R.displayName||(R.displayName="Markers")}catch{}try{M.displayName||(M.displayName="MarkersInternal")}catch{}try{V.displayName||(V.displayName="MarkerPortalRoot")}catch{}var O=a(8187),B=a(81874),U=a(77433),$=a(44968),H=a(47584),z=a(93345);function q({isAnchorable:e=!1,index:n=0,isLastChild:a,anchorPrefix:l="r",comment:t,commentingImplementation:s,filePath:d,hideActions:c,enterDialogMode:m=r.l,onRefreshThread:p,onQuoteReply:g=r.l,threadCommentCount:f,threadId:h,threadsConnectionId:y,ghostUser:b=x.t.ghostUser}){let{addToast:k}=(0,w.Y6)(),[v,C]=(0,u.useState)(!1),[j,S]=(0,u.useState)(t.isHidden),[_,I]=(0,u.useState)(!1),{deleteComment:F,hideComment:N,unhideComment:L}=s,T=(0,u.useRef)(null),A=(0,u.useRef)(null),K=()=>{T.current?.focus()};(0,u.useEffect)(()=>{if(v){let e=window.setTimeout(K);return()=>{window.clearTimeout(e)}}},[v]);let D=t.currentDiffResourcePath?.split("#r").pop(),E=D?`${l}${D}`:void 0,P=E&&H.fV?new URL(`${H.fV.pathname}#${E}`,H.fV.origin).toString():void 0,R=(0,u.useRef)(null);(0,u.useEffect)(()=>{e&&D&&E&&window.location.hash.split("#").pop()===E&&((0,z.p)(D,l),m?.(!1),R.current?.focus())},[l,E,D,m,e]);let M={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},V=n>0,O=n>1,q={headingProps:{as:"h3"},avatarUrl:t.author?.avatarUrl??b.avatarUrl,comment:{...t,url:P??"",referenceText:t.reference.text??`#${t.reference.number}`},commentRef:R,deleteComment:()=>{F({commentId:t.id,onCompleted:()=>{p?.(h)},onError:()=>{I(!1),k({type:"error",message:"Failed to delete comment"})},threadCommentCount:f,threadId:h,threadsConnectionId:y,filePath:d})},editComment:()=>{C(!0)},editHistoryComponent:void 0,hideComment:e=>{N({commentDatabaseId:t.databaseId,reason:e,onCompleted:()=>{p?.(h)},onError:()=>{I(!1),k({type:"error",message:"Failed to hide comment"})}})},onMinimize:S,isMinimized:j,commentAuthorLogin:t.author?.login??b.login,navigate:r.l,commentSubjectAuthorLogin:t.reference?.author?.login??"",commentSubjectType:s.commentSubjectType,onReplySelect:g,unhideComment:()=>{L({commentDatabaseId:t.databaseId,onCompleted:()=>{p?.(h)},onError:()=>{I(!1),k({type:"error",message:"Failed to unhide comment"})}})},hideActions:c,isReply:V,forceInlineAvatar:!0,containerStyle:{}};return(0,i.jsxs)(o.A,{ref:R,id:e?E:void 0,tabIndex:-1,sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":M,":focus":M,pb:V?0:2},children:[O&&(0,i.jsx)(o.A,{sx:{display:"flex",pl:V?1:0},children:(0,i.jsx)(o.A,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,i.jsx)(o.A,{sx:{px:3,pt:O?0:2,pb:0},children:(0,i.jsx)(B.v,{...q,actions:c?void 0:(0,i.jsx)(U.p,{...q})})}),(0,i.jsxs)(o.A,{sx:{display:"flex",pl:V?1:0},children:[V&&(0,i.jsx)(o.A,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...a&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),(0,i.jsx)(o.A,{sx:V?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:t.bodyHTML&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)($.oG,{ref:A,className:"markdown-body","comment-testid":`Comment body html for comment ${t.id}`,html:t.bodyHTML,sx:{mt:1,fontSize:1}})})})]})]})}try{q.displayName||(q.displayName="ReviewThreadCommentWithoutReactions")}catch{}var G=a(84217);function W({addCommentDialogTitle:e,isLeftSide:n,filePath:a,lineNumber:t,onAddComment:r,onClose:s,viewerData:d,threadsConnectionId:c,showOnCloseIcon:u=!0,...m}){return(0,i.jsxs)(o.A,{sx:{px:2,pb:2,pt:1},children:[(0,i.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)(G.A,{as:"h4",sx:{fontSize:1,ml:2,py:2},children:[(0,i.jsx)(v.r,{alt:d.login,size:24,src:d.avatarUrl||"",sx:{mr:2}}),(0,i.jsx)("span",{children:e??"Add a comment"})]}),s&&u&&(0,i.jsx)(g.K,{unsafeDisableTooltip:!0,variant:"invisible",icon:p.XIcon,onClick:s,"aria-label":"Cancel"})]}),(0,i.jsx)(l.U,{focusOnMount:!0,condensed:!1,fileLevelComment:!1,filePath:a,lineNumber:t,onAddComment:({commentText:e,onCompleted:n,onError:l,submitBatch:t})=>{r({text:e,onError:l,onCompleted:(e,a)=>{a&&(0,z.p)(a.toString()),n?.(e,a)},submitBatch:t,filePath:a,threadsConnectionId:c})},onCancelComment:s,side:n?"LEFT":"RIGHT",...m})]})}try{W.displayName||(W.displayName="StartThreadComment")}catch{}function Q({align:e="end",anchorRef:n,isOpen:a,isDialog:l=!0,returnFocusRef:t,onCloseCommentDialog:o,suggestedChangesConfig:d,...c}){let{sendAnalyticsEvent:m}=(0,F.s)(),p=(0,u.useMemo)(()=>{if(a&&d?.configureSuggestedChangesFromLineRange)return d.configureSuggestedChangesFromLineRange(d?.selectedDiffRowRange,d?.shouldStartNewConversationWithSuggestedChange)},[a,d]);return a?l?(0,i.jsx)(s.T,{align:e,anchorRef:n,focusZoneSettings:{disabled:!0},open:a,renderAnchor:null,focusTrapSettings:{disabled:!0},overlayProps:{id:"conversation-dialog",role:"dialog",width:"xlarge",preventOverflow:!1,returnFocusRef:t,sx:{borderRadius:2},"aria-label":"Add a comment",onClickOutside:r.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}},onClose:o,children:(0,i.jsx)(W,{onClose:()=>{o(),m("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},suggestedChangesConfig:p,...c})}):(0,i.jsx)("div",{className:"rounded-2 bgColor-default",children:(0,i.jsx)(W,{onClose:()=>{o(),m("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON"),H.cg?.requestAnimationFrame(()=>t.current?.focus())},showOnCloseIcon:!1,suggestedChangesConfig:p,...c})}):null}try{Q.displayName||(Q.displayName="StartConversation")}catch{}var X=a(78869),Y=a(38061),J=a(61445);a(42389),r.l,r.l,r.l,r.l,r.l,r.l,r.l,r.l,r.l,r.l,r.l,r.l,r.l,r.l,r.l},93345:(e,n,a)=>{a.d(n,{p:()=>t});var l=a(4460);function t(e,n="r"){(0,l.Zu)(`#${n}${e}`)}},61445:(e,n,a)=>{a.d(n,{L:()=>d});var l=a(80688),t=a(96540);let{getItem:i,removeItem:r,setItem:s}=(0,l.D)("localStorage"),o=(e,n)=>{let{diffSide:a,filePath:l,line:t,subjectId:i}=e;if(n)return`PullRequest:${i}-File:${l}`;if(void 0!==t&&void 0!==a)return`PullRequest:${i}-File:${l}-Line:${t}-DiffSide:${a}`;throw Error("Cannot build diff line comment cache key for a comment without a line number or diff side")};function d({diffSide:e,filePath:n,handlePersistedCommentExists:a,line:l,subjectId:d,threadId:c,fileLevelComment:u}){let m,p;let g=(0,t.useMemo)(()=>c||(c??o({diffSide:e,filePath:n,line:l,subjectId:d},u)),[e,n,l,d,c,u]),{hasPersistedComment:f,removePersistedCommentFromStorage:h}=(m=i(g),p=!!m?.text?.trim(),(0,t.useEffect)(()=>{p&&a?.(m)},[p]),{hasPersistedComment:p,removePersistedCommentFromStorage:()=>{r(g),p=!1,m=null}});return{hasPersistedComment:f,persistCommentToStorage:e=>{let n={text:e.text};e.startLine&&e.startSide&&(n={...n,startLine:e.startLine,startSide:e.startSide}),s(g,n)},removePersistedCommentFromStorage:h}}},70283:(e,n,a)=>{function l(e,n){return n.some(n=>n.commentId===e.commentId&&n.path===e.path&&n.suggestion.length===e.suggestion.length&&t(n.suggestion,e.suggestion))}a.d(n,{EJ:()=>s,Lm:()=>o,c0:()=>l,o_:()=>r});let t=(e,n)=>e.length===n.length&&!e.some((e,a)=>e!==n[a]),i={USER_CANNOT_APPLY_SUGGESTION:"You do not have permission to apply this suggestion.",PULL_REQUEST_IS_CLOSED:"This suggestion cannot be applied because the pull request is closed.",PULL_REQUEST_IS_IN_MERGE_QUEUE:"This suggestion cannot be applied because the pull request is queued to merge.",IS_OUTDATED:"This suggestion is outdated and cannot be applied.",IS_PENDING:"This suggestion is part of a pending comment and cannot be applied.",IS_RESOLVED:"This suggestion is part of a resolved comment and cannot be applied.",UNCHANGED_CODE:"This suggestion is invalid because no changes were made to the code.",INVALID_RANGE:"Unable to commit due to other pending changes affecting this line.",BATCH_TOO_BIG:"Unable to commit due to too many changes in the batch.",DELETED_LINES:"Unable to apply suggestions on deleted lines.",RANGE_NOT_PROVIDED:"This suggestion does not have a valid line range.",UNABLE_TO_DETERMINE_VALIDITY:"Unable to determine the validity of this suggestion."};function r({suggestedChange:e,isOutdated:n,isPending:a,isResolved:l,pullRequestIsClosed:t,pullRequestIsInMergeQueue:r,userCanApplySuggestion:s,applySuggestedChangesValidationData:o,suggestedChangesConfig:d}){let{lineRange:c}=o;if(n)return{isValid:!1,reason:i.IS_OUTDATED};if(a)return{isValid:!1,reason:i.IS_PENDING};if(l)return{isValid:!1,reason:i.IS_RESOLVED};if(t)return{isValid:!1,reason:i.PULL_REQUEST_IS_CLOSED};if(r)return{isValid:!1,reason:i.PULL_REQUEST_IS_IN_MERGE_QUEUE};if(!s)return{isValid:!1,reason:i.USER_CANNOT_APPLY_SUGGESTION};if(!c)return{isValid:!1,reason:i.RANGE_NOT_PROVIDED};if(!d)return{isValid:!1,reason:i.UNABLE_TO_DETERMINE_VALIDITY};if(!d?.isValidSuggestionRange)return{isValid:!1,reason:i.DELETED_LINES};let u=d?.sourceContentFromDiffLines,m=e.suggestion.join("\n");return 0!==e.suggestion.length&&m===u?{isValid:!1,reason:i.UNCHANGED_CODE}:{isValid:!0}}function s(e,n){let a={isValid:!1,reason:i.INVALID_RANGE},l={isValid:!1,reason:i.BATCH_TOO_BIG};return n.length>=50?l:n.find(n=>n.threadId===e.threadId)||function(e,n){for(let t of n)if(e.path===t.path){var a,l;return a=e.lineRange,l=t.lineRange,a.endLineNumber>=l.startLineNumber&&a.startLineNumber<=l.endLineNumber}return!1}(e,n)?a:{isValid:!0}}function o(e){if(!e||"LINE"!==e.subjectType||!e.subject)return;let n=e.subject.startDiffSide??e.subject.endDiffSide;if(!n)return;if(e.isOutdated&&e.subject.originalStartLine&&e.subject.originalEndLine)return{endLineNumber:e.subject.originalEndLine,endOrientation:e.subject.endDiffSide||"RIGHT",startLineNumber:e.subject.originalStartLine,startOrientation:n};if(!e.subject.endLine||!e.subject.endDiffSide)return;let a=e.subject.startLine??e?.subject.endLine;return{endLineNumber:e.subject.endLine,endOrientation:e.subject.endDiffSide,startLineNumber:a,startOrientation:n||"RIGHT"}}},42389:(e,n,a)=>{a.d(n,{U:()=>l});let l={Failure:"FAILURE",Notice:"NOTICE",Warning:"WARNING"}},57259:(e,n,a)=>{a.d(n,{e:()=>l});function l(e){let n=document.querySelector('#__primerPortalRoot__ div[role="dialog"]'),a=document.querySelector(`#${e} div[role="dialog"]`);(n||a)&&document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",code:"Escape",ctrlKey:!0}))}},14614:(e,n,a)=>{function l(e,n){for(let a of function e(n,a=[]){if(""===n)return a;let l=n.match(t());if(!l)return a;let i=l.groups.fence;if(!i)return a;let r=i.includes("~")?"~":"`",s=n.match(function(e,n){let a=t([e],n);return RegExp(`${a.source}(?:\r?
)(?<suggestion>.*?)(?:\r?
)^ {0,3}${e}{${n},}[ 	]*$`,"ms")}(r,i.length));if(!s)return a;let o=0,d=l.groups.indent;""!==d&&(o=d.length);let c=s.groups.suggestion;if(o>0){let e=RegExp(`^ {0,${o}}`,"m");c=c.replace(e,"")}return a.push(c),e(n.slice(s.index+s[0].length),a)}(e))if(a===n)return{isValid:!1,errorMessage:"Suggested change cannot be the same as the original line"};return{isValid:!0,errorMessage:""}}function t(e=["`","~"],n){let a=n?`{${n}}`:"{3,}",l=e.map(e=>`${e}${a}`);return RegExp(`^(?<indent> {0,3})(?<fence>${l.join("|")})suggestion[ 	]*$`,"m")}a.d(n,{u:()=>l})},1977:(e,n,a)=>{a.d(n,{B:()=>f,C:()=>h});var l=a(74848),t=a(21728),i=a(34164),r=a(38621),s=a(34614),o=a(23976),d=a(42522),c=a(84),u=a(69710),m=a(26514);let p={"diff-file-header":"DiffFileHeader-module__diff-file-header--TjXyn",collapsed:"DiffFileHeader-module__collapsed--FPwYM","file-name":"DiffFileHeader-module__file-name--mY1O5"};function g(e){let n,a;let i=(0,t.c)(13),{newPath:s,oldPath:o,status:d}=e;i[0]!==s?(n=(0,l.jsxs)(l.Fragment,{children:["\u200E",s]}),i[0]=s,i[1]=n):n=i[1];let c=n;i[2]!==o?(a=(0,l.jsxs)(l.Fragment,{children:["\u200E",o]}),i[2]=o,i[3]=a):a=i[3];let u=a;if("RENAMED"===d){let e,n,a;return i[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(r.ArrowRightIcon,{}),n=(0,l.jsx)("span",{className:"sr-only",children:"renamed to "}),i[4]=e,i[5]=n):(e=i[4],n=i[5]),i[6]!==c||i[7]!==u?(a=(0,l.jsxs)("code",{children:[u," ",e,n,c]}),i[6]=c,i[7]=u,i[8]=a):a=i[8],a}if("DELETED"===d||"REMOVED"===d){let e;return i[9]!==u?(e=(0,l.jsx)("code",{children:u}),i[9]=u,i[10]=e):e=i[10],e}{let e;return i[11]!==c?(e=(0,l.jsx)("code",{children:c}),i[11]=c,i[12]=e):e=i[12],e}}function f(e){let n,a,f,h,y,b,k,x,v,C,j,S,_,I,w,F,N,L;let T=(0,t.c)(68),{additionalLeftSideContent:A,areLinesExpanded:K,canExpandOrCollapseLines:D,className:E,diffStatsProps:P,defaultToRichDiff:R,isBinary:M,isSubmodule:V,isCollapsed:O,canToggleRichDiff:B,headingId:U,linesAdded:$,linesChanged:H,linesDeleted:z,fileLinkHref:q,fileLinkRef:G,newMode:W,newPath:Q,oldMode:X,oldPath:Y,onCopyPath:J,onHeaderClick:Z,onToggleDiffDisplay:ee,onToggleExpandAllLines:en,onToggleFileCollapsed:ea,patchStatus:el,path:et,rightSideContent:ei,size:er}=e,es=er&&"-"===er[0],eo=O?p.collapsed:"";T[0]!==E||T[1]!==eo?(n=(0,i.$)(p["diff-file-header"],eo,"flex-wrap flex-sm-nowrap",E),T[0]=E,T[1]=eo,T[2]=n):n=T[2];let ed=O?`Expand file: ${et}`:`Collapse file: ${et}`;T[3]!==O?(a=O?(0,l.jsx)(r.ChevronRightIcon,{}):(0,l.jsx)(r.ChevronDownIcon,{}),T[3]=O,T[4]=a):a=T[4],T[5]!==ea||T[6]!==ed||T[7]!==a?(f=(0,l.jsx)("button",{onClick:ea,className:"Button Button--iconOnly Button--invisible flex-shrink-0 flex-order-1","aria-label":ed,children:a}),T[5]=ea,T[6]=ed,T[7]=a,T[8]=f):f=T[8],T[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.$)(p["file-name"]),T[9]=h):h=T[9],T[10]!==Q||T[11]!==Y||T[12]!==el?(y=(0,l.jsx)(g,{newPath:Q,oldPath:Y,status:el}),T[10]=Q,T[11]=Y,T[12]=el,T[13]=y):y=T[13],T[14]!==q||T[15]!==G||T[16]!==Z||T[17]!==y?(b=(0,l.jsx)(s.A,{className:"Link--primary",href:q,onClick:Z,ref:G,"data-analytics-opt-out":!0,children:y}),T[14]=q,T[15]=G,T[16]=Z,T[17]=y,T[18]=b):b=T[18],T[19]!==U||T[20]!==b?(k=(0,l.jsx)("h3",{id:U,className:h,children:b}),T[19]=U,T[20]=b,T[21]=k):k=T[21];let ec=Q??Y??"";return T[22]===Symbol.for("react.memo_cache_sentinel")?(x={direction:"s"},T[22]=x):x=T[22],T[23]!==J||T[24]!==ec?(v=(0,l.jsx)(m.T,{className:"ml-1 flex-shrink-0",textToCopy:ec,ariaLabel:"Copy file name to clipboard",tooltipProps:x,onCopy:J}),T[23]=J,T[24]=ec,T[25]=v):v=T[25],T[26]!==W||T[27]!==X||T[28]!==el?(C=(0,c.AL)(el,X,W)&&(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("code",{children:X}),(0,l.jsx)(r.ArrowRightIcon,{className:"mx-1"}),(0,l.jsx)("code",{children:W})]}),T[26]=W,T[27]=X,T[28]=el,T[29]=C):C=T[29],T[30]!==K||T[31]!==D||T[32]!==en||T[33]!==et?(j=D&&en&&(0,l.jsx)(d.m,{text:K?`Collapse non-diff lines: ${et}`:`Expand all lines: ${et}`,direction:"s",children:(0,l.jsx)("button",{onClick:en,className:`Button Button--iconOnly Button--invisible flex-shrink-0 ${K?"":"js-expand-all-difflines-button"}`,"aria-label":K?`Collapse non-diff lines: ${et}`:`Expand all lines: ${et}`,"data-file-path":et,children:K?(0,l.jsx)(r.FoldIcon,{}):(0,l.jsx)(r.UnfoldIcon,{})})}),T[30]=K,T[31]=D,T[32]=en,T[33]=et,T[34]=j):j=T[34],T[35]!==v||T[36]!==C||T[37]!==j||T[38]!==k?(S=(0,l.jsxs)("div",{className:"d-flex px-1 flex-items-center overflow-hidden flex-order-2 flex-sm-order-1",children:[k,v,C,j]}),T[35]=v,T[36]=C,T[37]=j,T[38]=k,T[39]=S):S=T[39],T[40]!==P||T[41]!==V||T[42]!==$||T[43]!==H||T[44]!==z?(_=!V&&(0,l.jsx)(u.z,{linesAdded:$,linesDeleted:z,linesChanged:H,tooltipDirection:"sw",...P}),T[40]=P,T[41]=V,T[42]=$,T[43]=H,T[44]=z,T[45]=_):_=T[45],T[46]!==_?(I=(0,l.jsx)("div",{className:"d-flex mr-2 flex-justify-end flex-items-center flex-1",children:_}),T[46]=_,T[47]=I):I=T[47],T[48]!==M||T[49]!==es||T[50]!==ei||T[51]!==er?(w=M&&(0,l.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,l.jsx)("code",{className:(0,i.$)("px-2",es&&"fgColor-danger",!es&&"fgColor-success"),children:`${er}`}),ei]}),T[48]=M,T[49]=es,T[50]=ei,T[51]=er,T[52]=w):w=T[52],T[53]!==B||T[54]!==R||T[55]!==ee?(F=B&&(0,l.jsxs)(o.I,{"aria-label":"File view",size:"small",className:"mx-2",onChange:ee?e=>ee(1===e):void 0,children:[(0,l.jsx)(o.I.IconButton,{"aria-label":"Display the source diff",defaultSelected:!R,icon:r.CodeIcon}),(0,l.jsx)(o.I.IconButton,{"aria-label":"Display the rich diff",defaultSelected:R,icon:r.FileIcon})]}),T[53]=B,T[54]=R,T[55]=ee,T[56]=F):F=T[56],T[57]!==ei||T[58]!==I||T[59]!==w||T[60]!==F?(N=(0,l.jsxs)("div",{className:"d-flex flex-row flex-justify-end flex-1 flex-order-1 flex-sm-order-2 flex-items-center",children:[I,w,F,ei]}),T[57]=ei,T[58]=I,T[59]=w,T[60]=F,T[61]=N):N=T[61],T[62]!==A||T[63]!==S||T[64]!==n||T[65]!==N||T[66]!==f?(L=(0,l.jsxs)("div",{className:n,children:[f,A,S,N]}),T[62]=A,T[63]=S,T[64]=n,T[65]=N,T[66]=f,T[67]=L):L=T[67],L}try{g.displayName||(g.displayName="FileName")}catch{}try{f.displayName||(f.displayName="DiffFileHeader")}catch{}function h(e){let n,a;let r=(0,t.c)(6),{children:s,isAddition:o,className:d}=e,c=o?"fgColor-success":"fgColor-danger";return r[0]!==d||r[1]!==c?(n=(0,i.$)("ml-1 text-small text-bold",c,d),r[0]=d,r[1]=c,r[2]=n):n=r[2],r[3]!==s||r[4]!==n?(a=(0,l.jsx)("div",{className:n,children:s}),r[3]=s,r[4]=n,r[5]=a):a=r[5],a}try{h.displayName||(h.displayName="LinesChangedCounterLabel")}catch{}},84:(e,n,a)=>{function l(e){return void 0!==e.linesChanged&&0!==e.linesChanged}function t(e,n,a){return"MODIFIED"===e&&n!==a}function i(e,n,a,t){return"MODIFIED"===n&&a!==t&&!l(e)}function r(e){return"COPIED"===e.status&&!l(e)}function s(e){return"RENAMED"===e.status&&!l(e)}function o(e){return!!e.oldTreeEntry&&null===e.newTreeEntry}function d(e){return!!e.truncatedReason}a.d(n,{AL:()=>t,HI:()=>d,Jc:()=>r,Sn:()=>i,dK:()=>s,lO:()=>o,l_:()=>m,s8:()=>g,xW:()=>p});let c=["maximum diff size exceeded.","maximum number of lines exceeded."],u=/^maximum file count exceeded/;function m(e){let n=e;return c.includes(e)?n="This diff could not be loaded automatically because of too many other changes.":u.test(e)&&(n="This diff could not be loaded automatically because of too many other files to display."),n}function p(e){return!!e.newTreeEntry?.isGenerated}function g(e){return 0===e.linesChanged}},26920:(e,n,a)=>{a.d(n,{QC:()=>m,s2:()=>p,wH:()=>r,xY:()=>u});var l=a(3240);function t(e,n){var a=function(e,n,a){if(!n.has(e))throw TypeError("attempted to get private field on non-instance");return n.get(e)}(e,n,0);return a.get?a.get.call(e):a.value}function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e,n){return e<n?-1:e>n?1:0}function s(e,n){return r(e.name,n.name)}function o(e,n){return r(e.fileName,n.fileName)}function d(e){return e.diff}let FileNode=class FileNode{constructor(e){this.diff=e,this.filePath=e.path;let n=this.filePath.split("/");this.fileName=n[n.length-1],this.directoryParts=n.slice(0,n.length-1)}};var c=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e){let n=t(this,c).get(e);if(!n){let a=this.path?`${this.path}/`:"";n=new DirectoryNode(e,`${a}${e}`),this.directories.push(n),t(this,c).set(e,n)}return n}sort(){for(let e of(this.directories.sort(s),this.files.sort(o),this.directories))e.sort()}getOrderedDiffs(){let e=this.files.map(d);for(let n of this.directories)e.push(...n.getOrderedDiffs());return e}constructor(e,n){i(this,"directories",[]),i(this,"files",[]),function(e,n,a){(function(e,n){if(n.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,n),n.set(e,a)}(this,c,{writable:!0,value:new Map}),this.name=e,this.path=n}};function u(e){let n=new DirectoryNode("","");for(let a of e.slice(0,300).map(e=>new FileNode(e))){let e=n;for(let n of a.directoryParts)e=e.getOrCreateDirectory(n);e.files.push(a)}return n.sort(),n}function m(e){let n;n="string"==typeof e?e:e?.newPath||e?.oldPath;let a=n?.lastIndexOf(".");return n?!a||a<0?l.F7:`.${n.substring(a+1)}`:""}function p(e){let n={};return e.map(e=>{let a=m(e.path);void 0!==n[a]?n[a]+=1:n[a]=1}),n}},10237:(e,n,a)=>{a.d(n,{oO:()=>aI,n$:()=>aL,cP:()=>aA,T5:()=>ad,Uz:()=>c,Wb:()=>af,Dd:()=>x.Dd,xB:()=>aV});var l=a(74848),t=a(1977),i=a(96540),r=a(8877),s=a(84688),o=a(44968),d=a(63867);function c({dependencyDiffPath:e,fileRendererInfo:n,proseDiffHtml:a,loading:t}){return t?(0,l.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,l.jsx)(d.A,{size:"large"})}):a?(0,l.jsx)("div",{className:"prose-diff position-relative",children:(0,l.jsx)(o.oG,{html:a})}):n?(0,l.jsx)(r.default,{...n}):e?(0,l.jsx)(s.x,{src:e,children:(0,l.jsxs)("div",{className:"text-center py-3",children:[(0,l.jsx)(d.A,{size:"medium"}),(0,l.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]})}):(0,l.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."})}try{c.displayName||(c.displayName="RichDiff")}catch{}var u=a(84),m=a(73974),p=a(67220),g=a(34614),f=a(13080),h=a(47584),y=a(46996),b=a(37109);function k({selectedDiffRowRange:e,leftLines:n,rightLines:a,isNumberCell:l}){let t=!!a,{startOrientation:i,endOrientation:r}=e;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation&&!l)return{isRowSelected:()=>!1,selectedRightLines:[],selectedLeftLines:[]};let s=u(i).findIndex(n=>(0,b.a2)(n,e.startLineNumber,e.startOrientation)),o=u(r).findIndex(n=>(0,b.a2)(n,e.endLineNumber,e.endOrientation)),d=s>=0&&o>=0;function c(e){if(!d||(0,b.Po)(e))return!1;let n=u((0,p.XU)(e.type)).indexOf(e);return n>=s&&n<=o}function u(e){return t&&"left"!==("string"==typeof e?e:(0,p.XU)(e.type))?a:n}let m=u("left").filter(e=>c(e)),g=u("right").filter(e=>c(e));return{isRowSelected:c,selectedRightLines:g,selectedLeftLines:m}}var x=a(29063),v=a(38568);let C=e=>{let n=(0,i.useRef)(e);return(0,v.N)(()=>(n.current=e,()=>n.current=null),[e]),(0,i.useCallback)((...e)=>n.current?.(...e),[])};var j=a(4460);let S=(0,i.createContext)(null);function _(){let e=(0,i.useContext)(S);if(!e)throw Error("useSelectedDiffRowRange must be used within a SelectedDiffRowRangeContext");return e}function I(e){e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation?(0,f.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} selected.`):(0,f.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} to ${"left"===e.endOrientation?"L":"R"}${e.endLineNumber} selected.`)}function w({children:e}){let n=(0,i.useRef)(new Map),a=C((e,a)=>{if(!e)return;let l=e.diffAnchor,t=n.current.get(l);if(!t)return;let{leftLines:i,rightLines:r}=(0,b.Mk)(t);return k({selectedDiffRowRange:e,leftLines:i,rightLines:r,isNumberCell:a})}),[t,r]=(0,i.useState)(()=>(0,x.ZD)(h.fV.hash)),[s,o]=(0,i.useState)(()=>{if(t){let e=a(t);if(e)return{leftLines:e.selectedLeftLines,rightLines:e.selectedRightLines||[]}}return{leftLines:[],rightLines:[]}}),d=C((e,n)=>{let l=a(e,n),t=l?{leftLines:l.selectedLeftLines,rightLines:l.selectedRightLines||[]}:{leftLines:[],rightLines:[]};(0,y.A)(s,t)||o(t)}),c=C((e,n,a,l,i)=>{if(!n||!a)return;let s=l&&t&&t.diffAnchor===e?n<=t.firstSelectedLineNumber?{...t,startLineNumber:n,startOrientation:a,endLineNumber:t.firstSelectedLineNumber,endOrientation:t.firstSelectedOrientation}:{...t,startLineNumber:t.firstSelectedLineNumber,startOrientation:t.firstSelectedOrientation,endLineNumber:n,endOrientation:a}:{diffAnchor:e,endLineNumber:n,endOrientation:a,startLineNumber:n,startOrientation:a,firstSelectedLineNumber:n,firstSelectedOrientation:a};I(s),(i||l)&&r(s),d(s,i),(0,x.i8)(s)}),u=C(e=>{I(e),r(e),d(e),(0,x.i8)(e)}),m=C(({diffAnchor:e,startGridCell:n,endGridCell:a,focusedGridCell:l})=>{u({diffAnchor:e,endLineNumber:a.lineNumber,endOrientation:a.orientation,firstSelectedLineNumber:l.lineNumber,firstSelectedOrientation:l.orientation,startLineNumber:n.lineNumber,startOrientation:n.orientation})}),p=C(()=>{t&&(r(void 0),d(void 0),(0,f.i)("Selection Cleared"),(0,j.K3)())}),g=C((e,a)=>{n.current.set(e,a),t?.diffAnchor===e&&d(t)}),v=C(e=>n.current.get(e)),_=(0,i.useMemo)(()=>({selectedDiffRowRange:t,updateSelectedDiffRowRange:c,clearSelectedDiffRowRange:p,replaceSelectedDiffRowRange:u,replaceSelectedDiffRowRangeFromGridCells:m,updateDiffLines:g,selectedDiffLines:s,getDiffLinesFromLineRange:a,getDiffLinesByDiffAnchor:v}),[t,c,p,u,m,s,g,a,v]);return(0,l.jsx)(S.Provider,{value:_,children:e})}try{S.displayName||(S.displayName="SelectedDiffRowRange")}catch{}try{w.displayName||(w.displayName="SelectedDiffRowRangeContextProvider")}catch{}var F=a(34164),N=a(55847);let L={gridColumnTemplate:"HiddenDiffPatch-module__gridColumnTemplate--3bEGq"};var T=a(38621);function A({children:e,helpText:n,helpUrl:a,onLoadDiff:t,diffAnchor:r}){let s=a&&n,[o,c]=(0,i.useState)("initial"),u=(0,i.useCallback)(async()=>{try{c("loading"),await t()}catch{c("error")}},[t,c]);return(0,l.jsx)("div",{className:"px-3 py-4 fgColor-muted","data-diff-anchor":r,children:(0,l.jsxs)("div",{className:(0,F.$)(L.gridColumnTemplate),children:[(0,l.jsx)("svg",{"aria-hidden":!0,height:"84",style:{maxWidth:"340px"},viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})})," ",(0,l.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center flex-items-center",children:["loading"===o&&(0,l.jsx)(d.A,{size:"medium"}),"error"===o&&(0,l.jsx)(T.AlertIcon,{size:24}),"initial"===o&&(0,l.jsx)(N.Q,{className:"h4 mx-auto fgColor-accent",variant:"invisible",onClick:()=>{u(),c("loading")},children:"Load Diff"}),"error"===o?(0,l.jsxs)("span",{className:"fgColor-muted mt-1",children:["The contents of the file couldn't be loaded."," ",(0,l.jsx)(g.A,{inline:!0,as:"button",onClick:()=>{u(),c("loading")},children:"Retry"})]}):(0,l.jsxs)("span",{className:"fgColor-muted mt-1",children:[e,s&&(0,l.jsx)(g.A,{inline:!0,href:a,children:n})]})]})]})})}try{A.displayName||(A.displayName="HiddenDiffPatch")}catch{}let K={finalLineId:"final-hunk-header-line"};function D(e,n){return e.startBlobLineNumber-n.startBlobLineNumber}function E(e,n){if("HUNK"===e.type&&e.__id===K.finalLineId)return{currentHunk:n[n.length-1],previousHunk:n[n.length-2]};let a=n.sort(D).findIndex(n=>n.startBlobLineNumber<=e.blobLineNumber&&n.endBlobLineNumber>=e.blobLineNumber);return{currentHunk:n[a],nextHunk:n[a+1],previousHunk:n[a-1]}}function P(e){let n=[],a=0;for(let l=1;l<e.length;l++){let t=e[l],i=l===e.length-1;if(t&&!(0,b.Po)(t)){if("HUNK"===t.type){let i;let r=e[a];if(!r||(0,b.Po)(r))continue;let s=l-1;for(;(!i||(0,b.Po)(i))&&(i=e[s],-1!=--s););i&&!(0,b.Po)(i)&&n.push({startBlobLineNumber:r.blobLineNumber,endBlobLineNumber:i.blobLineNumber}),t.__id===K.finalLineId&&n.push({startBlobLineNumber:t.blobLineNumber,endBlobLineNumber:t.blobLineNumber+20}),a=l;continue}if(i){let l=e[a];l&&!(0,b.Po)(l)&&n.push({startBlobLineNumber:l.blobLineNumber,endBlobLineNumber:t.blobLineNumber})}}}return n}let R=(0,i.createContext)(null);function M({children:e,currentHunk:n,diffEntryId:a,diffLine:t,fileAnchor:r,fileLineCount:s,filePath:o,hasHiddenUnicodeCharacters:d,isLeftSide:c,isRowSelected:u=!1,isSplit:m,modifiedLineThreads:p,nextHunk:g,originalLineThreads:f,previousHunk:h,rowId:y,diffContext:b,setInGridMode:k}){let x=(0,i.useMemo)(()=>({currentHunk:n,diffEntryId:a,diffLine:t,fileAnchor:r,fileLineCount:s,filePath:o,hasHiddenUnicodeCharacters:d,isLeftSide:c,isRowSelected:u,isSplit:m,modifiedLineThreads:p,modifiedLineHasThreads:p&&p.length>0,nextHunk:g,originalLineThreads:f,originalLineHasThreads:f&&f.length>0,previousHunk:h,rowId:y,diffContext:b,setInGridMode:k}),[n,a,t,r,s,o,d,c,u,m,p,g,f,h,y,b,k]);return(0,l.jsx)(R.Provider,{value:x,children:e})}function V(){let e=(0,i.useContext)(R);if(!e)throw Error("useDiffLineContext must be used within a DiffLineContextProvider");return e}try{R.displayName||(R.displayName="DiffLineContext")}catch{}try{M.displayName||(M.displayName="DiffLineContextProvider")}catch{}function O(e,n){return e?.threads?.flatMap(e=>{let a=e?.id,l=e?.commentsData?.comments?.[0]?.author??n,t=e?.commentsData?.totalCount??0,i=e?.commentsData?.__id;return a&&l?[{id:a,author:l,commentCount:t,commentsConnectionId:i,diffSide:e.diffSide,isOutdated:e.isOutdated,line:e.line,startLine:e.startLine,startDiffSide:e.startDiffSide}]:[]})??[]}var B=a(82678);function U(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}let GridNavigator=class GridNavigator{moveToNextItem(e,n){let a;let l=this.cellIdToGridLocation.get(this.focusedGridCell?.cellId??"");if(!l)return;let[t]=l,[,i]=l;switch(("ArrowDown"===e||"ArrowUp"===e)&&this.isHunkRow(t)&&this.savedColumnIndex&&(i=this.savedColumnIndex,this.savedColumnIndex=void 0),!0){case n&&"Home"===e:this.focusFirstGridCell();break;case n&&"End"===e:{let e=this.grid.length-1,n=this.grid[e]?.length;n&&(a=this.grid[e]?.[n-1]);break}case"ArrowUp"===e:this.isHunkRow(t-1)?(this.saveColumnIndex(i),a=this.grid[t-1]?.[0]):a=this.grid[t-1]?.[i];break;case"ArrowDown"===e:this.isHunkRow(t+1)?(this.saveColumnIndex(i),a=this.grid[t+1]?.[0]):a=this.grid[t+1]?.[i];break;case"ArrowLeft"===e:a=this.grid[t]?.[i-1];break;case"ArrowRight"===e:a=this.grid[t]?.[i+1];break;case"PageUp"===e:{this.saveColumnIndex(i);let e=this.getPreviousHunkRowIndex(t);a=this.grid[e]?.[0];break}case"PageDown"===e:{this.saveColumnIndex(i);let e=this.getNextHunkRowIndex(t),n=0;e||(e=this.grid.length-1,n=i),a=this.grid[e]?.[n];break}case"Home"===e:a=this.grid[t]?.[0];break;case"End"===e:{let e=this.grid[t];if(e&&!this.isHunkRow(t)){let n=e.length-1;a=this.grid[t]?.[n]}}}return a&&(this.focusedGridCell=a),this.focusedGridCell}reinitializeGrid(e,n){this.initializeGrid(e,n)}focusFirstGridCell(e){e&&this.cellIdToGridLocation.get(e)?this.focusGridCell(e):this.focusedGridCell=this.grid[0]?.[0]}focusGridCell(e){if(this.focusedGridCell?.cellId===e)return;let n=this.cellIdToGridLocation.get(e);if(!n)return;let[a,l]=n;this.focusedGridCell=this.grid[a]?.[l]}getNextSelectableCell(e){let n;let a=this.lastSelectedGridCell||this.focusedGridCell,l=this.cellIdToGridLocation.get(a?.cellId??"");if(!l)return;let[t,i]=l;if(("ArrowUp"!==e||!(t<=1))&&("ArrowDown"!==e||t!==this.grid.length-1)){if("ArrowUp"===e){let e=t-1;for(;!n;)n=this.getNextSelectableCellFromRow({rowIndex:e,columnIndex:i}),e--}if("ArrowDown"===e){let e=t+1;for(;!n;)n=this.getNextSelectableCellFromRow({rowIndex:e,columnIndex:i}),e++}return n&&(this.lastSelectedGridCell=n),n}}getValidSelectableRowCell(){if(this.focusedGridCell?.isHunk)return;if(!this.focusedGridCell?.isEmpty)return this.focusedGridCell;let e=this.cellIdToGridLocation.get(this.focusedGridCell.cellId)?.[0];if(e)return this.focusedGridCell.columnIndex<2?this.grid[e]?.[this.focusedGridCell.columnIndex+2]:this.grid[e]?.[this.focusedGridCell.columnIndex-2]}clearLastSelectedCell(){this.lastSelectedGridCell=void 0}getFirstCodeCell(){let e=this.grid.find(e=>e[0]&&!e[0].isHunk);return e?.find(e=>!e.isEmpty)}getLastCodeCell(){let e=this.grid.slice().reverse().find(e=>e[0]&&!e[0].isHunk);return e?.slice().reverse().find(e=>!e.isEmpty)}hasLine(e,n,a){let l=(0,b.qX)(this.fileAnchor,e,n),t=(0,b.u6)(l,0),i=this.cellIdToGridLocation.get(t);if(!i)return!1;let[r]=i;return!!a===this.isHunkRow(r)}getNextSelectableCellFromRow({rowIndex:e,columnIndex:n}){let a=this.grid[e],l=a?.[n];switch(!0){case l?.isHunk:return;case l?.orientation==="left"&&l.isEmpty:return a?.[n+2];case l?.orientation==="right"&&l.isEmpty:return a?.[n-2];default:return a?.[n]}}getNextHunkRowIndex(e){return Array.from(this.hunkRowIndexes).sort((e,n)=>e-n).find(n=>n>e)}getPreviousHunkRowIndex(e){return Array.from(this.hunkRowIndexes).sort((e,n)=>e-n).reverse().find(n=>n<e)??0}initializeGrid(e,n){this.grid=[],this.cellIdToGridLocation=new Map,this.hunkRowIndexes=new Set;for(let a=0;a<e.length;a++){let l=[],t=e[a];if(void 0!==t){if(this.isSplitDiff){let e=(n||[])[a],i=(0,b.qX)(this.fileAnchor,t,e);(0,b.Po)(t)||"HUNK"!==t.type?this.initializeSplitDiffCodeRow({leftLine:t,rightLine:e,row:l,rowIdentifier:i,rowIndex:a}):this.initializeHunkRow(l,i,a)}else{let e=(0,b.qX)(this.fileAnchor,t,t);(0,b.Po)(t)||"HUNK"!==t.type?this.initializeUnifiedDiffCodeRow({diffLine:t,row:l,rowIdentifier:e,rowIndex:a}):this.initializeHunkRow(l,e,a)}this.grid.push(l)}}}initializeContentCell({cellIndex:e,diffLine:n,orientation:a,row:l,rowIdentifier:t,rowIndex:i}){let r;let s=(0,b.u6)(t,e);(0,b.Po)(n)||"left"!==a||(r=n?.left),(0,b.Po)(n)||"right"!==a||(r=n?.right),l.push({lineNumber:r,orientation:a,isHunk:!1,isEmpty:(0,b.Po)(n),cellId:(0,b.u6)(t,e),columnIndex:e}),this.cellIdToGridLocation.set(s,[i,e])}initializeHunkRow(e,n,a){let l=(0,b.u6)(n,0);e.push({isHunk:!0,isEmpty:!1,cellId:l,columnIndex:0}),this.cellIdToGridLocation.set(l,[a,0]),this.hunkRowIndexes.add(a)}isHunkRow(e){return this.hunkRowIndexes.has(e)}initializeSplitDiffCodeRow({leftLine:e,rightLine:n,row:a,rowIdentifier:l,rowIndex:t}){this.initializeContentCell({cellIndex:0,diffLine:e,orientation:"left",row:a,rowIdentifier:l,rowIndex:t}),this.initializeContentCell({cellIndex:1,diffLine:e,orientation:"left",row:a,rowIdentifier:l,rowIndex:t}),this.initializeContentCell({cellIndex:2,diffLine:n,orientation:"right",row:a,rowIdentifier:l,rowIndex:t}),this.initializeContentCell({cellIndex:3,diffLine:n,orientation:"right",row:a,rowIdentifier:l,rowIndex:t})}initializeUnifiedDiffCodeRow({diffLine:e,row:n,rowIdentifier:a,rowIndex:l}){let t=(0,b.Po)(e)||"DELETION"!==e.type?"right":"left";this.initializeContentCell({cellIndex:0,diffLine:e,orientation:"left",row:n,rowIdentifier:a,rowIndex:l}),this.initializeContentCell({cellIndex:1,diffLine:e,orientation:"right",row:n,rowIdentifier:a,rowIndex:l}),this.initializeContentCell({cellIndex:2,diffLine:e,orientation:t,row:n,rowIdentifier:a,rowIndex:l})}saveColumnIndex(e){this.isHunkRow(e)||(this.savedColumnIndex=e)}constructor(e,n,a,l,t){U(this,"grid",[]),U(this,"cellIdToGridLocation",new Map),U(this,"hunkRowIndexes",new Set),U(this,"focusedGridCell",void 0),U(this,"lastSelectedGridCell",void 0),U(this,"savedColumnIndex",void 0),this.fileAnchor=e,this.isSplitDiff=n,this.initializeGrid(a,l),this.focusFirstGridCell(t)}};function $(e){e&&setTimeout(()=>{0!==e.tabIndex&&(e.tabIndex=0)})}var H=a(69676);let z={ArrowLeft:H.z0.ArrowHorizontal,ArrowDown:H.z0.ArrowVertical,ArrowUp:H.z0.ArrowVertical,ArrowRight:H.z0.ArrowHorizontal,h:H.z0.HL,j:H.z0.JK,k:H.z0.JK,l:H.z0.HL,a:H.z0.AD,s:H.z0.WS,w:H.z0.WS,d:H.z0.AD,Tab:H.z0.Tab,Home:H.z0.HomeAndEnd,End:H.z0.HomeAndEnd,PageUp:H.z0.PageUpDown,PageDown:H.z0.PageUpDown,Backspace:H.z0.Backspace},q=H.z0.ArrowAll|H.z0.PageUpDown|H.z0.HomeAndEnd|H.z0.AD,G={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"}};function W(e){return e in z&&(z[e]&q)>0}function Q({clearSelectedDiffRowRange:e,containerRef:n,fileAnchor:a,isSplitDiff:l,leftLines:t,replaceSelectedDiffRowRangeFromGridCells:r,rightLines:s,selectedDiffRowRange:o,updateSelectedDiffRowRange:d,disabled:c}){var u;let m=(0,i.useRef)(void 0),p=(0,i.useMemo)(()=>new GridNavigator(a,l,t,s,m.current?.focusedGridCell?.cellId),[a,l,t,s]);(0,i.useEffect)(()=>{m.current=p},[p]),u=m.current,(0,i.useEffect)(()=>{if(u&&document.activeElement){let e=function(e,n,a){let l=[];for(let t=0;t<n.length;t++){let i=n[t],r=a?.[t]??i,s=!(0,b.Po)(i)&&i?.type==="HUNK";i&&r&&!e.hasLine(i,r,s)&&l.push(i)}return l}(u,t,s);if(0!==e.length){if(document.activeElement===document.body){let n,l,i;let r=t.indexOf(e[e.length-1]),s=t[r+1],o=e[0];s&&!(0,b.Po)(s)&&"HUNK"===s.type&&(n=(0,b.u6)((0,b.qX)(a,s,s),0),l=document.querySelector(`[data-grid-cell-id=${n}]`),i=l?.querySelector("button[data-direction=down], button[data-direction=all]")),i||(n=(0,b.u6)((0,b.qX)(a,o,o),0),l=document.querySelector(`[data-grid-cell-id=${n}]`),i=l?.querySelector("button[data-direction=up], button[data-direction=all]")),n&&l&&(i?i.focus():l.focus(),p.focusGridCell(n),$(l))}else if("BUTTON"===document.activeElement.tagName)$(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),a=p.focusedGridCell?.cellId;if(e!==a){let e=n.current?.querySelector(`[data-grid-cell-id=${a}]`);e?.focus()}}}}},[a,t,p,s,u,n]),function(e,n){let a=(0,i.useCallback)(e=>{let a=e.target.getAttribute("data-grid-cell-id");a&&n.focusGridCell(a)},[n]);(0,i.useEffect)(()=>{let n=e.current;return n?.addEventListener("focusin",a),()=>n?.removeEventListener("focusin",a)},[e,a])}(n,p);let g=(0,i.useCallback)((n,l,t)=>{let i=p.getValidSelectableRowCell();switch(!0){case(t.metaKey||t.ctrlKey)&&"KeyA"===t.code:{let e=p.getFirstCodeCell(),n=p.getLastCodeCell();if(!e||!n)return l;return r({diffAnchor:a,focusedGridCell:e,startGridCell:e,endGridCell:n}),l}case t.shiftKey&&"ArrowDown"===t.key:{let e=p.getNextSelectableCell("ArrowDown");if(!e||!i)return l;return o?.firstSelectedLineNumber?d(a,e.lineNumber,e.orientation,!0):r({diffAnchor:a,focusedGridCell:i,startGridCell:i,endGridCell:e}),l}case t.shiftKey&&"ArrowUp"===t.key:{let e=p.getNextSelectableCell("ArrowUp");if(!e||!i)return l;return o?.firstSelectedLineNumber?d(a,e.lineNumber,e.orientation,!0):r({diffAnchor:a,focusedGridCell:i,startGridCell:e,endGridCell:i}),l}case"ArrowLeft"===t.key&&t.metaKey&&t.shiftKey:return;default:{let n=p.moveToNextItem(t.key,t.ctrlKey),a=n&&document.querySelector(`[data-grid-cell-id=${n.cellId}]`);return e(),p.clearLastSelectedCell(),a??void 0}}},[p,o,d,a,r,e]);return(0,B.G)({containerRef:n,bindKeys:q,getNextFocusable:g,focusableElementFilter:e=>"BUTTON"!==e.tagName&&"TEXTAREA"!==e.tagName,focusInStrategy:"previous",disabled:c},[g]),{gridNavigator:p}}var X=a(54332),Y=a(42242),J=a(82431),Z=a(87330),ee=a(56126),en=a(42389);let ea="a, audio, button, details, embed, iframe, img, input, keygen, label, object, select, textarea, video";function el(e){e?.setAttribute("aria-hidden","true"),function n(a=0){setTimeout(()=>{let a=Array.from(e?.querySelectorAll("*")??[]),l=Array.from(e?.querySelectorAll(ea)??[]);if(0===l.length)return n(200);for(let e of a)e?.setAttribute("aria-hidden","true");for(let e of l)e.setAttribute("tabindex","-1")},a)}()}function et(e){setTimeout(()=>{for(let n of(e?.setAttribute("aria-hidden","false"),Array.from(e?.querySelectorAll("*")??[])))n?.setAttribute("aria-hidden","false");for(let n of Array.from(e?.querySelectorAll(ea)??[]))n.setAttribute("tabindex","0")},100)}var ei=a(33563);let er={inlineAnnotation:"InlineAnnotation-module__inlineAnnotation--mNxPj"};function es({annotation:e}){let n=(0,i.useRef)(null),{isInDialogMode:a}=(0,Y.q)();return(0,i.useEffect)(()=>{a?et(n.current):el(n.current)},[a]),(0,l.jsx)("div",{id:`annotation_${e.databaseId}`,ref:n,className:(0,F.$)("mt-1 border rounded-2 color-border-default color-shadow-small overflow-hidden",er.inlineAnnotation),"data-level":e.annotationLevel,"data-testid":`annotation-${e.id}`,children:(0,l.jsx)(ei.Y,{annotation:e})})}try{es.displayName||(es.displayName="InlineAnnotation")}catch{}let eo={closeMarkersDialogButton:"InlineMarkers-module__closeMarkersDialogButton--H1wyh",markersWrapper:"InlineMarkers-module__markersWrapper--gRSoz",markersDialogActive:"InlineMarkers-module__markersDialogActive--j6cUe",markersDialogInactive:"InlineMarkers-module__markersDialogInactive--iCOj1"};var ed=a(80688),ec=a(67136),eu=a(70404),em=a(52464),ep=a(75177),eg=a(47139),ef=a(42522);let eh={inlineReviewThreadHeading:"InlineReviewThread-module__inlineReviewThreadHeading--CroDZ"};var ey=a(94493);function eb({children:e}){return(0,l.jsx)(em.A,{sx:{fontWeight:500,color:"fg.default"},children:e})}function ek({thread:e}){return void 0!==e&&e?.diffSide&&e.line?e.startLine&&e.startDiffSide?ev({thread:e}):ex({thread:e}):null}function ex({thread:e}){let n="LEFT"===e.diffSide?"L":"R";return(0,l.jsxs)("h2",{className:eh.inlineReviewThreadHeading,children:["Comment on line"," ",(0,l.jsxs)(eb,{children:[n,e.line]})]})}function ev({thread:e}){let n="LEFT"===e.startDiffSide?"L":"R",a="LEFT"===e.diffSide?"L":"R";return(0,l.jsxs)("h2",{className:eh.inlineReviewThreadHeading,children:["Comment on lines"," ",(0,l.jsxs)(eb,{children:[n,e.startLine]})," ","to"," ",(0,l.jsxs)(eb,{children:[a,e.line]})]})}function eC({commentingImplementation:e,fileAnchor:n,filePath:a,threadId:t,isOutdated:r,threads:s,threadsConnectionId:o,enterDialogMode:c,ghostUser:u,manuallyUpdateCommentsWithThisThreadId:m,suggestedChangesConfig:p,...g}){let[f,h]=(0,i.useState)(void 0),{fetchThread:y}=e,b=(0,i.useRef)(null),{isInDialogMode:k}=(0,Y.q)(),x=(0,ed.A)("localStorage"),v=f?.isResolved,[C,j]=(0,i.useState)(v??!1);(0,i.useEffect)(()=>{let e=localStorage.getItem(`reviewThreadIsCollapsed_${t}`);null!==e&&j(JSON.parse(e))},[C,t]);let S=(0,i.useCallback)(async(e,n=!0)=>{h(await y(e,n))},[y]);(0,i.useEffect)(()=>{S(t,!1)},[S,m,t]),(0,i.useEffect)(()=>{k&&(k||!f)?et(b.current):el(b.current)},[k,f]),(0,i.useEffect)(()=>{f||S(t,!1)},[t,f,y,S]);let _=(0,i.useMemo)(()=>{if(n&&f&&f.subject?.startDiffSide&&f.subject?.endDiffSide&&f.subject?.startLine&&f.subject?.endLine&&p?.configureSuggestedChangesFromLineRange){let e=f.subject?.startLine??f?.subject?.endLine,a=f.subject?.startDiffSide??f?.subject?.endDiffSide,l={diffAnchor:n,endLineNumber:f?.subject?.endLine,endOrientation:f.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===a?"left":"right",startOrientation:"LEFT"===a?"left":"right"};return p?.configureSuggestedChangesFromLineRange(l)}},[n,f,p]),{sendAnalyticsEvent:I}=(0,eu.s)(),{resolveThread:w,unresolveThread:F,resolvingEnabled:N}=e,L=s.find(e=>e.id===t),{addToast:A}=(0,ec.Y6)();if(!f||!(f.commentsData.comments.length>0))return null;let K=!!f.isResolved,D=L?.commentsConnectionId;return(0,l.jsxs)("div",{className:"rounded-2 bgColor-default",ref:b,children:[(0,l.jsxs)(ep.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",borderBottom:"1px solid",borderColor:"border.muted"},children:[(0,l.jsx)(Z.K,{"aria-label":C?"Expand comment":"Collapse comment",icon:C?T.ChevronRightIcon:T.ChevronDownIcon,size:"small",variant:"invisible",onClick:()=>{window.requestAnimationFrame(()=>{x.setItem(`reviewThreadIsCollapsed_${t}`,JSON.stringify(!C))}),j(e=>!e)}}),(0,l.jsx)(ek,{thread:L}),(0,l.jsxs)(ep.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:[K&&(0,l.jsx)(eg.A,{variant:"done",size:"large",children:"Resolved"}),N&&(0,l.jsx)(ef.m,{text:K?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,l.jsx)(Z.K,{"aria-labelledby":"resolve-conversation",icon:K?T.CheckCircleFillIcon:T.CheckCircleIcon,sx:{color:K?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:K?()=>{f&&(F({thread:f,onCompleted:()=>{S(f.id),j(e=>!e)},onError:()=>{A({type:"error",message:"Failed to unresolve thread"})}}),I("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))}:()=>{f&&(w({thread:f,onCompleted:()=>{S(f.id),j(e=>!e)},onError:()=>{A({type:"error",message:"Failed to resolve thread"})}}),I("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))}})})]})]}),(0,l.jsx)(i.Suspense,{fallback:(0,l.jsxs)(ep.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,l.jsx)(d.A,{}),(0,l.jsx)("p",{children:"Loading comments"})]}),children:!C&&(0,l.jsx)(ey.H,{enterDialogMode:c,commentingImplementation:e,commentsConnectionId:D,filePath:a,onRefreshThread:S,thread:f,threadsConnectionId:o,suggestedChangesConfig:_,shouldLimitHeight:!1,...g,ghostUser:u})})]})}try{eb.displayName||(eb.displayName="Emphasis")}catch{}try{ek.displayName||(ek.displayName="ThreadBanner")}catch{}try{ex.displayName||(ex.displayName="SingleLineThreadBanner")}catch{}try{ev.displayName||(ev.displayName="MultineLineThreadBanner")}catch{}try{eC.displayName||(eC.displayName="InlineReviewThread")}catch{}let ej={[en.U.Failure]:0,[en.U.Warning]:1,[en.U.Notice]:2};function eS(e){return(0,l.jsx)(ee.j,{children:(0,l.jsx)(e_,{...e})})}function e_({annotations:e,children:n,commentingImplementation:a,conversationListThreads:t,isMarkerListOpen:r,fileAnchor:s,filePath:o,lineType:d,onAnnotationSelected:c,onCloseConversationDialog:u,onCloseConversationList:m,onCloseFocusMode:p,onThreadSelected:g,returnFocusRef:f,selectedAnnotationId:h,selectedThreadId:y,threadsConnectionId:b,suggestedChangesConfig:k,manuallyUpdateCommentsWithThisThreadId:x,ghostUser:v,enterDialogMode:C,...j}){let S=(0,i.useCallback)(async e=>{let n=await a.fetchThread(e,!1);n&&t.push(n),w({})},[a,t]),_=(0,i.useMemo)(()=>{switch(d){case"ADDITION":return"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))";case"INJECTED_CONTEXT":case"CONTEXT":return"var(--bgColor-inset, var(--color-canvas-inset))";case"DELETION":return"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))";default:return}},[d]),[I,w]=(0,i.useState)({});(0,i.useEffect)(()=>{0===t.length&&x&&""!==x&&S(x)},[a,t.length,S,x]);let{isInDialogMode:N,enableInlineCommentDialogMode:L}=(0,Y.q)(),A=(0,i.useMemo)(()=>[...e].sort((e,n)=>ej[e.annotationLevel]-ej[n.annotationLevel]),[e]);return(0,l.jsxs)("div",{className:(0,F.$)("d-flex pt-1",N?eo.markersDialogActive:eo.markersDialogInactive),style:N&&_?{backgroundColor:_}:{},onClick:()=>{N||L()},children:[(0,l.jsxs)("div",{className:eo.markersWrapper,children:[t.map((e,n)=>(0,l.jsx)("div",{className:(0,F.$)("mt-1 border rounded-2 color-border-default color-shadow-small",n===t.length-1?"mb-1":"mb-2"),children:(0,l.jsx)(eC,{manuallyUpdateCommentsWithThisThreadId:x,enterDialogMode:C,commentingImplementation:a,filePath:o,fileAnchor:s,threadId:e.id,isOutdated:e.isOutdated,threads:t,threadsConnectionId:b,onThreadSelected:g,suggestedChangesConfig:k,ghostUser:v,...j})},`review-thread-${e.id}`)),n,A.map(e=>(0,l.jsx)(es,{annotation:e},`annotation-${e.id}`))]}),N&&(0,l.jsx)(Z.K,{icon:T.XIcon,className:(0,F.$)(eo.closeMarkersDialogButton,"ml-2 position-relative",0===t.length?"mt-2":"mt-1"),"aria-label":"Return to code",variant:"default",size:"small",onMouseUp:p,onKeyUp:e=>{("Enter"===e.key||"Space"===e.code)&&p()}})]})}try{eS.displayName||(eS.displayName="InlineMarkers")}catch{}try{e_.displayName||(e_.displayName="InlineMarkersInternal")}catch{}var eI=a(11499),ew=a(84100),eF=a(86617),eN=a(90495),eL=a(77393),eT=a(89323),eA=a(8338);let eK=(0,i.createContext)(null);function eD({children:e,...n}){let a=!!n.commentingImplementation,t=!!n.markerNavigationImplementation;if(n.commentingEnabled!==a&&n.commentingEnabled!==t)throw Error("commentingEnabled, commentingImplementation, and markerNavigationImplementation must be passed together");let r=n?.ghostUser??G.ghostUser,s=(0,i.useMemo)(()=>({ghostUser:r,...n}),[...Object.values(n),r]);return(0,l.jsx)(eK.Provider,{value:s,children:e})}function eE(){let e=(0,i.useContext)(eK);if(!e)throw Error("useDiffContext must be used within a DiffContextProvider");return e}try{eK.displayName||(eK.displayName="DiffContext")}catch{}try{eD.displayName||(eD.displayName="DiffContextProvider")}catch{}var eP=a(57259);function eR(e){return null!=e}let eM="thread",eV="annotation",eO=(0,i.createContext)(null);function eB({children:e,line:n}){let[a,t]=(0,i.useState)(!1),[r,s]=(0,i.useState)(),[o,d]=(0,i.useState)(),[c,u]=(0,i.useState)(),[m,p]=(0,i.useState)(),[g,f]=(0,i.useState)(),{ghostUser:h,markerNavigationImplementation:y}=eE(),{originalLineThreads:b,modifiedLineThreads:k}=V(),[x,v]=(0,i.useState)(),C=e$({line:n,side:x,originalLineThreads:b,modifiedLineThreads:k,ghostUser:h}),j=(0,i.useMemo)(()=>!!r||!!o||!!c||!!m,[r,c,o,m]),S=(0,i.useCallback)(()=>{t(!0)},[]),_=(0,i.useCallback)(()=>{t(!1)},[]),I=(0,i.useCallback)(e=>{e?f({id:e,kind:eM}):f(void 0)},[]),w=g?.kind===eM?g.id:void 0,F=g?.kind===eV?g.id:void 0,N=(0,i.useCallback)(e=>{e?f({id:e,kind:eV}):f(void 0)},[]),L=(0,i.useCallback)((e,n,a)=>{switch((0,eP.e)(y?.overlayPortalContainerName),e){case"context-menu":s(n),p(void 0),u(void 0),d(void 0);break;case"new-conversation":p({cellId:n,withSuggestedChange:a?.withSuggestedChange}),s(void 0),u(void 0),d(void 0);break;case"marker-details":u(n),s(void 0),d(void 0),p(void 0);break;case"marker-list":d(n),s(void 0),p(void 0),u(void 0)}},[y?.overlayPortalContainerName]),T=(0,i.useCallback)(e=>{switch(e){case"context-menu":s(void 0);break;case"new-conversation":p(void 0);break;case"marker-details":u(void 0);break;case"marker-list":d(void 0)}},[]),A=(0,i.useCallback)(e=>(v(e),e$({line:n,side:e,modifiedLineThreads:k,originalLineThreads:b,ghostUser:h})),[n,k,b,h]),K=(0,i.useMemo)(()=>n.annotationsData?.annotations?.filter(eR)??[],[n.annotationsData?.annotations]),D=(0,i.useMemo)(()=>({annotations:K,isActionBarVisible:a,showActionBar:S,hideActionBar:_,selectThreadId:I,selectAnnotationId:N,closeDialog:T,openDialog:L,anyMenuOpen:j,selectedThreadId:w,selectedAnnotationId:F,openContextMenuCell:r,openMarkersListCell:o,openMarkerDetailsCell:c,openNewConversationCell:m,threads:C,updateVisibleThreads:A}),[K,a,S,_,I,N,T,L,j,w,F,r,o,c,m,C,A]);return(0,l.jsx)(eO.Provider,{value:D,children:e})}function eU(){let e=(0,i.useContext)(eO);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e}function e$({line:e,side:n,originalLineThreads:a,modifiedLineThreads:l,ghostUser:t}){switch(n){case"LEFT":return a||[];case"RIGHT":return l||[];case void 0:return O(e.threadsData,t);default:return[]}}try{eO.displayName||(eO.displayName="MarkersDialogContext")}catch{}try{eB.displayName||(eB.displayName="MarkersDialogContextProvider")}catch{}var eH=a(46584);function ez(){let{diff_inline_comments:e,prx_files:n}=(0,eH.h)();return e||n}function eq({cellId:e,actionBarRef:n,onOpenInLineThread:a}){let{replaceSelectedDiffRowRange:l}=_(),{fileAnchor:t}=V(),[r,s]=(0,i.useState)(n),{annotations:o,openDialog:d,closeDialog:c,selectedAnnotationId:u,selectAnnotationId:m,selectedThreadId:p,selectThreadId:g,openContextMenuCell:f,openNewConversationCell:h,openMarkerDetailsCell:y,openMarkersListCell:b,updateVisibleThreads:k,threads:x,anyMenuOpen:v}=eU(),{sendAnalyticsEvent:j}=(0,eu.s)(),S=(0,i.useMemo)(()=>h?.cellId===e,[e,h]),I=(0,i.useMemo)(()=>h?.withSuggestedChange,[h]),w=(0,i.useCallback)(n=>{d("new-conversation",e,n)},[e,d]),F=(0,i.useCallback)(()=>{w()},[w]),N=(0,i.useCallback)(()=>{s(n),w(),j("diff.start_new_conversation","PLUS_ICON")},[n,w,j]),L=(0,i.useCallback)(()=>{w({withSuggestedChange:!0}),j("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},[w,j]),T=(0,i.useCallback)(()=>{s(n),w({withSuggestedChange:!0}),j("diff.start_new_conversation_with_suggested_change","ACTION_BAR_CONTEXT_MENU")},[n,w,j]),A=(0,i.useCallback)(()=>{c("new-conversation")},[c]),K=ez(),D=(0,i.useMemo)(()=>f===e,[e,f]),E=(0,i.useCallback)(()=>{d("context-menu",e)},[e,d]),P=(0,i.useCallback)(()=>{s(n),E()},[n,E]),R=(0,i.useCallback)(()=>{c("context-menu")},[c]),M=(0,i.useCallback)(()=>{D?R():E()},[R,D,E]),O=(0,i.useCallback)(()=>{s(n),M()},[n,M]),B=(0,i.useMemo)(()=>y===e?p:void 0,[e,y,p]),U=(0,i.useMemo)(()=>y===e?u:void 0,[e,y,u]),$=(0,i.useCallback)(()=>{K?a?.():d("marker-details",e)},[e,K,a,d]),H=(0,i.useCallback)(()=>{c("marker-details")},[c]),z=C((e,n={skipLineSelection:!1})=>{if(g(e),$(),n.skipLineSelection)return;let a=x.find(n=>n.id===e);if(a&&a.diffSide&&a.line){let e=a.startLine??a.line,n=a.startDiffSide??a.diffSide;l({diffAnchor:t,endLineNumber:a.line,endOrientation:"LEFT"===a.diffSide?"left":"right",startLineNumber:e,startOrientation:"LEFT"===n?"left":"right",firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===n?"left":"right"})}}),q=C((e,n={skipLineSelection:!1})=>{if(m(e),$(),n.skipLineSelection)return;let a=o.find(n=>n.id===e);a&&l({diffAnchor:t,endLineNumber:a.endLine,endOrientation:"right",startLineNumber:a.startLine,startOrientation:"right",firstSelectedLineNumber:a.startLine,firstSelectedOrientation:"right"})}),G=(0,i.useCallback)(()=>{d("marker-list",e)},[e,d]),W=(0,i.useCallback)(()=>{c("marker-list")},[c]),Q=(0,i.useCallback)(e=>{let n=k(e);if(!n?.length&&!o.length)return;let a=n&&n[0],l=n&&1===n.length&&a&&!o.length,t=o[0],i=1===o.length&&t&&!n?.length;l?z(a.id):i?q(t.id):G()},[o,G,q,z,k]);return{isNewConversationDialogOpen:S,startNewConversation:F,startNewConversationFromActionBar:N,closeNewConversationDialog:A,startNewConversationWithSuggestedChange:L,startNewConversationFromActionBarWithSuggestedChange:T,shouldStartNewConversationWithSuggestedChange:I,isContextMenuOpen:D,openContextMenu:E,openContextMenuFromActionBar:P,closeContextMenu:R,toggleContextMenu:M,toggleContextMenuFromActionBar:O,optimizedSelectedThreadId:B,optimizedSelectedAnnotationId:U,selectThread:z,selectAnnotation:q,openMarkerDetailsDialog:$,closeConversationDetailsDialog:H,isMarkerListDialogOpen:b===e,openMarkerListDialog:G,closeMarkerListDialog:W,openMarkerOrListDialogFromActionBar:(0,i.useCallback)(e=>{Q(e),s(n)},[n,Q]),openMarkerOrListDialog:(0,i.useCallback)(e=>{Q(e)},[Q]),annotations:o,returnFocusRef:r,threads:x,anyMenuOpen:v}}function eG({cellRef:e}){let{showActionBar:n,hideActionBar:a,anyMenuOpen:l}=eU(),[t,r]=(0,i.useState)(!1),s=(0,i.useCallback)(()=>{n()},[n]),o=(0,i.useCallback)(n=>{!l&&(e.current&&e.current.contains(n.relatedTarget)||a())},[l,e,a]),d=(0,i.useCallback)(()=>{n()},[n]),c=(0,i.useCallback)(()=>{!l&&(e.current===document.activeElement||e.current?.contains(document.activeElement)||a())},[l,e,a]);return{isActionBarFocused:t,handleCellBlur:o,handleCellFocus:s,handleCellMouseEnter:d,handleCellMouseLeave:c,handleActionBarBlur:(0,i.useCallback)(n=>{e.current&&!l&&(e.current.contains(n.relatedTarget)?e.current===n.relatedTarget&&r(!1):(a(),r(!1)))},[l,e,a]),handleActionBarFocusCapture:(0,i.useCallback)(e=>{l||(e.stopPropagation(),r(!0))},[l]),handleActionBarKeydownCapture:(0,i.useCallback)(e=>{!l&&W(e.key)&&e.stopPropagation()},[l])}}function eW(e,n,a){let{sendAnalyticsEvent:l}=(0,eu.s)(),{getDiffLinesFromLineRange:t,selectedDiffRowRange:r}=_(),s=C(function(a,i){if(!e)return;let r=function(e){if(!e)return"DELETION"!==n.type;if("right"===e.startOrientation&&"right"===e.endOrientation)return!0;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation)return"DELETION"!==n.type;let a=t(e)?.selectedLeftLines;return!!a?.every(e=>"empty-diff-line"!==e&&"DELETION"!==e.type)}(a);return{isValidSuggestionRange:r,showSuggestChangesButton:r,sourceContentFromDiffLines:r?function(e){let a=t(e)?.selectedRightLines;if(e&&a&&a.length>1)return(0,b.Ls)(a);if(!n)return"";let[l]=(0,b._S)(n.text,n.type);return l}(a):void 0,onInsertSuggestedChange:()=>{l("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:i}});return(0,i.useMemo)(()=>({selectedDiffRowRange:r,configureSuggestedChangesFromLineRange:s,shouldStartNewConversationWithSuggestedChange:a}),[r,s,a])}a(70283);var eQ=a(64515),eX=a(91321),eY=a(62456),eJ=a(46008),eZ=a(82126);let e0={commentIndicatorContainer:"CommentIndicator-module__commentIndicatorContainer--L8lU3",AvatarStack:"CommentIndicator-module__AvatarStack--jMN2F",Compact:"CommentIndicator-module__Compact--SQwGN",Relaxed:"CommentIndicator-module__Relaxed--DWkA5",textStyles:"CommentIndicator-module__textStyles--ahQJa"},e1={compact:{avatarSize:18},relaxed:{avatarSize:20}};function e2({shouldAnimateRef:e,lineSpacingPreference:n="relaxed"}){let{diffLine:a}=V(),{ghostUser:t}=eE();(0,i.useEffect)(()=>{e?.current&&(e.current=!1)},[e]);let{avatarSize:r}=e1[n],s=(a.threadsData?.totalCommentsCount||0)+(a.annotationsData?.totalCount||0);if(0===s)return null;let o={},d=[];a.annotationsData?.annotations?.map(e=>{e?.annotationLevel&&d.push({id:e.id,level:e.annotationLevel})}),a.threadsData?.threads?.map(e=>e?.commentsData?.comments?.map(e=>{e?.author?o[e?.author.login]=e.author:t?.login&&(o[t.login]=t)}));let c=[...d.sort((e,n)=>(eZ.GF[e.level]?.priority||0)<(eZ.GF[n.level]?.priority||0)?-1:1).map(n=>e?.current?(0,l.jsx)(eZ.S,{annotationLevel:n.level},n.id):(0,l.jsx)(eZ.Xh,{annotationLevel:n.level},n.id)),...Object.keys(o).map(e=>{let n=o[e]?.login,a=o[e]?.avatarUrl??(t?.avatarUrl||" ");return(0,l.jsx)(eY.r,{alt:n,size:20,src:a},n)})].slice(0,3),u=s>9?"9+":`${s}`;return(0,l.jsxs)("div",{className:(0,F.$)("d-flex","flex-justify-between","flex-items-center",e0.commentIndicatorContainer),children:[(0,l.jsx)(eJ.A,{disableExpand:!0,size:r,className:(0,F.$)(e0.AvatarStack,"relaxed"===n?e0.Relaxed:e0.Compact),children:c}),(0,l.jsx)("span",{className:(0,F.$)("fgColor-default","ml-1",e0.textStyles),children:u})]})}try{e2.displayName||(e2.displayName="CommentIndicator")}catch{}var e4=a(35149),e3=a(39298),e6=a(5993);let e8=({fileDiffReference:e,selectedRange:n,showDivider:a})=>{let t=(0,i.useMemo)(()=>{let a={...e};return n&&(a.selectedRange={start:`${n?.startOrientation[0]?.toUpperCase()??""}${n?.startLineNumber}`,end:`${n?.endOrientation[0]?.toUpperCase()??""}${n?.endLineNumber}`}),a},[e,n]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(eT.W,{children:[(0,l.jsx)(eT.W.Anchor,{children:(0,l.jsxs)(eA.l.Item,{children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.CopilotIcon,{})}),"Copilot"]})}),(0,l.jsx)(eT.W.Overlay,{children:(0,l.jsxs)(eA.l,{children:[(0,l.jsx)(e3.t,{fileDiffReference:t,eventContext:{prx:!0}}),(0,l.jsx)(e6.e,{fileDiffReference:t,eventContext:{prx:!0}}),(0,l.jsx)(e4.i,{fileDiffReference:t,eventContext:{prx:!0}})]})})]}),a&&(0,l.jsx)(eA.l.Divider,{})]})};try{e8.displayName||(e8.displayName="CopilotDiffChatContextMenu")}catch{}function e7(){let{nextHunk:e,currentHunk:n,previousHunk:a}=V(),{addInjectedContextLines:l}=eE();return e5(l,e,n,a)}function e5(e,n,a,l){let t=!!a&&0!==a.startBlobLineNumber,i=!!a&&!!n;return{expandStartOfHunk:()=>{t&&a&&e({start:Math.max(0,a.startBlobLineNumber-20),end:a.startBlobLineNumber})},expandEndOfHunk:()=>{i&&a&&e({start:a.endBlobLineNumber+1,end:a.endBlobLineNumber+1+20})},expandEndOfPreviousHunk:()=>{l&&e({start:l.endBlobLineNumber+1,end:l.endBlobLineNumber+1+20})},canExpandEndOfHunk:i,canExpandStartOfHunk:t}}var e9=a(96339);let ne={left:"L",right:"R"},nn="Add comment",na="Suggest change";function nl(e,n,a){let l=a&&!(0,b.Ji)(n)?ne.left:ne.right;return`${e} on line ${l}${n.blobLineNumber}`}function nt({handleStartConversationWithSuggestedChange:e,handleStartConversation:n}){let a,t,r;let{selectedDiffRowRange:s,selectedDiffLines:o,replaceSelectedDiffRowRange:d}=_(),{commentingEnabled:c}=eE(),{diffLine:u,isLeftSide:m,isSplit:p,diffContext:g}=V(),f=(0,i.useMemo)(()=>o.leftLines[0],[o.leftLines]),h=(0,i.useMemo)(()=>o.leftLines[o.leftLines.length-1],[o.leftLines]),y=(0,i.useMemo)(()=>o.leftLines.every(e=>!(0,b.Po)(e)&&"DELETION"!==e.type),[o.leftLines]),k=(0,i.useMemo)(()=>o.rightLines[0],[o.rightLines]),x=(0,i.useMemo)(()=>o.rightLines[o.rightLines.length-1],[o.rightLines]),v=(0,i.useMemo)(()=>0===o.rightLines.length,[o.rightLines]),C=(0,i.useMemo)(()=>0===o.leftLines.length,[o.leftLines]),j=(0,i.useMemo)(()=>!(o.leftLines.find(e=>!(0,b.Po)(e)&&!(0,b.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)||o.rightLines.find(e=>!(0,b.Po)(e)&&!(0,b.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)),[o.leftLines,o.rightLines]),S=(0,i.useCallback)((a,l)=>{!(!s||!h||!f||(0,b.Po)(h)||(0,b.Po)(f))&&f.left&&h.left&&(d({diffAnchor:s.diffAnchor,endLineNumber:h.left,endOrientation:"left",startLineNumber:f.left,startOrientation:"left",firstSelectedLineNumber:f.left,firstSelectedOrientation:"left"}),l?.withSuggestedChange?e():n())},[s,h,f,d,e,n]),I=(0,i.useCallback)((a,l)=>{!(!s||!x||!k||(0,b.Po)(x)||(0,b.Po)(k))&&k.right&&x.right&&(d({diffAnchor:s.diffAnchor,endLineNumber:x.right,endOrientation:"right",startLineNumber:k.right,startOrientation:"right",firstSelectedLineNumber:k.right,firstSelectedOrientation:"right"}),l?.withSuggestedChange?e():n())},[s,x,k,d,e,n]),w="DELETION"!==u.type&&("pr"===g||void 0===g),F=(0,i.useMemo)(()=>!!s&&(s.startOrientation!==s.endOrientation||s.startLineNumber!==s.endLineNumber),[s]);if(!c)return null;let N=!1,L=!1;if(s&&F){let n=ne[s.startOrientation],i=ne[s.endOrientation];return r=` on lines ${n}${s.startLineNumber}-${i}${s.endLineNumber}`,!(0,b.Po)(f)&&!(0,b.Po)(h)&&f&&h&&(N=!0,a=f.left===h.left?v?` on line L${f.left}`:`, original line L${f.left}`:v?` on lines L${f.left}-L${h.right}`:`, original lines L${f.left}-L${h.left}`),!(0,b.Po)(k)&&!(0,b.Po)(x)&&k&&x&&(L=!0,t=k.right===x.right?C||p&&j?` on line R${k.right}`:`, modified line R${x.right}`:C||p&&j?` on lines R${k.right}-R${x.right}`:`, modified lines R${k.right}-R${x.right}`),(0,l.jsx)(l.Fragment,{children:p?(0,l.jsx)(l.Fragment,{children:j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(eA.l.Item,{onSelect:I,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.PlusIcon,{})}),nn+t,(0,l.jsx)(eA.l.TrailingVisual,{children:(0,l.jsx)(e9.U,{keys:"Alt+n"})})]}),(0,l.jsxs)(eA.l.Item,{onSelect:e=>I(e,{withSuggestedChange:!0}),children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.PlusCircleIcon,{})}),na+t]})]}):(0,l.jsxs)(l.Fragment,{children:[N?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(eA.l.Item,{onSelect:S,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.PlusIcon,{})}),nn+a,(0,l.jsx)(eA.l.TrailingVisual,{children:(0,l.jsx)(e9.U,{keys:v?"Alt+n":"Alt+Shift+N"})})]}),y&&(0,l.jsxs)(eA.l.Item,{onSelect:e=>S(e,{withSuggestedChange:!0}),children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.PlusCircleIcon,{})}),na+a]})]}):null,L?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(eA.l.Item,{onSelect:I,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.PlusIcon,{})}),nn+t,(0,l.jsx)(eA.l.TrailingVisual,{children:(0,l.jsx)(e9.U,{keys:"Alt+n"})})]}),(0,l.jsxs)(eA.l.Item,{onSelect:e=>I(e,{withSuggestedChange:!0}),children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.PlusCircleIcon,{})}),na+t]})]}):null]})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eI.Vr,{commandId:"pull-requests-diff-view:start-conversation-current",leadingVisual:(0,l.jsx)(T.PlusIcon,{}),children:nn+r}),w&&y&&(0,l.jsxs)(eA.l.Item,{onSelect:e,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.PlusCircleIcon,{})}),na+r]})]})})}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eI.Vr,{commandId:"pull-requests-diff-view:start-conversation-current",leadingVisual:(0,l.jsx)(T.PlusIcon,{}),children:nl(nn,u,m)}),w&&(0,l.jsxs)(eA.l.Item,{onSelect:e,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.PlusCircleIcon,{})}),nl(na,u,m)]})]})}try{nt.displayName||(nt.displayName="StartConversationContextMenuItems")}catch{}function ni(e){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nd,{...e}),(0,l.jsx)(ns,{fileDiffReference:e.copilotChatReference}),(0,l.jsx)(ng,{}),(0,l.jsx)(no,{}),(0,l.jsx)(eI.Vr,{commandId:"pull-requests-diff-view:copy-anchor-link",leadingVisual:(0,l.jsx)(T.LinkIcon,{})}),(0,l.jsx)(nf,{})]})}function nr(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nh,{}),(0,l.jsx)(no,{})]})}let ns=e=>{let{selectedDiffRowRange:n}=_();return e.fileDiffReference?(0,l.jsx)(e8,{showDivider:!0,selectedRange:n,fileDiffReference:e.fileDiffReference}):null};function no(){let{fileAnchor:e}=V();return(0,l.jsxs)(eA.l.Item,{onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.MultiSelectIcon,{})}),"Select all",(0,l.jsx)(eA.l.TrailingVisual,{children:(0,l.jsx)(e9.U,{keys:"Mod+a"})})]})}function nd({handleViewMarkersSelection:e,shouldDisplayCollapseComments:n,showStartConversation:a,startConversationCurrentLine:t,startConversationWithSuggestedChange:i}){let{commentingEnabled:r}=eE(),{originalLineHasThreads:s,modifiedLineHasThreads:o}=V(),{annotations:d}=eU(),c=d.length>0;return r&&(a||s||o||c)?(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(nt,{handleStartConversation:t,handleStartConversationWithSuggestedChange:i}),(0,l.jsx)(nc,{handleViewMarkersSelection:e,shouldDisplayCollapseComments:n}),(0,l.jsx)(eA.l.Divider,{})]}):null}function nc({handleViewMarkersSelection:e,shouldDisplayCollapseComments:n}){let a=ez(),{data:t}=(0,eF.Pe)(),{commentingEnabled:i}=eE(),{isSplit:r}=V();return t&&i&&(!a||t.commentsPreference!==eF.sI.Visible)?r?(0,l.jsx)(nu,{handleViewMarkersSelection:e,shouldDisplayCollapseComments:n}):(0,l.jsx)(nm,{onSelect:()=>e(),shouldDisplayCollapseComments:n}):null}function nu({handleViewMarkersSelection:e,shouldDisplayCollapseComments:n}){let{originalLineHasThreads:a,modifiedLineHasThreads:t,isLeftSide:i}=V(),{annotations:r}=eU(),s=r.length>0;return i?(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(np,{text:n?"Collapse comments":"Expand comments",onSelect:()=>e("LEFT")}),(t||s)&&(0,l.jsx)(np,{text:n?"Collapse comments, modified line":"Expand comments, modified line",onSelect:()=>e("RIGHT")})]}):(0,l.jsxs)(l.Fragment,{children:[(t||s)&&(0,l.jsx)(np,{text:n?"Collapse comments":"Expand comments",onSelect:()=>e("RIGHT")}),a&&(0,l.jsx)(np,{text:n?"Collapse comments, original line":"Expand comments, original line",onSelect:()=>e("LEFT")})]})}function nm({onSelect:e,shouldDisplayCollapseComments:n}){let{ghostUser:a}=eE(),{diffLine:t}=V(),{annotations:i}=eU();return t&&O(t.threadsData,a).length>0||i.length>0?(0,l.jsx)(np,{text:n?"Collapse comments":"Expand comments",onSelect:()=>e()}):null}function np({onSelect:e,text:n}){return(0,l.jsxs)(eA.l.Item,{onSelect:e,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.CommentDiscussionIcon,{})}),n]})}function ng(){return(0,l.jsx)("div",{onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:(0,l.jsx)(eI.Vr,{commandId:"pull-requests-diff-view:copy-code",leadingVisual:(0,l.jsx)(T.CopyIcon,{})})})}function nf(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:n}=e7(),{previousHunk:a,nextHunk:t}=V();return e||n||a||t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eA.l.Divider,{}),(0,l.jsx)(nh,{}),(0,l.jsx)(ny,{})]}):null}function nh(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:n}=e7();return(0,l.jsxs)(l.Fragment,{children:[e&&(0,l.jsx)(eI.Vr,{commandId:"pull-requests-diff-view:expand-hunk-up",leadingVisual:(0,l.jsx)(T.FoldUpIcon,{})}),n&&(0,l.jsx)(eI.Vr,{commandId:"pull-requests-diff-view:expand-hunk-down",leadingVisual:(0,l.jsx)(T.FoldDownIcon,{})})]})}function ny(){let{previousHunk:e,nextHunk:n}=V(),{fileAnchor:a}=V();return(0,l.jsxs)(l.Fragment,{children:[n?(0,l.jsxs)(eA.l.Item,{"aria-keyshortcuts":"PageDown",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${a}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageDown"}))})},children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.MoveToBottomIcon,{})}),"Go to next hunk",(0,l.jsx)(eA.l.TrailingVisual,{children:"Page Down"})]}):null,e?(0,l.jsxs)(eA.l.Item,{"aria-keyshortcuts":"PageUp",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${a}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))})},children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.MoveToTopIcon,{})}),"Go to previous hunk",(0,l.jsx)(eA.l.TrailingVisual,{children:"Page Up"})]}):null]})}try{ni.displayName||(ni.displayName="CellContextMenu")}catch{}try{nr.displayName||(nr.displayName="EmptyCellContextMenu")}catch{}try{no.displayName||(no.displayName="SelectAllListItem")}catch{}try{nd.displayName||(nd.displayName="MarkerListItems")}catch{}try{nc.displayName||(nc.displayName="ViewMarkerListItems")}catch{}try{nu.displayName||(nu.displayName="SplitDiffMarkersListItems")}catch{}try{nm.displayName||(nm.displayName="UnifiedDiffMarkerListItem")}catch{}try{np.displayName||(np.displayName="MarkerListItem")}catch{}try{ng.displayName||(ng.displayName="CopyContentListItems")}catch{}try{nf.displayName||(nf.displayName="HunkListItems")}catch{}try{nh.displayName||(nh.displayName="ExpandHunksListItems")}catch{}try{ny.displayName||(ny.displayName="JumpToHunkListItems")}catch{}var nb=a(30729);function nk({iconColor:e,icon:n,size:a=12,backgroundColor:t="fg.onEmphasis",absolute:i=!0,backgroundSx:r}){let s,o;return 12===a?(s="10px",o="1px"):20===a?(s="16px",o="2px"):(s="16px",o="4px"),(0,l.jsxs)(ep.A,{sx:{display:"flex",borderRadius:"100px",...i?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},...r},children:[(0,l.jsx)(ep.A,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:s,height:s,left:o,top:o,backgroundColor:t}}),(0,l.jsx)(nb.A,{icon:n,size:a,sx:{color:e,position:"relative"}})]})}try{nk.displayName||(nk.displayName="StatusIcon")}catch{}function nx({zIndex:e,altText:n,hovercardUrl:a,src:t,square:i,icon:r,iconColor:s,backgroundColor:o,backgroundSx:d,sx:c,size:u=20}){return(0,l.jsxs)(ep.A,{sx:{position:"relative",display:"flex",gap:2,alignItems:"center",...e,...c},children:[(0,l.jsx)(eY.r,{alt:n,"data-hovercard-url":a,size:u,square:i,src:t}),(0,l.jsx)(nk,{icon:r,iconColor:s,size:12,backgroundColor:o,backgroundSx:d})]})}try{nx.displayName||(nx.displayName="StatusAvatar")}catch{}function nv({authorAvatarUrl:e,authorLogin:n,lineSpacingPreference:a,sx:t}){return(0,l.jsx)(nx,{altText:`${n}'s avatar image with pending indicator`,icon:T.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,size:"compact"===a?18:20,src:e,backgroundSx:{backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",boxShadow:"0 0 0 .1px var(--bgColor-default, var(--color-canvas-default))"},sx:{alignItems:"center",display:"flex",height:"var(--diff-line-minimum-height)",...t}})}try{nv.displayName||(nv.displayName="InProgressCommentIndicator")}catch{}let nC={"action-bar-position":"ActionBar-module__action-bar-position--q5zYS","left-action-bar":"ActionBar-module__left-action-bar--EJ7Y6","left-action-bar-draft-compact":"ActionBar-module__left-action-bar-draft-compact--BA7vx","left-action-bar-draft-relaxed":"ActionBar-module__left-action-bar-draft-relaxed--yz9iI","left-action-bar-new":"ActionBar-module__left-action-bar-new--NXupU",actionBarArrowSizing:"ActionBar-module__actionBarArrowSizing--VJyrJ",actionBarHeight:"ActionBar-module__actionBarHeight--BT8aR",actionBarStartCommentWidth:"ActionBar-module__actionBarStartCommentWidth--NZ_pB","action-bar-button-group":"ActionBar-module__action-bar-button-group--eolOy"},nj=(0,i.forwardRef)(function({authorAvatarUrl:e,authorLogin:n,cellId:a,cellRef:t,showStartConversation:r,hasDraftComment:s,copilotChatReference:o,onOpenInLineThread:d,onStartConversation:c,shouldDisplayCollapseComments:u},m){let p=(0,i.useRef)(null),g=(0,i.useRef)(null),{commentingEnabled:f,viewerData:{lineSpacingPreference:h,commentsPreference:y}}=eE(),{diffLine:b,isRowSelected:k}=V(),x=(0,i.useRef)(null),v=p.current?p:g;(0,eQ.T)(m,v);let C=ez(),j=b.threadsData?.totalCommentsCount||0,S=b.annotationsData?.totalCount||0,{isActionBarFocused:_,handleActionBarBlur:I,handleActionBarFocusCapture:w,handleActionBarKeydownCapture:L}=eG({cellRef:t}),{annotations:A,isContextMenuOpen:K,openMarkerOrListDialogFromActionBar:D,startNewConversationFromActionBar:E,startNewConversationFromActionBarWithSuggestedChange:P,anyMenuOpen:R,threads:M,toggleContextMenu:O,toggleContextMenuFromActionBar:B}=eq({cellId:a,actionBarRef:x,onOpenInLineThread:d}),U=(0,i.useCallback)(e=>{k&&e.preventDefault()},[k]),$=f&&j+S>0&&(!C||y===eF.sI.Collapsed),H=f&&r,z={onBlur:I,onFocusCapture:w,onKeyDownCapture:L},q=(0,i.useCallback)(e=>{c?.(),E(),U(e)},[c,E,U]);return(0,l.jsxs)(l.Fragment,{children:[H&&(0,l.jsx)("div",{"aria-hidden":!_,className:(0,F.$)("d-flex","flex-row",nC["left-action-bar"]),children:(0,l.jsx)(l.Fragment,{children:s?(0,l.jsx)(N.Q,{"aria-label":"Continue comment in progress",size:"small",className:(0,F.$)("py-0","compact"===h?nC["left-action-bar-draft-compact"]:nC["left-action-bar-draft-relaxed"],nC.actionBarHeight),onClick:q,...z,children:(0,l.jsx)(nv,{lineSpacingPreference:h,authorAvatarUrl:e,authorLogin:n})}):(0,l.jsx)(Z.K,{unsafeDisableTooltip:!0,"aria-label":"Add comment",ref:g,icon:T.PlusIcon,size:"small",className:(0,F.$)("fgColor-muted","bgColor-accent-emphasis","fgColor-onEmphasis","px-0",nC["left-action-bar-new"],nC.actionBarHeight,nC.actionBarStartCommentWidth),onClick:q,...z})})}),(0,l.jsx)("div",{"aria-hidden":!_,className:(0,F.$)("d-flex","flex-row",nC["action-bar-position"]),children:(0,l.jsxs)(eX.A,{onClick:U,className:nC["action-bar-button-group"],...z,children:[$&&(0,l.jsx)(N.Q,{ref:p,"aria-expanded":R,"aria-label":"View comments",size:"small",className:(0,F.$)("py-0","px-1",nC.actionBarHeight),onClick:e=>{(1===M.length||1===A.length)&&e.preventDefault(),D()},children:(0,l.jsx)(e2,{lineSpacingPreference:h})}),(0,l.jsxs)(eT.W,{anchorRef:x,open:K,onOpenChange:O,children:[(0,l.jsx)(eT.W.Anchor,{children:(0,l.jsx)(Z.K,{unsafeDisableTooltip:!0,ref:x,"aria-haspopup":"true","aria-label":"More actions",icon:T.TriangleDownIcon,size:"small",className:(0,F.$)("fgColor-muted",nC.actionBarArrowSizing),onClick:B})}),(0,l.jsx)(eT.W.Overlay,{width:"medium",children:(0,l.jsx)(eA.l,{children:(0,l.jsx)(ni,{shouldDisplayCollapseComments:u,copilotChatReference:o,showStartConversation:r,handleViewMarkersSelection:D,startConversationCurrentLine:E,startConversationWithSuggestedChange:P})})})]})]})})]})});nj.displayName="ActionBar";let nS={visibilityHidden:"DiffHighlightedOverlay-module__visibilityHidden--v59uf",userSelectNone:"DiffHighlightedOverlay-module__userSelectNone--i39lB",focusedResultStyles:"DiffHighlightedOverlay-module__focusedResultStyles--QZMIm",nonFocusedResultStyles:"DiffHighlightedOverlay-module__nonFocusedResultStyles--x2N7d",nonHunkStyles:"DiffHighlightedOverlay-module__nonHunkStyles--_dJlQ"};function n_({searchResults:e,focusedSearchResult:n,className:a,styleObject:t}){let i=0,r=e[0]?.text??"",s=e[0]?.diffLineNumIndex??-1,o=`overlay-${s}-${r}`;return(0,l.jsxs)("span",{className:(0,F.$)(a,"position-absolute",nS.userSelectNone,!e[0].isHunk&&nS.nonHunkStyles),style:{...t},children:[e.map(e=>{var a,t;let s=e.indexWithinPathDigest===n,o=(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:(0,F.$)(nS.visibilityHidden,nS.userSelectNone),children:r.substring(i,e.column)}),(0,l.jsx)("span",{className:(0,F.$)(nS.userSelectNone,s&&nS.focusedResultStyles,!s&&nS.nonFocusedResultStyles),children:(0,l.jsx)("span",{className:(0,F.$)(!s&&nS.visibilityHidden),id:(a=e.indexWithinPathDigest,t=e.pathDigest,`match-${t}-${a}`),children:r.substring(e.column,e.columnEnd)})})]},`find-match-${e.diffLineNumIndex}-${e.column}`);return i=e.columnEnd,o}),(0,l.jsx)("span",{className:(0,F.$)(nS.visibilityHidden,nS.userSelectNone),children:r.substring(i)})]},o)}try{n_.displayName||(n_.displayName="DiffHighlightedOverlay")}catch{}function nI(e,n,a){let l=e.threadsData?.totalCount||0,t=n.threadsData?.totalCount||0;if(0===l&&0===t)return;let i="";1===l?i="has a comment.":l>1&&(i="has comments.");let r="";1===t?r="has a comment.":t>1&&(r="has comments.");let s="";if("LEFT"===a){let e=`${i.charAt(0).toUpperCase()}${i.slice(1)}`,n=`${r.length>1?"Modified line":""} ${r}`;s=`${e} ${n}`}else{let e=`${r.charAt(0).toUpperCase()}${r.slice(1)}`,n=`${i.length>1?"Original line":""} ${i}`;s=`${e} ${n}`}return s}function nw({summary:e}){let n=ez();return""===e?null:(n&&(e+=" Press Enter to view."),(0,l.jsx)("span",{className:"sr-only user-select-none",children:e.trimStart().trimEnd()}))}try{nw.displayName||(nw.displayName="DiffLineScreenReaderSummary")}catch{}var nF=a(76797);let nN={"comment-indicator":"DiffLineTableCellParts-module__comment-indicator--eI0hb","in-progress-comment-indicator":"DiffLineTableCellParts-module__in-progress-comment-indicator--hx3m3"},nL=["CONTEXT","INJECTED_CONTEXT"];function nT(e){let{rowId:n}=V();if(n)return(0,b.u6)(n,e)}function nA(e,n){let{selectedDiffRowRange:a}=_();return(0,i.useMemo)(()=>{let l="Add a comment on",t=!!a&&a.startLineNumber!==a.endLineNumber;if(a&&t){let e={left:"L",right:"R"},n=e[a.startOrientation],t=e[a.endOrientation];l+=a.startLineNumber!==a.endLineNumber?` lines ${n}${a.startLineNumber} to ${t}${a.endLineNumber}`:` line ${n}${a.startLineNumber}`}else{let a=n&&!(0,b.Ji)(e)?"L":"R";l+=` line ${a}${e.blobLineNumber}`}return l},[e,n,a])}let nK=(0,i.forwardRef)(function({children:e,ContextMenu:n,className:a,columnIndex:t,handleDiffCellClick:r,handleDiffCellMouseDown:s,handleHideMarkersFromFocus:o,handleDiffSideCellSelectionBlocking:d,handleStartConversation:c,lineAnchor:u,firstLineNumberSelection:m,commentDialogOpen:p,enterDialogMode:g,hasThreads:f,...y},k){let{diffLine:x,fileAnchor:v,isRowSelected:C,isLeftSide:j,isSplit:S,setInGridMode:I}=V(),w=(0,i.useRef)(null);(0,i.useImperativeHandle)(k,()=>w.current,[]);let[F,N]=(0,i.useState)(!1),{selectedDiffRowRange:L}=_(),{disableInlineCommentDialogMode:T,isInDialogMode:A}=(0,Y.q)(),{getUnifiedDiffLineCode:K,getSplitDiffSingleLineCode:D,getSplitDiffMultiLineCode:E}=function(e){let{selectedDiffRowRange:n,selectedDiffLines:a,getDiffLinesByDiffAnchor:l}=_();return{getUnifiedDiffLineCode:()=>{let a=l(e);if(!a||!n)return"";let{startOrientation:t,endOrientation:i,startLineNumber:r,endLineNumber:s}=n,o=0,d=0;return a.length>1&&(o=a.findIndex(e=>"left"===t?e.left===r:e.right===r),d=a.findIndex(e=>"left"===i?e.left===s:e.right===s)),(0,b.Ls)(a.slice(o,d+1))},getSplitDiffSingleLineCode:(n,a)=>{if(!n||!a)return"";let t=l(e)?.find(e=>"left"===n?e.left===a:e.right===a);return t?(0,b.Ls)([t]):""},getSplitDiffMultiLineCode:e=>void 0===e?"":"left"===e?(0,b.Ls)(a.leftLines):(0,b.Ls)(a.rightLines)}}(v),P=(0,i.useRef)(null),R=(0,ew.U)(e=>{if(!e.target)return;let n=e.target;!F||P.current?.contains(n)||w.current?.contains(n)||2!==e.button?w.current?.contains(n)&&e.target.closest("button")?.contains(n)&&N(!1):N(!1),w.current?.contains(n)||(T(),I?.(!0))});(0,i.useEffect)(()=>(h.XC?.addEventListener("mousedown",R),()=>h.XC?.removeEventListener("mousedown",R)),[R]),(0,i.useEffect)(()=>()=>h.XC?.removeEventListener("mousedown",R),[]);let M=(0,i.useCallback)(()=>{m?.current&&(m.current=null)},[m]),O=(0,i.useCallback)(e=>{let n=e.target?.closest("td"),a=n?.classList.contains("diff-line-number");e.shiftKey?e.preventDefault():a?s?.():m&&(m.current=null),m&&a&&(m.current=j?x.left:x.right),d?.(e)},[d]);(0,eN.r)({restoreFocusOnCleanUp:!0,containerRef:w,disabled:!A});let B=(0,i.useCallback)(()=>{w.current?.focus(),T(),I?.(!0)},[T,I]),U=ez(),$=(0,i.useCallback)(e=>{U&&e.target===w.current&&"Enter"===e.key&&(g?.(),!1===f&&c?.())},[g,U,c,f]);(0,eL.P)(()=>{B()},[B]);let H=`inline-dialog-heading-${(0,i.useId)()}`;return(0,l.jsxs)(eI.tL,{as:"td",commands:{"pull-requests-diff-view:copy-code":()=>{let e=window.getSelection();if(e&&""!==e.toString()){document.execCommand("copy");return}if(S){void 0===L||L?.startOrientation===L?.endOrientation&&L?.startLineNumber===L?.endLineNumber?(0,nF.D)(D(j?"left":"right",j?x?.left:x?.right)):(0,nF.D)(E(j?"left":"right"));return}(0,nF.D)(K())},"pull-requests-diff-view:copy-anchor-link":()=>{let e=(0,b.j2)({line:x,range:L,fileAnchor:v});e&&(0,nF.D)(e)},"pull-requests-diff-view:start-conversation-current":c},ref:w,"data-grid-cell-id":nT(t),"data-line-anchor":u,"data-selected":C,role:A?"dialog":"gridcell",style:{userSelect:"none",position:"relative"},tabIndex:-1,valign:"top",className:a?`focusable-grid-cell ${a} ${t<3?"left-side":""}`:"focusable-grid-cell",onKeyUp:$,onBlur:e=>e.target.ariaSelected="false",onClick:r,onFocus:e=>e.target.ariaSelected="true",onMouseDown:O,onMouseUp:M,"aria-labelledby":A?H:void 0,...y,children:[A&&(0,l.jsx)("h1",{id:H,className:"sr-only",children:"Comment view"}),e,n&&F&&(0,l.jsx)(eT.W,{anchorRef:w,open:!0,onOpenChange:N,children:(0,l.jsx)(eT.W.Overlay,{width:e?"medium":"small",children:(0,l.jsx)(eA.l,{children:n})})})]})});function nD(){let{isSplit:e}=V();return(0,l.jsx)("div",{className:(0,F.$)("hunk-kebab-icon pr-2 pb-1",!e&&"hunk-kebab-icon-unified"),children:(0,l.jsx)(T.KebabHorizontalIcon,{})})}let nE=(0,i.forwardRef)(function({summary:e,searchResultsForLine:n,focusedSearchResult:a,columnIndex:t,lineAnchor:r,firstLineNumberSelection:s,handleDiffCellClick:d,handleDiffSideCellSelectionBlocking:c,filePath:u,copilotChatReference:m},p){let{diffLine:g,fileAnchor:f,isLeftSide:h,setInGridMode:y}=V(),[k,x]=(0,b._S)(g.html,g.type),[v,C]=(0,i.useState)(""),j=x&&["+","-"].includes(x),{isActionBarVisible:S}=eU(),{selectedDiffRowRange:I,selectedDiffLines:w}=_(),{commentBatchPending:N,commentingEnabled:L,commentingImplementation:A,initialExpandedThreadId:K,markerNavigationImplementation:D,repositoryId:E,subjectId:P,subject:R,viewerData:M}=eE(),{hasPersistedComment:O}=(0,J.L4)({diffSide:h?"LEFT":"RIGHT",filePath:u,line:g.blobLineNumber,subjectId:P,fileLevelComment:!1}),{isInDialogMode:B,enableInlineCommentDialogMode:U,disableInlineCommentDialogMode:$}=(0,Y.q)(),H=(0,i.useRef)(null),z=(0,i.useRef)(null);(0,i.useImperativeHandle)(p,()=>z.current,[]);let q=ez(),G=!!g.threadsData?.threads?.length||!!g.annotationsData?.annotations?.length,W=(0,b.S4)({hasThreads:G&&!q}),Q=nA(g,!!h),X=nT(t),{handleCellBlur:Z,handleCellFocus:ee,handleCellMouseEnter:en,handleCellMouseLeave:ea}=eG({cellRef:z}),[el,et]=(0,i.useState)(!1),ei=(0,i.useCallback)(()=>{el?($(),y?.(!0)):(U(),y?.(!1)),et(!el)},[$,U,y,el]),{annotations:er,isNewConversationDialogOpen:es,shouldStartNewConversationWithSuggestedChange:eo,startNewConversation:ed,startNewConversationWithSuggestedChange:ec,openMarkerOrListDialog:eu,selectAnnotation:em,selectThread:ep,isMarkerListDialogOpen:eg,closeNewConversationDialog:ef,closeMarkerListDialog:eh,closeConversationDetailsDialog:ey,returnFocusRef:eb,optimizedSelectedAnnotationId:ek,optimizedSelectedThreadId:ex,threads:ev}=eq({cellId:X,actionBarRef:H,onOpenInLineThread:ei}),eC=(0,i.useMemo)(()=>{var e;return(!es||!q)&&(e=M.viewerCanComment,L&&e&&(0,b.a1)(g,w))},[es,q,L,M.viewerCanComment,g,w]),ej=(0,i.useCallback)((e=!0)=>{z.current?.classList.contains("diff-text-cell")&&(U(),y?.(!1),e&&setTimeout(()=>{z.current?.querySelector('[data-first-thread-comment="true"]')?.focus()},0))},[U,y]);(0,i.useEffect)(()=>{A&&K&&ex!==K&&ev.map(e=>e.id).includes(K)&&ep(K,{skipLineSelection:!0})},[K]),(0,i.useEffect)(()=>{if(!D)return;let{activeGlobalMarkerID:e,onActivateGlobalMarkerNavigation:n}=D;if(e){let a=ev.map(e=>e.id),l=er.map(e=>e.id);a.includes(e)?(ep(e,{skipLineSelection:!0}),n()):l.includes(e)&&(em(e,{skipLineSelection:!0}),n())}},[ep,ev,D,er,em]);let e_=({onCompleted:e,threadsConnectionId:n,...a})=>{if(!A||!g)return;let{leftLines:l,rightLines:t}=w;if(I){let e="left"===I.endOrientation?l:t,a=e[e.length-1];a&&(0,b.qK)(a)&&a.threadsData?.__id&&(n=a.threadsData?.__id)}A.addThread({...a,diffLine:g,isLeftSide:h,selectedDiffRowRange:I,threadsConnectionId:n,onCompleted:(n,a)=>{e?.(n,a),ep(n),q&&C(n)}})},eI=({onCompleted:e,...n})=>{A&&g&&A.deleteComment({...n,onCompleted:()=>{e?.(),ev.length<=1&&(ey(),setTimeout(()=>z.current?.focus()))},filePath:u})},ew=eW(A?.suggestedChangesEnabled,g,eo),eN=(0,i.useCallback)(()=>{q&&ej?.(),ed?.()},[q,ej,ed]),eL=(0,i.useCallback)(()=>{$(),y?.(!0)},[$,y]),eT=(0,i.useCallback)(()=>{B||0!==(z.current?.querySelectorAll(":focus")??[]).length||($(),y?.(!0))},[$,B,y]),eA=(0,i.useRef)(!0),{ghostUser:eK}=eE(),eD=(0,i.useMemo)(()=>q&&(G||es)&&(M.commentsPreference===eF.sI.Visible||el||es),[q,G,es,el,M.commentsPreference]);return(0,l.jsxs)(nK,{ref:z,columnIndex:t,commentDialogOpen:es,handleDiffCellClick:d,enterDialogMode:ej,handleDiffSideCellSelectionBlocking:c,lineAnchor:r,firstLineNumberSelection:s,handleStartConversation:eN,hasThreads:G,ContextMenu:(0,l.jsx)(ni,{copilotChatReference:m,showStartConversation:eC,handleViewMarkersSelection:eu,startConversationCurrentLine:eN,startConversationWithSuggestedChange:ec}),className:(0,F.$)(`diff-text-cell ${h?"left-side-diff-cell":"right-side-diff-cell"}`,{"border-right":h&&"HUNK"!==g.type}),style:{backgroundColor:nB(g.type,!1),paddingRight:W},onBlur:e=>{Z(e),eT()},onFocus:ee,onMouseEnter:en,onMouseLeave:ea,children:[(0,l.jsxs)("code",{className:(0,F.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===g.type,deletion:"DELETION"===g.type}),children:[j&&(0,l.jsx)("span",{className:"diff-text-marker",children:x}),n&&n.length>0&&(0,l.jsx)(n_,{searchResults:n,focusedSearchResult:a,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===g.type})}),(0,l.jsx)(o.mo,{html:k,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===g.type})})]}),g.displayNoNewLineWarning&&(0,l.jsx)(T.NoEntryIcon,{size:16,className:"fgColor-danger"}),S&&!B&&(0,l.jsx)(nj,{shouldDisplayCollapseComments:!!q&&el,copilotChatReference:m,authorAvatarUrl:M.avatarUrl,authorLogin:M.login,ref:H,cellId:X,cellRef:z,onStartConversation:eN,hasDraftComment:O,showStartConversation:eC,onOpenInLineThread:ei}),A&&D&&(0,l.jsx)(l.Fragment,{children:eD?(0,l.jsx)(eS,{manuallyUpdateCommentsWithThisThreadId:v,annotations:er,enterDialogMode:ej,batchPending:N,batchingEnabled:A.batchingEnabled,commentingImplementation:{...A,deleteComment:eI},conversationListThreads:ev,fileAnchor:f,filePath:u,onCloseFocusMode:eL,isMarkerListOpen:!!z.current?.classList.contains("diff-text-cell")&&ev.length>0,lineType:g.type,repositoryId:E,returnFocusRef:eb,selectedAnnotationId:ek,selectedThreadId:ex||(z.current?.classList.contains("diff-text-cell")&&ev.length>0?ev[0]?.id:null),subjectId:P,subject:R,suggestedChangesConfig:ew,onCloseConversationDialog:ey,onCloseConversationList:eh,onAnnotationSelected:em,onThreadSelected:ep,viewerData:M,ghostUser:eK,children:es&&(0,l.jsx)("div",{className:(0,F.$)(" border rounded-2 color-border-default",(ev.length,"mt-2 mb-1")),children:(0,l.jsx)(J.cT,{isDialog:!1,addCommentDialogTitle:Q,anchorRef:z,batchPending:N,batchingEnabled:A.batchingEnabled,commentBoxConfig:A.commentBoxConfig,filePath:u,isLeftSide:!!h,isOpen:es,lineNumber:g.blobLineNumber,repositoryId:E,returnFocusRef:eb,subjectId:P,suggestedChangesConfig:ew,viewerData:M,onAddComment:e_,onCloseCommentDialog:ef})})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(J.c7,{annotations:er,batchPending:N,batchingEnabled:A.batchingEnabled,commentingImplementation:{...A,deleteComment:eI},conversationAnchorRef:z,conversationListAnchorRef:eb,conversationListThreads:ev,fileAnchor:f,filePath:u,isMarkerListOpen:eg,repositoryId:E,returnFocusRef:eb,selectedAnnotationId:ek,selectedThreadId:ex,subjectId:P,subject:R,suggestedChangesConfig:ew,onCloseConversationDialog:ey,onCloseConversationList:eh,onAnnotationSelected:em,onThreadSelected:ep,markerNavigationImplementation:D,viewerData:M,ghostUser:eK}),(0,l.jsx)(J.cT,{addCommentDialogTitle:Q,anchorRef:z,batchPending:N,batchingEnabled:A.batchingEnabled,commentBoxConfig:A.commentBoxConfig,filePath:u,isLeftSide:!!h,isOpen:es,lineNumber:g.blobLineNumber,repositoryId:E,returnFocusRef:eb,subjectId:P,suggestedChangesConfig:ew,viewerData:M,onAddComment:e_,onCloseCommentDialog:ef})]})}),!S&&(!q||M.commentsPreference===eF.sI.Collapsed)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{"aria-hidden":"true",style:{left:"compact"===M.lineSpacingPreference?"-1px":"-2px"},className:(0,F.$)("position-absolute top-0 d-flex user-select-none",nN["in-progress-comment-indicator"]),children:O&&(0,l.jsx)(nv,{lineSpacingPreference:M.lineSpacingPreference,authorAvatarUrl:M.avatarUrl,authorLogin:M.login})}),(0,l.jsx)("div",{"aria-hidden":"true",className:(0,F.$)("position-absolute top-0 d-flex user-select-none",nN["comment-indicator"]),children:(0,l.jsx)(e2,{shouldAnimateRef:eA,lineSpacingPreference:M.lineSpacingPreference})})]}),e&&(0,l.jsx)(nw,{summary:e})]})}),nP=(0,i.memo)(nE),nR=(0,i.memo)(nM);function nM({children:e,columnIndex:n,handleDiffCellClick:a,handleDiffSideCellSelectionBlocking:t,firstLineNumberSelection:r,filePath:s,copilotChatReference:o,contentRef:d,...c}){let u=(0,i.useRef)(null),m=nT(n),{commentBatchPending:p,commentingEnabled:g,commentingImplementation:f,repositoryId:h,subject:y,subjectId:k,markerNavigationImplementation:x,viewerData:v}=eE(),{diffLine:C,fileAnchor:j,isLeftSide:S}=V(),{selectedDiffRowRange:I,selectedDiffLines:w,updateSelectedDiffRowRange:N}=_(),L=nA(C,!!S),{handleCellBlur:T,handleCellFocus:A,handleCellMouseEnter:K,handleCellMouseLeave:D}=eG({cellRef:d}),E=(0,i.useCallback)(()=>{r&&null!==r.current&&N(j,S?C.left:C.right,S?"left":"right",!0,!0),K()},[j,K,S,C.left,C.right,r,N]),P=(0,i.useCallback)(()=>{N(j,S?C.left:C.right,S?"left":"right",!1,!0)},[]),{ghostUser:R}=eE(),{annotations:M,isNewConversationDialogOpen:O,shouldStartNewConversationWithSuggestedChange:B,startNewConversation:U,startNewConversationWithSuggestedChange:$,openMarkerOrListDialog:H,isMarkerListDialogOpen:z,closeConversationDetailsDialog:q,closeMarkerListDialog:G,selectAnnotation:W,selectThread:Q,closeNewConversationDialog:X,returnFocusRef:Y,optimizedSelectedThreadId:Z,optimizedSelectedAnnotationId:ee,threads:en}=eq({cellId:m,actionBarRef:u}),ea=ez(),el=(0,i.useMemo)(()=>{var e;return(!O||!ea)&&(e=v.viewerCanComment,g&&e&&(0,b.a1)(C,w))},[O,ea,g,v.viewerCanComment,C,w]),et=eW(f?.suggestedChangesEnabled,C,B);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nK,{ref:u,className:(0,F.$)("diff-line-number position-relative",nL.includes(C.type)&&"diff-line-number-neutral"),columnIndex:n,commentDialogOpen:O,handleDiffCellClick:a,handleDiffSideCellSelectionBlocking:t,firstLineNumberSelection:r,handleStartConversation:U,style:{backgroundColor:nB(C.type,!0),textAlign:"center"},ContextMenu:(0,l.jsx)(ni,{copilotChatReference:o,showStartConversation:el,handleViewMarkersSelection:H,startConversationCurrentLine:U,startConversationWithSuggestedChange:$}),onBlur:T,onFocus:A,handleDiffCellMouseDown:P,onMouseEnter:E,onMouseLeave:D,...c,children:(0,l.jsx)("code",{children:e})}),f&&x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(J.c7,{annotations:M,batchPending:p,batchingEnabled:f.batchingEnabled,commentingImplementation:{...f,deleteComment:({onCompleted:e,...n})=>{f&&C&&f.deleteComment({...n,onCompleted:()=>{e?.(),en.length<=1&&(q(),setTimeout(()=>u.current?.focus()))},filePath:s})}},conversationAnchorRef:u,conversationListAnchorRef:Y,conversationListThreads:en,fileAnchor:j,filePath:s,isMarkerListOpen:z,repositoryId:h,returnFocusRef:Y,selectedAnnotationId:ee,selectedThreadId:Z,subjectId:k,subject:y,suggestedChangesConfig:et,markerNavigationImplementation:x,onCloseConversationDialog:q,onCloseConversationList:G,onThreadSelected:Q,onAnnotationSelected:W,viewerData:v,ghostUser:R}),(0,l.jsx)(J.cT,{addCommentDialogTitle:L,align:"start",anchorRef:u,batchPending:p,batchingEnabled:f.batchingEnabled,commentBoxConfig:f.commentBoxConfig,filePath:s,isLeftSide:!!S,isOpen:O,lineNumber:C.blobLineNumber,repositoryId:h,returnFocusRef:Y,subjectId:k,suggestedChangesConfig:et,viewerData:v,onAddComment:({onCompleted:e,threadsConnectionId:n,...a})=>{if(!f||!C)return;let{leftLines:l,rightLines:t}=w;if(I){let e="left"===I.endOrientation?l:t,a=e[e.length-1];a&&(0,b.qK)(a)&&a.threadsData?.__id&&(n=a.threadsData?.__id)}f.addThread({...a,diffLine:C,selectedDiffRowRange:I,threadsConnectionId:n,onCompleted:(n,a)=>{e?.(n,a),Q(n)}})},onCloseCommentDialog:X})]})]})}function nV({ContextMenu:e,renderHunkButton:n,searchResultsForLine:a,focusedSearchResult:t}){let r=(0,i.useRef)(null),[s,d]=function(e){let[n,a]=(0,i.useState)(!1),[l,t]=(0,i.useState)(!1),r=(0,i.useCallback)(n=>{e.current&&e.current.contains(n.relatedTarget)||a(!1)},[e]),s=(0,i.useCallback)(()=>{e.current===document.activeElement&&a(!0)},[e]),o=(0,i.useCallback)(n=>{e.current&&!e.current.contains(n.relatedTarget)&&a(!1),t(!1)},[e]);return[{onFocus:s,onBlur:r},{"aria-hidden":!l,tabIndex:n?0:-1,onBlur:o,onFocusCapture:(0,i.useCallback)(e=>{e.stopPropagation(),t(!0)},[]),onKeyDownCapture:(0,i.useCallback)(e=>{W(e.key)&&e.stopPropagation()},[])}]}(r),{diffLine:c}=V();return(0,l.jsx)(nK,{ref:r,ContextMenu:e,colSpan:4,columnIndex:0,style:{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},...s,children:(0,l.jsxs)("div",{className:"d-flex flex-row",children:[n?.(d)??(0,l.jsx)(nD,{}),(0,l.jsxs)("code",{className:"diff-text-cell hunk",children:[a&&a.length>0&&(0,l.jsx)(n_,{searchResults:a,focusedSearchResult:t,className:(0,F.$)("diff-text-inner",{"color-fg-muted":"HUNK"===c.type})}),(0,l.jsx)(o.mo,{className:"diff-text-inner color-fg-muted",html:c.html})]})]})})}function nO({columnIndex:e,showRightBorder:n}){return(0,l.jsx)(nK,{ContextMenu:(0,l.jsx)(nr,{}),className:(0,F.$)("empty-diff-line",{"border-right":n}),columnIndex:e})}function nB(e,n=!1){switch(e){case"ADDITION":return n?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return n?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return n?"var(--diffBlob-hunkNum-bgColor-rest, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return n?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}try{nK.displayName||(nK.displayName="Cell")}catch{}try{nD.displayName||(nD.displayName="HunkKebabIcon")}catch{}try{nE.displayName||(nE.displayName="ContentCellUnmemoized")}catch{}try{nP.displayName||(nP.displayName="ContentCell")}catch{}try{nR.displayName||(nR.displayName="LineNumberCell")}catch{}try{nM.displayName||(nM.displayName="LineNumberCellUnmemoized")}catch{}try{nV.displayName||(nV.displayName="HunkCell")}catch{}try{nO.displayName||(nO.displayName="EmptyCell")}catch{}var nU=a(21728),n$=a(94977);function nH(){let e;let n=(0,nU.c)(1);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(n$.A,{direction:"n",text:"This line has hidden Unicode characters",children:(0,l.jsx)(T.AlertIcon,{className:"mr-2"})}),n[0]=e):e=n[0],e}try{nH.displayName||(nH.displayName="HiddenUnicodeAlert")}catch{}let nz=({summary:e,resultsForLine:n,focusedSearchResult:a,handleDiffSideCellSelectionBlocking:t,handleDiffRowClick:r,lineAnchor:s,filePath:o,copilotChatReference:d,firstLineNumberSelection:c})=>{let{diffLine:u,hasHiddenUnicodeCharacters:m,isLeftSide:p,isSplit:g,setInGridMode:f}=V(),h=(0,i.useRef)(null),y="ADDITION"!==u.type,b=!g||p,k=b&&!y,x="DELETION"!==u.type,v=!g||!p,C=v&&!x,j=(0,i.useCallback)(e=>{u.left&&r(e,u.left,"left",e.shiftKey,!0)},[r,u.left]),S=(0,i.useCallback)(e=>{u.left&&r(e,u.left,"left",e.shiftKey,!1)},[r,u.left]),_=(0,i.useCallback)(e=>{u.right&&r(e,u.right,"right",e.shiftKey,!0)},[r,u.right]),I=(0,i.useCallback)(e=>{u.right&&r(e,u.right,"right",e.shiftKey,!1)},[r,u.right]),w=(0,i.useCallback)(()=>{t&&t("left")},[t]),F=(0,i.useCallback)(()=>{t&&t("right")},[t]);return(0,l.jsxs)(eB,{line:u,children:[b&&(0,l.jsxs)(nR,{copilotChatReference:d,columnIndex:0,filePath:o,handleDiffCellClick:k?_:j,handleDiffSideCellSelectionBlocking:F,firstLineNumberSelection:c,contentRef:h,children:[m&&!x&&(0,l.jsx)(nG,{children:(0,l.jsx)(nH,{})}),y&&u.left]}),v&&(0,l.jsxs)(nR,{copilotChatReference:d,columnIndex:g?2:1,filePath:o,handleDiffCellClick:C?j:_,handleDiffSideCellSelectionBlocking:w,firstLineNumberSelection:c,contentRef:h,children:[m&&x&&(0,l.jsx)(nG,{children:(0,l.jsx)(nH,{})}),x&&u.right]}),(0,l.jsx)(Y.f,{enableDiffGridMode:f,children:(0,l.jsx)(nP,{copilotChatReference:d,columnIndex:g?p?1:3:2,filePath:o,handleDiffCellClick:p?S:I,lineAnchor:s,handleDiffSideCellSelectionBlocking:p?F:w,searchResultsForLine:n,focusedSearchResult:a,summary:e,firstLineNumberSelection:c,ref:h})})]})},nq=({summary:e,resultsForLine:n,focusedSearchResult:a,fileAnchor:t,filePath:i,handleDiffRowClick:r,handleDiffSideCellSelectionBlocking:s,copilotChatReference:o,firstLineNumberSelection:d})=>{let{diffLine:c,isLeftSide:u}=V();if((0,b.Po)(c))return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nO,{columnIndex:u?0:2}),(0,l.jsx)(nO,{columnIndex:u?1:3,showRightBorder:u})]});let m=u?"left":(0,p.XU)(c.type),g="left"===m?c.left:c.right,f=(0,p.IQ)(t,m,g??0);switch(c.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":return(0,l.jsx)(nQ,{copilotChatReference:o,filePath:i,handleDiffRowClick:r,handleDiffSideCellSelectionBlocking:s,lineAnchor:f,resultsForLine:n,focusedSearchResult:a,summary:e,firstLineNumberSelection:d});default:throw Error(`cannot handle type ${c.type}`)}};function nG({children:e}){return(0,l.jsx)("span",{className:"position-absolute",style:{left:"-1px",zIndex:"1"},children:e})}let nW=i.memo(nq),nQ=i.memo(nz);try{nz.displayName||(nz.displayName="CodeDiffLineUnmemoized")}catch{}try{nq.displayName||(nq.displayName="DiffLineSideUnmemoized")}catch{}try{nG.displayName||(nG.displayName="DiffCodeAlert")}catch{}try{nW.displayName||(nW.displayName="DiffLineSide")}catch{}try{nQ.displayName||(nQ.displayName="CodeDiffLine")}catch{}let nX={"expand-button-line":"ExpandableHunkHeaderDiffLine-module__expand-button-line--rnQN5","expand-up-and-down":"ExpandableHunkHeaderDiffLine-module__expand-up-and-down--hCan_","expand-button-unified":"ExpandableHunkHeaderDiffLine-module__expand-button-unified--j86KQ"};function nY({direction:e,icon:n,label:a,onClick:t,ariaLabel:i,className:r,...s}){let{sendAnalyticsEvent:o}=(0,eu.s)(),{isSplit:d}=V();return(0,l.jsx)("button",{onClick:()=>{t(),o("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},className:(0,F.$)("Button Button--iconOnly Button--invisible",nX["expand-button-line"],!d&&nX["expand-button-unified"],r),"aria-label":i??a,"data-direction":e,...s,children:(0,l.jsx)(n,{})})}function nJ({nextLine:e,prevLine:n,resultsForLine:a,focusedSearchResult:t}){let{fileLineCount:r,diffLine:s}=V(),{expandStartOfHunk:o,expandEndOfPreviousHunk:d}=e7(),c=!n,u=!e,m=0===s.blobLineNumber,p=c||u,g=u&&s.blobLineNumber===r,f=(0,i.useMemo)(()=>!p&&!(s.blobLineNumber<=0)&&(s.blobLineNumber-n.blobLineNumber<=20||e.blobLineNumber-s.blobLineNumber>=20),[p,s,e,n]),h=(0,i.useMemo)(()=>!p&&!g&&s.blobLineNumber-n.blobLineNumber>20,[p,g,s,n]),y=(0,i.useMemo)(()=>!(s.blobLineNumber<=0)&&!m&&!!c,[c,m,s]),k=(0,i.useMemo)(()=>!c&&!g&&!!u,[c,u,g]),x=(0,i.useMemo)(()=>{switch(!0){case f:return"expand-all";case h:return"expand-up-and-down";case y:return"expand-up";case k:return"expand-down"}},[f,h,y,k]),v=()=>o(),C=()=>d(),j=()=>o();return(0,l.jsx)(nV,{searchResultsForLine:a,focusedSearchResult:t,renderHunkButton:a=>{switch(x){case"expand-all":return(0,l.jsx)(nY,{...a,direction:"all",icon:T.UnfoldIcon,label:`Expand file from line ${n?.blobLineNumber||""} to line ${e?.blobLineNumber||""}`,onClick:j});case"expand-up-and-down":return(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)(nY,{...a,direction:"down",icon:T.FoldDownIcon,label:`Expand file down from line ${n?.blobLineNumber||""}`,className:nX["expand-up-and-down"],onClick:C}),(0,l.jsx)(nY,{...a,direction:"up",icon:T.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,className:nX["expand-up-and-down"],onClick:v})]});case"expand-up":return(0,l.jsx)(nY,{...a,direction:"up",icon:T.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,onClick:v});case"expand-down":return(0,l.jsx)(nY,{...a,direction:"down",icon:T.FoldDownIcon,label:`Expand file down from line ${n?.blobLineNumber||""}`,onClick:C});default:return null}},ContextMenu:(0,l.jsx)(nZ,{handleCopyContent:()=>{let[e]=(0,b._S)((0,b.ZC)(s.html),s.type);(0,nF.D)(e)},handleExpandAbove:v,handleExpandAll:j,handleExpandBelow:C,shouldCopyContent:!!s.html,shouldExpandAbove:h||y,shouldExpandBelow:h||k})})}function nZ({shouldExpandBelow:e,shouldExpandAbove:n,shouldCopyContent:a,handleExpandAll:t,handleExpandBelow:i,handleExpandAbove:r,handleCopyContent:s}){let o={includeShiftKey:!0,key:"["},d={key:"]"},c={key:"["},u={key:"C"};return(0,l.jsx)(eT.W.Overlay,{width:"medium",children:(0,l.jsxs)(eA.l,{children:[(0,l.jsxs)(eA.l.Item,{"aria-keyshortcuts":(0,b.oE)(o),onSelect:t,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.UnfoldIcon,{})}),"Expand all",(0,l.jsx)(eA.l.TrailingVisual,{children:(0,l.jsx)("span",{children:`${(0,b.pI)(o)}`})})]}),n?(0,l.jsxs)(eA.l.Item,{"aria-keyshortcuts":(0,b.oE)(d),onSelect:r,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.FoldUpIcon,{})}),"Expand above",(0,l.jsx)(eA.l.TrailingVisual,{children:(0,l.jsx)("span",{children:`${(0,b.pI)(d)}`})})]}):null,e?(0,l.jsxs)(eA.l.Item,{"aria-keyshortcuts":(0,b.oE)(c),onSelect:i,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.FoldDownIcon,{})}),"Expand below",(0,l.jsx)(eA.l.TrailingVisual,{children:(0,l.jsx)("span",{children:`${(0,b.pI)(c)}`})})]}):null,(0,l.jsx)(ny,{}),a?(0,l.jsxs)(eA.l.Item,{"aria-keyshortcuts":(0,b.oE)(u),onSelect:s,children:[(0,l.jsx)(eA.l.LeadingVisual,{children:(0,l.jsx)(T.CopyIcon,{})}),"Copy",(0,l.jsx)(eA.l.TrailingVisual,{children:(0,l.jsx)("span",{children:`${(0,b.pI)(u)}`})})]}):null]})})}try{nY.displayName||(nY.displayName="ExpandButtonLine")}catch{}try{nJ.displayName||(nJ.displayName="ExpandableHunkHeaderDiffLine")}catch{}try{nZ.displayName||(nZ.displayName="HunkContextMenu")}catch{}let n0=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/u,n1=/[\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F}/gu,n2=/([\u202A-\u202E]|[\u2066-\u2069]|\u{E0001}|\u{E007F})/gu,n4=new Map(Object.entries({"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069","\u{E0001}":"U+E0001","\u{E007F}":"U+E007F"}));function n3(e){return n6(e)?e.replaceAll(n1,e=>n4.get(e)??""):e}function n6(e){return n0.test(e)}function n8(e){let n;let a=(0,nU.c)(2),{char:t}=e;return a[0]!==t?(n=(0,l.jsx)("span",{className:"hidden-unicode-replacement padded",children:t}),a[0]=t,a[1]=n):n=a[1],n}function n7(e){return n6(e)?e.split(n2).map(e=>{let n=n4.get(e);return n?`<span class="hidden-unicode-replacement">${n}</span>`:e}).join(""):null}try{n8.displayName||(n8.displayName="HiddenUnicodeCharacter")}catch{}let n5=(0,i.memo)(function({searchResults:e,diffContext:n="pr",focusedSearchResult:a,clearSelectedDiffRowRange:t,diffEntryId:r,diffHasHiddenUnicodeCharacters:s,diffLines:o,fileAnchor:d,fileLineCount:c,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,replaceSelectedDiffRowRangeFromGridCells:g,selectedDiffRowRange:f,setInGridMode:h,showHiddenUnicode:y,tableRef:x,updateDiffLines:v,updateSelectedDiffRowRange:C,copilotChatReference:j,inGridMode:S,firstLineNumberSelection:_}){let{leftLines:I,rightLines:w}=function(e){let n=e.reduce((e,n)=>e+(n.threadsData?.totalCount??0),0)??0,{leftLines:a,rightLines:l}=(0,i.useMemo)(()=>(function(e){let n=[],a=[],l=()=>{for(;n.length<a.length;)n.push(X.V);for(;a.length<n.length;)a.push(X.V)};for(let t of e)switch(t.type){case"ADDITION":a.push(t);break;case"DELETION":n.push(t);break;case"CONTEXT":case"INJECTED_CONTEXT":l();let[e,i]=[{...t,threadsData:void 0,annotationsData:void 0},{...t,threadsData:t.threadsData?{...t.threadsData,threads:t.threadsData.threads,totalCommentsCount:t.threadsData.totalCommentsCount,totalCount:t.threadsData.totalCount}:void 0}];n.push(e),a.push(i);break;case"HUNK":l(),n.push(t),a.push(t)}return l(),{leftLines:n,rightLines:a}})(e),[e,n]);return{leftLines:a,rightLines:l}}(o),{addInjectedContextLines:F,ghostUser:N}=eE();Q({clearSelectedDiffRowRange:t,containerRef:x,fileAnchor:d,isSplitDiff:!0,leftLines:I,replaceSelectedDiffRowRangeFromGridCells:g,rightLines:w,selectedDiffRowRange:f,updateSelectedDiffRowRange:C,disabled:!S});let L=(0,i.useMemo)(()=>{if(f)return k({selectedDiffRowRange:f,leftLines:I,rightLines:w,isNumberCell:!0})},[f,I,w]);(0,i.useEffect)(()=>{v(d,o)},[o,d,v]);let T=(0,i.useMemo)(()=>P(I),[I]),A=new Map,K=new Map,D=new Map;for(let n=0;n<(e?.length??0);n++){let a=e?.[n];a&&(A.has(a.leftLineNumber)?A.get(a.leftLineNumber)?.push(a):-1!==a.leftLineNumber&&A.set(a.leftLineNumber,[a]),D.has(a.hunkLineNumber)?D.get(a.hunkLineNumber)?.push(a):a.isHunk&&D.set(a.hunkLineNumber,[a]),K.has(a.rightLineNumber)?K.get(a.rightLineNumber)?.push(a):-1!==a.rightLineNumber&&K.set(a.rightLineNumber,[a]))}let R=e=>{let n=!1;return s&&!(0,b.Po)(e)&&(n=n6(e.text),y&&n&&(e=e.html?{...e,html:n7(e.html)??e.html}:{...e,text:n3(e.text)})),[e,n]},V=[];for(let e=0;e<I.length;e++){let t=I[e],s=w[e],o=I[e-1],[g,f]=R(t),[y,k]=R(s),x=(0,b.Po)(I[e+1])?w[e+1]:I[e+1],v=(0,b.qK)(g)&&"HUNK"===g.type,C=(0,b.qX)(d,g,y),S=(0,b.Po)(g)?(0,b.Po)(y)?void 0:y:g;if(!S)continue;let P=(0,b.Po)(g)?void 0:g.threadsData,B=(0,b.Po)(y)?void 0:y.threadsData,{currentHunk:U,nextHunk:$,previousHunk:H}=E(S,T),z=A.get((0,b.Po)(g)?-2:g.left??-2),q=K.get((0,b.Po)(y)?-2:y.right??-2),G=D.get(S.blobLineNumber),W=G?.[0]?.rightLineNumber===y?.right?a:void 0,Q=z?.[0]?.leftLineNumber===g?.left?a:void 0,X=q?.[0]?.rightLineNumber===y?.right?a:void 0,Y=nI(g,y,"LEFT"),J=nI(g,y,"RIGHT"),Z=O(B,N),ee=O(P,N),en={currentHunk:U,diffEntryId:r,fileAnchor:d,fileLineCount:c,filePath:u,isRowSelected:(L?.isRowSelected(t)||L?.isRowSelected(s))??!1,nextHunk:$,previousHunk:H,rowId:C,isSplit:!0,diffContext:n,setInGridMode:h},{expandEndOfHunk:ea,expandEndOfPreviousHunk:el,expandStartOfHunk:et}=e5(F,$,U,H),ei=()=>{if(!(0,b.Po)(g)&&g?.type==="HUNK"){el();return}ea()};V.push((0,l.jsx)(i.Fragment,{children:(0,l.jsx)(eI.tL,{as:"tr",className:"diff-line-row",commands:{"pull-requests-diff-view:expand-hunk-up":et,"pull-requests-diff-view:expand-hunk-down":ei},children:v?(0,l.jsx)(M,{...en,hasHiddenUnicodeCharacters:f||k,diffLine:S,modifiedLineThreads:Z,originalLineThreads:ee,children:(0,l.jsx)(nJ,{nextLine:x,prevLine:o,focusedSearchResult:W,resultsForLine:G})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(M,{...en,diffLine:g,hasHiddenUnicodeCharacters:f,isLeftSide:!0,modifiedLineThreads:Z,originalLineThreads:ee,children:(0,l.jsx)(nW,{summary:Y,copilotChatReference:j,fileAnchor:d,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,resultsForLine:z,focusedSearchResult:Q,firstLineNumberSelection:_})}),(0,l.jsx)(M,{...en,diffLine:y,hasHiddenUnicodeCharacters:k,modifiedLineThreads:Z,originalLineThreads:ee,children:(0,l.jsx)(nW,{summary:J,copilotChatReference:j,fileAnchor:d,filePath:u,handleDiffRowClick:m,handleDiffSideCellSelectionBlocking:p,resultsForLine:q,focusedSearchResult:X,firstLineNumberSelection:_})})]})})},C))}return(0,l.jsx)(l.Fragment,{children:V})});try{n5.displayName||(n5.displayName="SplitDiffLines")}catch{}let n9=(0,i.memo)(function({searchResults:e,diffContext:n="pr",focusedSearchResult:a,clearSelectedDiffRowRange:t,diffEntryId:r,diffHasHiddenUnicodeCharacters:s,diffLines:o,fileLineCount:d,fileAnchor:c,filePath:u,tableRef:m,selectedDiffRowRange:g,showHiddenUnicode:f,handleDiffRowClick:h,updateDiffLines:y,updateSelectedDiffRowRange:x,replaceSelectedDiffRowRangeFromGridCells:v,copilotChatReference:C,setInGridMode:j,inGridMode:S,firstLineNumberSelection:_}){Q({clearSelectedDiffRowRange:t,containerRef:m,fileAnchor:c,isSplitDiff:!1,leftLines:o,replaceSelectedDiffRowRangeFromGridCells:v,selectedDiffRowRange:g,updateSelectedDiffRowRange:x,disabled:!S});let{addInjectedContextLines:I}=eE(),w=(0,i.useMemo)(()=>{if(g)return k({selectedDiffRowRange:g,leftLines:o,isNumberCell:!0})},[g,o]),F=(0,i.useMemo)(()=>P(o.map(e=>e)),[o]);(0,i.useEffect)(()=>{y(c,o)},[o,c,y]);let N=new Map;for(let n=0;n<(e?.length??0);n++){let a=e?.[n];a&&(e&&N.has(a.diffLineNumIndex)?N.get(a.diffLineNumIndex)?.push(a):e&&N.set(a.diffLineNumIndex,[a]))}let L=o.map((e,t)=>{let m=e,g=o[t+1],y=o[t-1],k="HUNK"===e.type,x=(0,p.IQ)(c,(0,p.XU)(m.type),m.blobLineNumber),{currentHunk:v,nextHunk:S,previousHunk:L}=E(m,F),T=N.get(t),A=t===T?.[0]?.diffLineNumIndex?a:void 0,K=nI(e,e,"RIGHT"),D=w?.isRowSelected(e)??!1,P=(0,b.qX)(c,m,m),R=s&&n6(m.text);f&&R&&(m=m.html?{...m,html:n7(m.html)??m.html}:{...m,text:n3(m.text)});let V={diffEntryId:r,diffLine:m,currentHunk:v,fileAnchor:c,fileLineCount:d,filePath:u,hasHiddenUnicodeCharacters:R,isLeftSide:"DELETION"===m.type,isRowSelected:D,isSplit:!1,nextHunk:S,previousHunk:L,diffContext:n,rowId:P,setInGridMode:j},{expandEndOfHunk:O,expandEndOfPreviousHunk:B,expandStartOfHunk:U}=e5(I,S,v,L);return(0,l.jsx)(i.Fragment,{children:(0,l.jsxs)(eI.tL,{as:"tr",className:"diff-line-row",commands:{"pull-requests-diff-view:expand-hunk-up":U,"pull-requests-diff-view:expand-hunk-down":()=>{if(!(0,b.Po)(e)&&e?.type==="HUNK"){B();return}O()}},children:[" ",(0,l.jsx)(M,{...V,children:k?(0,l.jsx)(nJ,{nextLine:g,prevLine:y,focusedSearchResult:A,resultsForLine:T},t):(0,l.jsx)(nQ,{filePath:u,copilotChatReference:C,handleDiffRowClick:h,firstLineNumberSelection:_,lineAnchor:x,resultsForLine:T,focusedSearchResult:A,summary:K},t)})]})},t)});return(0,l.jsx)(l.Fragment,{children:L})});try{n9.displayName||(n9.displayName="UnifiedDiffLines")}catch{}let ae={tableLayoutFixed:"DiffLines-module__tableLayoutFixed--YZcIJ",compact:"DiffLines-module__compact--wEEom"};var an=a(58748);let aa={overlay:"SelectedDiffLinesOverlay-module__overlay--mWvvK",overlayOpacity:"SelectedDiffLinesOverlay-module__overlayOpacity--B9iKM"};function al({tableRef:e}){let[n,a]=(0,i.useState)(null),{selectedDiffRowRange:t}=_(),r=(0,i.useCallback)(()=>{if(!e.current)return;let n=t?e.current.querySelectorAll('td[data-selected="true"]'):[],l=e.current.getAttribute("data-diff-anchor"),i=h.fV.hash.substring(1),r=(0,x.ZD)(i);if(0===n.length||l!==r?.diffAnchor){a(null);return}let s=(function(e){let n=e.parentNode;for(;null!==n;){if(n instanceof HTMLElement&&"static"!==getComputedStyle(n).position)return n;n=n.parentNode}return document.body})(e.current).getBoundingClientRect(),o=0,d=Number.MAX_SAFE_INTEGER,c=0,u=Number.MAX_SAFE_INTEGER;for(let e of n){let n=e.getBoundingClientRect();o=Math.max(o,n.bottom-s.top),d=Math.min(d,n.left-s.left),c=Math.max(c,n.right-s.left),u=Math.min(u,n.top-s.top)}a({left:d-1,height:o-u,top:u-1,width:c-d+2})},[t,e]);return((0,v.N)(()=>{h.cg?.requestAnimationFrame(()=>{r()})},[e,r]),(0,v.N)(()=>{let e=()=>{h.cg?.requestAnimationFrame(()=>{r()})};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[r,e]),(0,an.w)(r,e),n)?(0,l.jsx)("div",{className:(0,F.$)("position-absolute","borderColor-accent-emphasis",aa.overlay),style:n,children:(0,l.jsx)("div",{className:(0,F.$)("width-full","height-full","bgColor-accent-emphasis",aa.overlayOpacity)})}):null}try{al.displayName||(al.displayName="SelectedDiffLinesOverlay")}catch{}var at=a(94232),ai=a(65481);function ar(e){let n,a,t,i,r;let s=(0,nU.c)(7),{isShown:o,toggleShowHiddenCharacters:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],s[0]=n):n=s[0];let[c]=(0,at.I)(as,h.cg,n);if(!c)return null;s[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(T.AlertIcon,{}),s[1]=a):a=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsxs)("span",{children:["This file contains bidirectional or hidden Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters."," ",(0,l.jsx)(g.A,{inline:!0,href:"https://github.co/hiddenchars",target:"_blank",rel:"noreferrer",children:"Learn more about bidirectional Unicode characters"})]}),s[2]=t):t=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(i={backgroundClip:"padding-box"},s[3]=i):i=s[3];let u=o?"Hide revealed characters":"Show hidden characters";return s[4]!==u||s[5]!==d?(r=(0,l.jsxs)(ai.A,{className:"d-flex flex-items-center",full:!0,variant:"warning",children:[a,t,(0,l.jsx)(N.Q,{className:"ml-4 float-right",onClick:d,size:"small",style:i,children:u})]}),s[4]=u,s[5]=d,s[6]=r):r=s[6],r}function as(){return h.cg}try{ar.displayName||(ar.displayName="HiddenUnicodeBanner")}catch{}function ao({diffAnchor:e,children:n}){return(0,l.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":e,children:n})}let ad=(0,i.memo)(function({searchResults:e,diffContext:n="pr",focusedSearchResult:a,diffEntryData:t,diffLinesManuallyUnhidden:i,baseHelpUrl:r,onHandleLoadDiff:s,copilotChatReference:o,...d}){let c=`diff-${t.pathDigest}`;if(t.isBinary)return(0,l.jsx)(ao,{diffAnchor:c,children:"Binary file not shown."});if((0,u.dK)(t))return(0,l.jsx)(ao,{diffAnchor:c,children:"File renamed without changes."});if((0,u.Jc)(t))return(0,l.jsx)(ao,{diffAnchor:c,children:"File copied without changes."});if((0,u.Sn)(t,t.status,t.oldTreeEntry?.mode,t.newTreeEntry?.mode))return(0,l.jsx)(ao,{diffAnchor:c,children:"File mode changed."});if(!i&&(0,u.HI)(t))return(0,l.jsx)(A,{diffAnchor:c,onLoadDiff:s,children:(0,u.l_)(t.truncatedReason)});if((0,u.s8)(t))return(0,l.jsx)(ao,{diffAnchor:c,children:"Whitespace-only changes."});if(!i&&(0,u.lO)(t))return(0,l.jsx)(A,{diffAnchor:c,onLoadDiff:s,children:"This file was deleted."});if(!i&&(0,u.xW)(t))return(0,l.jsxs)(A,{diffAnchor:c,helpText:"customizing how changed files appear on GitHub.",helpUrl:`${r}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`,onLoadDiff:s,children:["Some generated files are not rendered by default. Learn more about"," "]});if(t.isTooBig){if("commit"===n&&0===t.diffLines.length)return i?(0,l.jsxs)(ao,{diffAnchor:c,children:["Diff is too big to render. To view,"," ",(0,l.jsx)(g.A,{inline:!0,href:`${r}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]}):(0,l.jsx)(A,{diffAnchor:c,onLoadDiff:s,children:"Large diffs are not rendered by default."});if("pr"===n)return t.diffLines.length>0?(0,l.jsx)(A,{diffAnchor:c,onLoadDiff:s,children:"Large diffs are not rendered by default."}):(0,l.jsxs)(ao,{diffAnchor:c,children:["Diff is too big to render. To view,"," ",(0,l.jsx)(g.A,{inline:!0,href:`${r}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]})}return t.diffLines?(0,l.jsx)(eD,{...d,children:(0,l.jsx)(w,{children:(0,l.jsx)(ac,{diffAnchor:c,diffContext:n,diffEntryData:t,viewerData:d.viewerData,focusedSearchResult:a,searchResults:e,copilotChatReference:o})})}):null});function ac({diffAnchor:e,viewerData:n,diffEntryData:a,searchResults:t,focusedSearchResult:r,copilotChatReference:s,diffContext:o}){let d=(0,i.useRef)(null),[c,u]=(0,i.useState)(!0),[g,f]=(0,i.useState)(null),[y,k]=(0,i.useState)(!1),x=a.newTreeEntry?.lineCount??a.oldTreeEntry?.lineCount??0,v=(0,i.useMemo)(()=>{let e=a.diffLines[a.diffLines.length-1];return e?.blobLineNumber&&e.blobLineNumber<x?a.diffLines.concat({__id:K.finalLineId,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}):a.diffLines},[a.diffLines,x]),{diffViewPreference:C,lineSpacingPreference:j,tabSizePreference:S}=n,{selectedDiffRowRange:I,replaceSelectedDiffRowRange:w,replaceSelectedDiffRowRangeFromGridCells:N,clearSelectedDiffRowRange:L,updateDiffLines:T,updateSelectedDiffRowRange:A}=_(),D=(0,i.useCallback)(e=>{if(!d.current||!e.target)return;let n=e.target,a=n.closest("td.diff-line-number"),l=d.current.contains(n);a&&!l&&(L(),B.current=null)},[L,d]);(0,i.useEffect)(()=>(h.XC?.addEventListener("mousedown",D),()=>{h.XC?.removeEventListener("mousedown",D)}),[D]);let E=e===I?.diffAnchor,P=(0,i.useMemo)(()=>{let e;let n=a.status,l=a.oldTreeEntry?.path,t=a.newTreeEntry?.path;if(l||t)return e="RENAMED"===n?`${l} renamed to ${t}`:"DELETED"===n||"REMOVED"===n?l:t,`Diff for: ${e}`},[a]);(0,i.useEffect)(()=>{if(!E)return;let e=(0,b.On)(I,v);e&&e!==I&&w(e)},[v,I,E,w]);let R=h.cg?.location.search,M=(0,i.useMemo)(()=>"split"===new URLSearchParams(R).get("diff")||"split"===C,[R,C]),V=(0,p.c7)(v),O=(0,i.useCallback)(e=>{f(e)},[f]),B=(0,i.useRef)(null),U=(0,i.useCallback)((n,a,l,t,i)=>{!function(e){let n=document.getElementById("__primerPortalRoot__");return!!n&&!!e&&n.contains(e)}(n.target)&&!n.defaultPrevented&&i&&A(e,a,l,t,i)},[e,A]),$=(0,i.useCallback)(e=>{let n=document.getSelection();if(n){let a=[];for(let e=0;e<n.rangeCount;e++){let l=n.getRangeAt(e).cloneContents();if(l.querySelectorAll("td").length){let e=`td.diff-line-number, span.diff-text-marker${M?`, ${"left"===g?"td.left-side-diff-cell":"td.right-side-diff-cell"}`:""}`;for(let n of l.querySelectorAll(e))n.parentNode&&n.parentNode.removeChild(n);for(let e of l.children){let n=e.textContent;"\n"===n?a.push(""):a.push(n)}}else 1===n.rangeCount?a.push(n.toString()):a.push(l.textContent)}e.clipboardData.setData("text/plain",a.join("\n")),e.preventDefault()}},[g,M]),H=(0,i.useMemo)(()=>v.some(e=>n6(e.text)),[v]),z={searchResults:t,diffContext:o,focusedSearchResult:r,clearSelectedDiffRowRange:L,diffEntryId:a.objectId,diffHasHiddenUnicodeCharacters:H,diffLines:v,fileAnchor:e,fileLineCount:x,filePath:a.path,handleDiffRowClick:U,handleDiffSideCellSelectionBlocking:O,replaceSelectedDiffRowRangeFromGridCells:N,selectedDiffRowRange:E?I:null,showHiddenUnicode:y,tableRef:d,updateDiffLines:T,updateSelectedDiffRowRange:A,copilotChatReference:s,setInGridMode:u,inGridMode:c,firstLineNumberSelection:B};return(0,l.jsxs)(l.Fragment,{children:[c&&(0,l.jsx)(al,{tableRef:d}),H&&(0,l.jsx)(ar,{isShown:y,toggleShowHiddenCharacters:()=>k(!y)}),(0,l.jsx)(eI.tL,{as:"table",triggerOnDefaultPrevented:!0,"aria-label":P,commands:{"pull-requests-diff-view:expand-all-hunks":()=>{let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${a.path}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}},ref:d,className:(0,F.$)("tab-size","width-full",ae.tableLayoutFixed,{[ae.compact]:"compact"===j}),"data-block-diff-cell-selection":g,"data-diff-anchor":e,"data-tab-size":S,"data-paste-markdown-skip":!0,onCopy:$,role:"grid",style:{"--line-number-cell-width":`${V}px`,"--line-number-cell-width-unified":`${2*parseFloat(V)}px`},children:M?(0,l.jsx)(m.wj,{lineWidth:V,children:(0,l.jsx)(n5,{...z})}):(0,l.jsx)(m.Qe,{lineWidth:V,children:(0,l.jsx)(n9,{...z})})})]})}try{ao.displayName||(ao.displayName="PlainTextStatus")}catch{}try{ad.displayName||(ad.displayName="DiffLines")}catch{}try{ac.displayName||(ac.displayName="CodeDiffLines")}catch{}let au={diffTargetable:"Diff-module__diffTargetable--hLfiB",diffHeaderWrapper:"Diff-module__diffHeaderWrapper--J03RC"};var am=a(46309),ap=a(58599);let ag={filesActionList:"SubmoduleDiff-module__filesActionList--Uek7G",fileRowLinkItem:"SubmoduleDiff-module__fileRowLinkItem--ebKNW",path:"SubmoduleDiff-module__path--GK9U6",fileRow:"SubmoduleDiff-module__fileRow--ohBMr",linesAdded:"SubmoduleDiff-module__linesAdded--jgi_y",linesDeleted:"SubmoduleDiff-module__linesDeleted--C3uEX"};function af({submodule:e}){let{basePath:n,changedFiles:a,contentsUrl:t,newCommitOid:r,oldCommitOid:s,status:o,submoduleUrl:d}=e,c=e.summary.length>0&&e.contentsUrl&&"MODIFIED"===o,u=(0,i.useMemo)(()=>{switch(o){case"ADDED":return(0,l.jsx)(ab,{commitOid:r,contentsUrl:t,type:"added"});case"DELETED":case"REMOVED":return(0,l.jsx)(ab,{commitOid:s,contentsUrl:t,type:"deleted"});default:return(0,l.jsx)(ak,{newCommitOid:r,oldCommitOid:s,changedFiles:a,contentsUrl:t})}},[r,s,o,a,t]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:`px-3 py-2 ${c?"border-bottom bgColor-muted":""}`,children:[(0,l.jsx)(T.FileSubmoduleIcon,{className:"fgColor-muted mr-2",size:16}),(0,l.jsx)(ah,{basePath:n,submoduleUrl:d}),u]}),c&&(0,l.jsx)(eA.l,{className:ag.filesActionList,showDividers:!0,variant:"full",children:e.summary.map(e=>(0,l.jsx)(ax,{compareUrl:`${t}/compare/${s}...${r}`,linesAdded:e.linesAdded,linesDeleted:e.linesDeleted,path:e.path,pathDigest:e.pathDigest,status:e.status},e.pathDigest))})]})}function ah({basePath:e,submoduleUrl:n}){return(0,l.jsxs)(l.Fragment,{children:["Submodule"," ",n?(0,l.jsx)(g.A,{inline:!0,href:n,children:e}):e," "]})}function ay(e){return e.slice(0,7)}function ab({commitOid:e="",contentsUrl:n,type:a}){let t="added"===a?"added at":"deleted from";return n?(0,l.jsxs)(l.Fragment,{children:[t," ",(0,l.jsx)(g.A,{inline:!0,href:`${n}/tree/${e}`,children:ay(e)})]}):(0,l.jsxs)(l.Fragment,{children:[t," ",ay(e)]})}function ak({newCommitOid:e="",oldCommitOid:n="",changedFiles:a=0,contentsUrl:t}){let i=a>0&&t?`${a} ${1===a?"file":"files"}`:`from ${ay(n)} to ${ay(e)}`;return(0,l.jsxs)(l.Fragment,{children:["updated"," ",t?(0,l.jsx)(g.A,{inline:!0,href:`${t}/compare/${n}...${e}`,children:i}):i]})}function ax({compareUrl:e,linesAdded:n,linesDeleted:a,path:i,pathDigest:r,status:s}){return(0,l.jsx)(eA.l.LinkItem,{href:`${e}#diff-${r}`,className:ag.fileRowLinkItem,children:(0,l.jsxs)(am.B,{gap:"condensed",direction:"horizontal",align:"center",className:ag.fileRow,children:[(0,l.jsx)(ap.E,{status:s}),(0,l.jsxs)("div",{className:"d-flex gap-1 flex-justify-between width-full",children:[(0,l.jsx)("span",{className:ag.path,children:i}),(n>0||a>0)&&(0,l.jsxs)("div",{className:"d-flex flex-shrink-0 gap-1 flex-nowrap",children:[(0,l.jsx)("div",{className:ag.linesAdded,children:n>0&&(0,l.jsxs)(t.C,{isAddition:!0,children:["+",av(n)]})}),(0,l.jsx)("div",{className:ag.linesDeleted,children:a>0&&(0,l.jsxs)(t.C,{isAddition:!1,children:["-",av(a)]})})]})]})]})})}function av(e){return e>999?`${(e/1e3).toFixed(1)}k`:e.toLocaleString()}try{af.displayName||(af.displayName="SubmoduleDiff")}catch{}try{ah.displayName||(ah.displayName="SubmodulePath")}catch{}try{ab.displayName||(ab.displayName="SubmoduleCommitChange")}catch{}try{ak.displayName||(ak.displayName="SubmoduleModified")}catch{}try{ax.displayName||(ax.displayName="SubmoduleFileRow")}catch{}var aC=a(5796);let aj=({hasCopilotAccess:e,isBinary:n,isSubmodule:a,path:l,repository:t,status:i})=>!!e&&!n&&!a&&!!l&&"DELETED"!==i&&"REMOVED"!==i&&!!t.id&&!!t.name&&!!t.ownerLogin,aS=({newCommitOid:e,newTreeEntry:n,oldCommitOid:a,oldTreeEntry:l,path:t,pathDigest:i,repository:r})=>{let s=a&&e?(0,aC.IO9)({repo:r,commitish:a,action:"raw",path:t}):"";return{baseFile:a_({path:l?.path,oid:a,repository:r}),headFile:a_({path:n?.path,oid:e,repository:r}),id:`#diff-${i}`,type:"file-diff",url:s}},a_=({path:e,oid:n,repository:a})=>e&&n?{type:"file",url:(0,aC.IO9)({repo:a,commitish:n,action:"raw",path:e}),path:e,repoID:a.id,repoName:a.name,repoOwner:a.ownerLogin,ref:n,commitOID:n}:null,aI=(0,i.memo)(aw);function aw({collapsed:e,commentingEnabled:n,commentBatchPending:a,commentingImplementation:r,currentUser:s,diffContext:o,diffLines:d,diffManuallyExpanded:u,diffMatches:m,diffSize:p,focusedSearchResult:g,helpUrl:f,isBinary:h,isSubmodule:y,isTooBig:b,leftSideContent:k,linesAdded:x,linesChanged:v,linesDeleted:C,initialExpandedThreadId:j,markerNavigationImplementation:S,newTreeEntry:_,newCommitOid:I,objectId:w,oldTreeEntry:F,oldCommitOid:N,onOptionCollapseToggle:L,path:T,pathDigest:A,pullRequest:K,repository:D,richDiff:E,rightSideContent:P,hasExpandedAllRanges:R,expandAllContextLines:M,canExpandOrCollapseLines:V,status:O,submodule:B,truncatedReason:U,addInjectedContextLines:$,loadDiff:H}){let[z,q]=(0,i.useState)(E?.defaultToRichDiff),G=y&&!!B,[W,Q]=(0,i.useState)(e),[X,Y]=(0,i.useState)(u),J=function({isBinary:e,isSubmodule:n,path:a,status:l,repository:t,newCommitOid:r,newTreeEntry:s,oldCommitOid:o,oldTreeEntry:d,pathDigest:c,hasCopilotAccess:u}){return(0,i.useMemo)(()=>{if(aj({isBinary:e,isSubmodule:n,path:a,status:l,repository:t,hasCopilotAccess:u}))return aS({newCommitOid:r,newTreeEntry:s,oldCommitOid:o,oldTreeEntry:d,path:a,pathDigest:c,repository:t})},[r,s,o,d,c,t,u,e,n,a,l])}({isBinary:h,isSubmodule:y,path:T,status:O,repository:D,newCommitOid:I,newTreeEntry:_,oldCommitOid:N,oldTreeEntry:F,pathDigest:A,hasCopilotAccess:s.hasCopilotAccess});(0,i.useEffect)(()=>{Q(e)},[e]);let Z=async()=>{await H(),Y(!0)},ee=(0,i.useMemo)(()=>({avatarUrl:s?.avatarURL??"",diffViewPreference:s?.splitPreference,isSiteAdmin:!1,login:s?.login??"",lineSpacingPreference:s?.lineSpacing,tabSizePreference:s?.tabSize??8,viewerCanComment:s?.canComment,viewerCanApplySuggestion:!1,commentsPreference:s?.commentsPreference}),[s]),en=(0,i.useId)(),ea=`heading-${en}`;return(0,l.jsxs)("div",{role:"region","aria-labelledby":ea,id:`diff-${A}`,className:au.diffTargetable,style:{contain:"layout"},children:[(0,l.jsx)("div",{className:au.diffHeaderWrapper,children:(0,l.jsx)(t.B,{headingId:ea,areLinesExpanded:R,canExpandOrCollapseLines:V,defaultToRichDiff:E?.defaultToRichDiff,fileLinkHref:`#diff-${A}`,isCollapsed:W,isBinary:h,size:p,canToggleRichDiff:E?.canToggleRichDiff,linesAdded:x,linesChanged:v,linesDeleted:C,newMode:_?.mode,newPath:_?.path,oldMode:F?.mode,oldPath:F?.path,patchStatus:O,path:T,onToggleExpandAllLines:M,onToggleFileCollapsed:n=>{n.altKey?L(!W):(e=!W,Q(!W))},onToggleDiffDisplay:e=>q(e),additionalLeftSideContent:k,rightSideContent:P})}),W?null:(0,l.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[G&&(0,l.jsx)(af,{submodule:B}),z&&(0,l.jsx)(c,{loading:!1,proseDiffHtml:E?.proseDiffHtml,fileRendererInfo:E?.renderInfo,dependencyDiffPath:E?.dependencyDiffPath}),!G&&!z&&(0,l.jsx)(ad,{diffContext:o,copilotChatReference:J,searchResults:m,focusedSearchResult:g,diffEntryData:{diffLines:d,isBinary:h,isTooBig:b,linesChanged:v,newTreeEntry:_,newCommitOid:I,objectId:w,oldTreeEntry:F,oldCommitOid:N,path:T,pathDigest:A,status:O,truncatedReason:U},baseHelpUrl:f,commentBatchPending:a,repositoryId:D.id.toString(),subject:K?.subject||{},subjectId:K?.globalRelayId||"",viewerData:ee,newCommitOid:I,oldCommitOid:N,addInjectedContextLines:$,commentingEnabled:n||!1,commentingImplementation:r,initialExpandedThreadId:j,markerNavigationImplementation:S,diffLinesManuallyUnhidden:X,onHandleLoadDiff:Z})]})]},`${A}_${d.length}`)}try{aI.displayName||(aI.displayName="Diff")}catch{}try{aw.displayName||(aw.displayName="DiffUnmemoized")}catch{}var aF=a(67138);let aN={defaultStyles:"DiffFind-module__defaultStyles--gxyWR"},aL=(0,i.memo)(function({currentPathDigestIndex:e,searchTerm:n,searchResults:a,setSearchTerm:t,focusedSearchResult:r,currentIndex:s,setCurrentIndex:o,setFocusedSearchResult:d,scrollDiffCellIntoView:c}){let u=(0,i.useRef)([]),m=(0,i.useRef)(0),p=()=>{t(""),d(void 0),e.current=0},g=(0,l.jsxs)("div",{className:"d-flex flex-row flex-justify-center flex-items-center",children:[n&&(0,l.jsxs)("span",{className:"text-small fgColor-subtle mx-2 text-center",children:[0===a.size||void 0===r?0:s+1,"/",m.current]}),!n&&(0,l.jsx)("span",{className:"text-small fgColor-subtle mx-2 text-center pr-4",children:"\xa0"}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Z.K,{size:"small",variant:"invisible",onClick:()=>{f(-1)},icon:T.ChevronUpIcon,"aria-label":"Up","data-testid":"up-search"}),(0,l.jsx)(Z.K,{size:"small",variant:"invisible",onClick:()=>{f(1)},icon:T.ChevronDownIcon,"aria-label":"Down","data-testid":"down-search"})]})]}),f=n=>{if(void 0===r||""===r.pathDigest){e.current=0,d({pathDigest:u.current[0]??"",indexWithinDigest:0});return}1===n?(o(s===m.current-1?0:s+1),r.indexWithinDigest===a.get(r.pathDigest).length-1?(e.current=e.current+1,e.current===u.current.length&&(e.current=0),r.pathDigest=u.current[e.current]??"",r.indexWithinDigest=0):r.indexWithinDigest=r.indexWithinDigest+1):(o(0===s?m.current-1:s-1),0===r.indexWithinDigest?(e.current=e.current-1,-1===e.current&&(e.current=u.current.length-1),r.pathDigest=u.current[e.current]??"",r.indexWithinDigest=a.get(r.pathDigest).length-1):r.indexWithinDigest=r.indexWithinDigest-1),d(r)};return(0,i.useEffect)(()=>{u.current=Array.from(a.keys()),e.current=0,d({pathDigest:u.current[0]??"",indexWithinDigest:0});let n=0;for(let e of a.values())n+=e.length;m.current=n},[e,a,a.size,d]),(0,i.useEffect)(()=>{a.size>0&&void 0!==r&&c(r)},[a,r,s]),(0,l.jsxs)("div",{className:aN.defaultStyles,children:[(0,l.jsx)(eI.ak,{commands:{"pull-requests-diff-view:jump-to-next-result-alternate":()=>f(1),"pull-requests-diff-view:jump-to-previous-result-alternate":()=>f(-1)}}),(0,l.jsx)(eI.tL,{commands:{"pull-requests-diff-view:jump-to-next-result":()=>f(1),"pull-requests-diff-view:jump-to-previous-result":()=>f(-1)},children:(0,l.jsx)(aF.A,{className:"border-0 box-shadow-none",style:{width:"100%"},validationStatus:m.current>1e3?"error":void 0,type:"text",leadingVisual:()=>(0,l.jsx)(nb.A,{icon:T.SearchIcon,"aria-hidden":"true"}),autoComplete:"off",name:"Find in commit input","aria-label":"Search within code",placeholder:"Search within code",value:n,onChange:e=>{e.target.value?(t(e.target.value),o(0)):p()},block:!0,trailingAction:g})})]})});try{aL.displayName||(aL.displayName="DiffFind")}catch{}let aT=(0,i.createContext)({diffFindOpen:!1,setDiffFindOpen:()=>void 0});function aA({children:e,searchTerm:n,setSearchTerm:a}){let t=(0,i.useRef)(""),[r,s]=(0,i.useState)(!1),o=(0,i.useCallback)(e=>{e&&""===n&&""!==t.current?a(t.current):e||""===n||(t.current=n,a("")),s(e)},[n,a]),d=(0,i.useMemo)(()=>({diffFindOpen:r,setDiffFindOpen:o}),[r,o]);return(0,l.jsx)(aT.Provider,{value:d,children:e})}try{aT.displayName||(aT.displayName="DiffFindOpenContext")}catch{}try{aA.displayName||(aA.displayName="DiffFindOpenProvider")}catch{}var aK=a(73412),aD=a(93307);function aE({data:e}){let{query:n,diffEntryInfo:a,currentDiffEntryData:l}=e;return{matchingDiffs:l?function(e,n,a){if(0===a.size)return new Map;let l=a.size>=200,t={},i=e.reduce((a,l,i)=>{if(t[i])return a;t[i]=!0;let r=aM(n,[e[i]]),s=r.next();for(;!s.done&&a.size<200;){let{resultsWithinDiff:n}=s.value;a.set(e[i]?.pathDigest??"",n),s=r.next()}return a},new Map);if(i.size<200&&l){let a=aM(n,e,i.size),l=a.next();for(;!l.done&&i.size<200;){let{resultsWithinDiff:n,diff:t}=l.value;i.set(e[t]?.pathDigest??"",n),l=a.next()}}return i}(a,aR(n),l):function(e,n){let a=new Map,l=aM(n,e),t=l.next();for(;!t.done&&a.size<200;){let{resultsWithinDiff:n,diff:i}=t.value;a.set(e[i]?.pathDigest??"",n),t=l.next()}return a}(a,aR(n)),query:n}}let aP={Text:"Text"};function aR(e){let n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{kind:aP.Text,regexp:RegExp(n,"gi")}}function*aM(e,n,a=0){for(let l=a;l<n.length;l++){let a=n[l],t=[],i=0;for(let r=0;r<a.diffLines.length;r++){let s,o;s=n[l]?.diffLines[r]?.type==="HUNK"?a.diffLines[r]?.text:a.diffLines[r]?.text?.substring(1);let d=a.diffLines[r];for(;s&&null!==(o=e.regexp.exec(s));){let e=o[0],n=o.index;t.push({pathDigest:a.pathDigest,indexWithinPathDigest:i,matchContent:e,column:n,diffLineNumIndex:r,isHunk:d?.type==="HUNK",hunkLineNumber:d?.blobLineNumber??-1,leftLineNumber:d?.type!=="ADDITION"?d?.left??-1:-1,rightLineNumber:d?.type!=="DELETION"?d?.right??-1:-1,columnEnd:n+e.length,text:s}),i++}}0!==t.length&&(yield{diff:l,resultsWithinDiff:t})}}function aV(e,n,a,l){let[t,r]=(0,i.useState)(new Map),[s,o]=(0,i.useState)(void 0),[d,c]=(0,i.useState)(0),u=i.useRef();!u.current&&n&&(u.current=new aD.N(new aK.z(a,aE),200,e=>1!==e.query.length));let m=(0,i.useRef)(n);m.current=n;let p=(0,i.useRef)("");(0,i.useEffect)(()=>function(){u.current?.terminate()},[]);let g=(0,i.useRef)([]);return u.current&&e!==g.current&&(u.current.onResponse=e=>{e.query===m.current&&(r(e.matchingDiffs),p.current=m.current)},g.current=e),(0,i.useEffect)(()=>{if(!e||!u.current||!p.current||""===p.current){r(new Map),o(void 0);return}r(new Map),o(void 0),u.current.post({query:p.current,diffEntryInfo:e,currentDiffEntryData:void 0})},[e?.length,e]),(0,i.useEffect)(()=>{if(e&&u.current){if(""===n)r(new Map),o(void 0),c(0),p.current="";else{if(!(n.length>0&&n.length<=1e3))return;let a=p.current.length>0&&n.startsWith(p.current);u.current.post({query:n,diffEntryInfo:e,currentDiffEntryData:a?t:void 0}),c(0)}}},[n,l]),{focusedSearchResult:s,setFocusedSearchResult:o,searchResults:t,currentIndex:d,setCurrentIndex:c}}},29063:(e,n,a)=>{a.d(n,{Dd:()=>s,EW:()=>t,ZD:()=>o,i8:()=>d,j$:()=>c,pd:()=>r});var l=a(4460);function t(e){let n=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=n&&6===n.length)return n;let a=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=a&&6===a.length?a:null}function i(e,n){return`${"left"===n?"L":"R"}${e}`}function r(e){let n=e.match(/^#?(diff-[a-f0-9]+)/);return n?.[1]}function s(e){let n=e.match(/^#?(r\d+)/),a=n?.[1];return a?parseInt(a.slice(1)):void 0}function o(e){let n=t(e);if(n){let e=n[1],a=n[2]?"L"===n[2]?"left":"right":void 0,l=n[3]?parseInt(n[3]):void 0;if(!e||!a||void 0===l)return;return{diffAnchor:e,startOrientation:a,startLineNumber:l,endOrientation:(n[4]?"L"===n[4]?"left":"right":void 0)??a,endLineNumber:(n[5]?parseInt(n[5]):void 0)??l,firstSelectedLineNumber:l,firstSelectedOrientation:a}}}function d(e){!function(e){let n=`#${e}`;if(n===window.location.hash)return;let a=window.location.href;(0,l.Zu)(n),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:a}))}(c(e))}function c(e){let n=i(e.startLineNumber,e.startOrientation),a=`${e.diffAnchor}${n}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let n=i(e.endLineNumber,e.endOrientation);a+=`-${n}`}return a}},37109:(e,n,a)=>{a.d(n,{Ji:()=>p,Ls:()=>j,Mk:()=>f,On:()=>o,Po:()=>u,S4:()=>k,ZC:()=>h,_S:()=>g,a1:()=>C,a2:()=>s,j2:()=>y,oE:()=>x,pI:()=>b,qK:()=>m,qX:()=>d,u6:()=>c});var l=a(67220),t=a(96884),i=a(54332),r=a(29063);function s(e,n,a){return"left"===a?!u(e)&&e.left===n:!u(e)&&(0,l.XU)(e.type)===a&&e.right===n}function o(e,n){if(!e)return;if(!n)return e;let a=!1,l=!1,t=!1;for(let i of n)if(i&&(l||(l=s(i,e.startLineNumber,e.startOrientation)),t||(t=s(i,e.endLineNumber,e.endOrientation)),(a=t&&!l)||l&&t))break;return a?{...e,startLineNumber:e.endLineNumber,startOrientation:e.endOrientation,endLineNumber:e.startLineNumber,endOrientation:e.startOrientation}:e}function d(e,n,a){let l=`-${u(n)||"number"!=typeof n.left?"empty":n.left}`,t=a?`-${u(a)||"number"!=typeof a.right?"empty":a.right}`:"";return`${e}${l}${t}`}function c(e,n){return`${e}-${n}`}function u(e){return!!e&&e===i.V}function m(e){return!!e&&e!==i.V}function p(e){return"CONTEXT"===e.type}function g(e,n){let a;switch(n){case"ADDITION":a="+";break;case"DELETION":a="-";break;case"CONTEXT":case"INJECTED_CONTEXT":a=" "}if(!a||!e.startsWith(a))return[e,void 0];let l=e[0];return[e.substring(1),l]}function f(e){let n=[],a=[],l=()=>{for(;n.length<a.length;)n.push(i.V);for(;a.length<n.length;)a.push(i.V)};for(let t of e)switch(t.type){case"ADDITION":a.push(t);break;case"DELETION":n.push(t);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":l(),n.push(t),a.push(t)}return l(),{leftLines:n,rightLines:a}}function h(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent||""}function y({line:e,range:n,fileAnchor:a}){let l;let{origin:t,pathname:i}=window.location;if(n?l=(0,r.j$)(n):e&&(l=function(e,n){let a=["HUNK","CONTEXT","INJECTED_CONTEXT","DELETION"].includes(e.type),l=a?e.left:e.right,t=a?"left":"right";if(null!==l)return(0,r.j$)({diffAnchor:n,endLineNumber:l,endOrientation:t,startLineNumber:l,startOrientation:t,firstSelectedLineNumber:l,firstSelectedOrientation:t})}(e,a)),l)return`${t}${i}#${l}`}function b({includeControlKey:e=!0,includeShiftKey:n,includeOptionKey:a,key:l}){let i=e?`${(0,t.U0)()?"\u2318":"Ctrl + "}`:"";return a&&(i+=`${(0,t.U0)()?"\u2325":"Alt + "}`),n&&(i+=`${(0,t.U0)()?"\u21E7":"Shift + "}`),i+=l}function k({hasThreads:e}){return e?"80px":"24px"}function x({includeControlKey:e=!0,includeShiftKey:n,includeOptionKey:a,key:l}){let i="";return e&&(i+=(0,t.U0)()?"Command+":"Control+"),a&&(i+=(0,t.U0)()?"Option+":"Alt+"),n&&(i+="Shift+"),i+=l}let v=["ADDITION","DELETION","CONTEXT"],C=(e,n)=>{if(!e)return!1;let a=n.leftLines.concat(n.rightLines);return a.length>0&&a.includes(e)?a.every(e=>!u(e)&&v.includes(e.type)):!u(e)&&v.includes(e.type)},j=e=>e?e.filter(e=>!u(e)).map(e=>{let[n]=g(h(e.html),e.type);return n}).join("\n"):""},87592:(e,n,a)=>{a.d(n,{U:()=>r,l:()=>s});var l=a(96540),t=a(29063),i=a(47584);function r(){let[e,n]=(0,l.useState)(""),a=(0,l.useCallback)(()=>{n(((0,t.pd)(i.fV.hash??"")??"").replace("diff-",""))},[]);return(0,l.useEffect)(()=>(window.addEventListener("hashchange",a),a(),()=>{window.removeEventListener("hashchange",a)}),[a]),e}function s(){let[e,n]=(0,l.useState)(""),a=(0,l.useCallback)(()=>{let e=(0,t.EW)(i.fV.hash??"")??"";n((""===e?(0,t.pd)(i.fV.hash??"")??"":e?.[0]??"").replace("diff-",""))},[]);return(0,l.useEffect)(()=>(window.addEventListener("hashchange",a),a(),()=>{window.removeEventListener("hashchange",a)}),[a]),e}},54332:(e,n,a)=>{a.d(n,{V:()=>l});let l="empty-diff-line"},80934:(e,n,a)=>{a.d(n,{U:()=>d});var l=a(21728),t=a(57572),i=a(97665),r=a(94747),s=a(86617),o=a(56176);function d(e){let n,a,d,c,u;let m=(0,l.c)(11),{onSuccess:p,onError:g}=e,f=(0,i.jE)();return m[0]===Symbol.for("react.memo_cache_sentinel")?(n=async e=>{let{commentsPreference:n,lineSpacing:a,splitPreference:l}=e;if(!(0,o.M3)())return;let i={};n&&(i={...i,commentsPreference:n}),a&&(i={...i,lineSpacing:a}),l&&(i={...i,diff:l});let r=await (0,t.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:i}),s=await r.json();if(r.ok)return s;throw Error(s.error||"Unknown error occurred",{cause:r.status})},m[0]=n):n=m[0],m[1]!==f?(a=async e=>{f.setQueryData((0,s.nZ)(),n=>({...n,...e}))},m[1]=f,m[2]=a):a=m[2],m[3]!==p?(d=()=>{p()},m[3]=p,m[4]=d):d=m[4],m[5]!==g?(c=e=>{g(e)},m[5]=g,m[6]=c):c=m[6],m[7]!==a||m[8]!==d||m[9]!==c?(u={mutationFn:n,onMutate:a,onSuccess:d,onError:c},m[7]=a,m[8]=d,m[9]=c,m[10]=u):u=m[10],(0,r.n)(u)}},86617:(e,n,a)=>{a.d(n,{C0:()=>p,Pe:()=>u,Qn:()=>g,bJ:()=>m,in:()=>d,nZ:()=>c,sI:()=>o});var l=a(21728),t=a(41281),i=a(97286),r=a(46928),s=a(4460);let o={Visible:"visible",Collapsed:"collapsed"},d={hideWhitespace:!1,splitPreference:"split",lineSpacing:"relaxed",commentsPreference:o.Visible};function c(){return[t.u.diffViewUserSettings]}function u(e){let n,a,t;let r=(0,l.c)(6);r[0]===Symbol.for("react.memo_cache_sentinel")?(n=c(),r[0]=n):n=r[0];let s=n;return r[1]!==e?(a=async()=>e||d,r[1]=e,r[2]=a):a=r[2],r[3]!==e||r[4]!==a?(t={queryKey:s,queryFn:a,initialData:e,staleTime:1/0},r[3]=e,r[4]=a,r[5]=t):t=r[5],(0,i.I)(t)}function m(e,n){let a=new URL(window.location.href,window.location.origin);if(n){let l=encodeURIComponent(n);a.searchParams.set(e,l)}else a.searchParams.delete(e);(0,s.bj)(a.toString())}function p(e){let n;let a=(0,l.c)(2),t=e,[i]=(0,r.o)();a[0]!==i?(n=i.get("diff"),a[0]=i,a[1]=n):n=a[1];let s=n;return("split"===s||"unified"===s)&&(t=s),t}function g(e){let n=e,[a]=(0,r.o)(),l=a.get("w");return"1"===l?n=!0:"0"===l&&(n=!1),n}},79658:(e,n,a)=>{a.d(n,{s:()=>l});let l={Visible:"visible",Collapsed:"collapsed"}},10986:(e,n,a)=>{a.d(n,{B:()=>l,v:()=>t});let l={"+1":"\u{1F44D}","-1":"\u{1F44E}",100:"\u{1F4AF}",1234:"\u{1F522}","1st_place_medal":"\u{1F947}","2nd_place_medal":"\u{1F948}","3rd_place_medal":"\u{1F949}","8ball":"\u{1F3B1}",a:"\u{1F170}",ab:"\u{1F18E}",abacus:"\u{1F9EE}",abc:"\u{1F524}",abcd:"\u{1F521}",accept:"\u{1F251}",adhesive_bandage:"\u{1FA79}",adult:"\u{1F9D1}",aerial_tramway:"\u{1F6A1}",afghanistan:"\u{1F1E6}\u200D\u{1F1EB}",airplane:"\u2708",aland_islands:"\u{1F1E6}\u200D\u{1F1FD}",alarm_clock:"\u23F0",albania:"\u{1F1E6}\u200D\u{1F1F1}",alembic:"\u2697",algeria:"\u{1F1E9}\u200D\u{1F1FF}",alien:"\u{1F47D}",ambulance:"\u{1F691}",american_samoa:"\u{1F1E6}\u200D\u{1F1F8}",amphora:"\u{1F3FA}",anchor:"\u2693",andorra:"\u{1F1E6}\u200D\u{1F1E9}",angel:"\u{1F47C}",anger:"\u{1F4A2}",angola:"\u{1F1E6}\u200D\u{1F1F4}",angry:"\u{1F620}",anguilla:"\u{1F1E6}\u200D\u{1F1EE}",anguished:"\u{1F627}",ant:"\u{1F41C}",antarctica:"\u{1F1E6}\u200D\u{1F1F6}",antigua_barbuda:"\u{1F1E6}\u200D\u{1F1EC}",apple:"\u{1F34E}",aquarius:"\u2652",argentina:"\u{1F1E6}\u200D\u{1F1F7}",aries:"\u2648",armenia:"\u{1F1E6}\u200D\u{1F1F2}",arrow_backward:"\u25C0",arrow_double_down:"\u23EC",arrow_double_up:"\u23EB",arrow_down:"\u2B07",arrow_down_small:"\u{1F53D}",arrow_forward:"\u25B6",arrow_heading_down:"\u2935",arrow_heading_up:"\u2934",arrow_left:"\u2B05",arrow_lower_left:"\u2199",arrow_lower_right:"\u2198",arrow_right:"\u27A1",arrow_right_hook:"\u21AA",arrow_up:"\u2B06",arrow_up_down:"\u2195",arrow_up_small:"\u{1F53C}",arrow_upper_left:"\u2196",arrow_upper_right:"\u2197",arrows_clockwise:"\u{1F503}",arrows_counterclockwise:"\u{1F504}",art:"\u{1F3A8}",articulated_lorry:"\u{1F69B}",artificial_satellite:"\u{1F6F0}",artist:"\u{1F9D1}\u200D\u{1F3A8}",aruba:"\u{1F1E6}\u200D\u{1F1FC}",ascension_island:"\u{1F1E6}\u200D\u{1F1E8}",asterisk:"*\u200D\u20E3",astonished:"\u{1F632}",astronaut:"\u{1F9D1}\u200D\u{1F680}",athletic_shoe:"\u{1F45F}",atm:"\u{1F3E7}",atom_symbol:"\u269B",australia:"\u{1F1E6}\u200D\u{1F1FA}",austria:"\u{1F1E6}\u200D\u{1F1F9}",auto_rickshaw:"\u{1F6FA}",avocado:"\u{1F951}",axe:"\u{1FA93}",azerbaijan:"\u{1F1E6}\u200D\u{1F1FF}",b:"\u{1F171}",baby:"\u{1F476}",baby_bottle:"\u{1F37C}",baby_chick:"\u{1F424}",baby_symbol:"\u{1F6BC}",back:"\u{1F519}",bacon:"\u{1F953}",badger:"\u{1F9A1}",badminton:"\u{1F3F8}",bagel:"\u{1F96F}",baggage_claim:"\u{1F6C4}",baguette_bread:"\u{1F956}",bahamas:"\u{1F1E7}\u200D\u{1F1F8}",bahrain:"\u{1F1E7}\u200D\u{1F1ED}",balance_scale:"\u2696",bald_man:"\u{1F468}\u200D\u{1F9B2}",bald_woman:"\u{1F469}\u200D\u{1F9B2}",ballet_shoes:"\u{1FA70}",balloon:"\u{1F388}",ballot_box:"\u{1F5F3}",ballot_box_with_check:"\u2611",bamboo:"\u{1F38D}",banana:"\u{1F34C}",bangbang:"\u203C",bangladesh:"\u{1F1E7}\u200D\u{1F1E9}",banjo:"\u{1FA95}",bank:"\u{1F3E6}",bar_chart:"\u{1F4CA}",barbados:"\u{1F1E7}\u200D\u{1F1E7}",barber:"\u{1F488}",baseball:"\u26BE",basket:"\u{1F9FA}",basketball:"\u{1F3C0}",basketball_man:"\u26F9\u200D\u2642",basketball_woman:"\u26F9\u200D\u2640",bat:"\u{1F987}",bath:"\u{1F6C0}",bathtub:"\u{1F6C1}",battery:"\u{1F50B}",beach_umbrella:"\u{1F3D6}",bear:"\u{1F43B}",bearded_person:"\u{1F9D4}",bed:"\u{1F6CF}",bee:"\u{1F41D}",beer:"\u{1F37A}",beers:"\u{1F37B}",beetle:"\u{1F41E}",beginner:"\u{1F530}",belarus:"\u{1F1E7}\u200D\u{1F1FE}",belgium:"\u{1F1E7}\u200D\u{1F1EA}",belize:"\u{1F1E7}\u200D\u{1F1FF}",bell:"\u{1F514}",bellhop_bell:"\u{1F6CE}",benin:"\u{1F1E7}\u200D\u{1F1EF}",bento:"\u{1F371}",bermuda:"\u{1F1E7}\u200D\u{1F1F2}",beverage_box:"\u{1F9C3}",bhutan:"\u{1F1E7}\u200D\u{1F1F9}",bicyclist:"\u{1F6B4}",bike:"\u{1F6B2}",biking_man:"\u{1F6B4}\u200D\u2642",biking_woman:"\u{1F6B4}\u200D\u2640",bikini:"\u{1F459}",billed_cap:"\u{1F9E2}",biohazard:"\u2623",bird:"\u{1F426}",birthday:"\u{1F382}",black_circle:"\u26AB",black_flag:"\u{1F3F4}",black_heart:"\u{1F5A4}",black_joker:"\u{1F0CF}",black_large_square:"\u2B1B",black_medium_small_square:"\u25FE",black_medium_square:"\u25FC",black_nib:"\u2712",black_small_square:"\u25AA",black_square_button:"\u{1F532}",blond_haired_man:"\u{1F471}\u200D\u2642",blond_haired_person:"\u{1F471}",blond_haired_woman:"\u{1F471}\u200D\u2640",blonde_woman:"\u{1F471}\u200D\u2640",blossom:"\u{1F33C}",blowfish:"\u{1F421}",blue_book:"\u{1F4D8}",blue_car:"\u{1F699}",blue_heart:"\u{1F499}",blue_square:"\u{1F7E6}",blush:"\u{1F60A}",boar:"\u{1F417}",boat:"\u26F5",bolivia:"\u{1F1E7}\u200D\u{1F1F4}",bomb:"\u{1F4A3}",bone:"\u{1F9B4}",book:"\u{1F4D6}",bookmark:"\u{1F516}",bookmark_tabs:"\u{1F4D1}",books:"\u{1F4DA}",boom:"\u{1F4A5}",boot:"\u{1F462}",bosnia_herzegovina:"\u{1F1E7}\u200D\u{1F1E6}",botswana:"\u{1F1E7}\u200D\u{1F1FC}",bouncing_ball_man:"\u26F9\u200D\u2642",bouncing_ball_person:"\u26F9",bouncing_ball_woman:"\u26F9\u200D\u2640",bouquet:"\u{1F490}",bouvet_island:"\u{1F1E7}\u200D\u{1F1FB}",bow:"\u{1F647}",bow_and_arrow:"\u{1F3F9}",bowing_man:"\u{1F647}\u200D\u2642",bowing_woman:"\u{1F647}\u200D\u2640",bowl_with_spoon:"\u{1F963}",bowling:"\u{1F3B3}",boxing_glove:"\u{1F94A}",boy:"\u{1F466}",brain:"\u{1F9E0}",brazil:"\u{1F1E7}\u200D\u{1F1F7}",bread:"\u{1F35E}",breast_feeding:"\u{1F931}",bricks:"\u{1F9F1}",bride_with_veil:"\u{1F470}",bridge_at_night:"\u{1F309}",briefcase:"\u{1F4BC}",british_indian_ocean_territory:"\u{1F1EE}\u200D\u{1F1F4}",british_virgin_islands:"\u{1F1FB}\u200D\u{1F1EC}",broccoli:"\u{1F966}",broken_heart:"\u{1F494}",broom:"\u{1F9F9}",brown_circle:"\u{1F7E4}",brown_heart:"\u{1F90E}",brown_square:"\u{1F7EB}",brunei:"\u{1F1E7}\u200D\u{1F1F3}",bug:"\u{1F41B}",building_construction:"\u{1F3D7}",bulb:"\u{1F4A1}",bulgaria:"\u{1F1E7}\u200D\u{1F1EC}",bullettrain_front:"\u{1F685}",bullettrain_side:"\u{1F684}",burkina_faso:"\u{1F1E7}\u200D\u{1F1EB}",burrito:"\u{1F32F}",burundi:"\u{1F1E7}\u200D\u{1F1EE}",bus:"\u{1F68C}",business_suit_levitating:"\u{1F574}",busstop:"\u{1F68F}",bust_in_silhouette:"\u{1F464}",busts_in_silhouette:"\u{1F465}",butter:"\u{1F9C8}",butterfly:"\u{1F98B}",cactus:"\u{1F335}",cake:"\u{1F370}",calendar:"\u{1F4C6}",call_me_hand:"\u{1F919}",calling:"\u{1F4F2}",cambodia:"\u{1F1F0}\u200D\u{1F1ED}",camel:"\u{1F42B}",camera:"\u{1F4F7}",camera_flash:"\u{1F4F8}",cameroon:"\u{1F1E8}\u200D\u{1F1F2}",camping:"\u{1F3D5}",canada:"\u{1F1E8}\u200D\u{1F1E6}",canary_islands:"\u{1F1EE}\u200D\u{1F1E8}",cancer:"\u264B",candle:"\u{1F56F}",candy:"\u{1F36C}",canned_food:"\u{1F96B}",canoe:"\u{1F6F6}",cape_verde:"\u{1F1E8}\u200D\u{1F1FB}",capital_abcd:"\u{1F520}",capricorn:"\u2651",car:"\u{1F697}",card_file_box:"\u{1F5C3}",card_index:"\u{1F4C7}",card_index_dividers:"\u{1F5C2}",caribbean_netherlands:"\u{1F1E7}\u200D\u{1F1F6}",carousel_horse:"\u{1F3A0}",carrot:"\u{1F955}",cartwheeling:"\u{1F938}",cat:"\u{1F431}",cat2:"\u{1F408}",cayman_islands:"\u{1F1F0}\u200D\u{1F1FE}",cd:"\u{1F4BF}",central_african_republic:"\u{1F1E8}\u200D\u{1F1EB}",ceuta_melilla:"\u{1F1EA}\u200D\u{1F1E6}",chad:"\u{1F1F9}\u200D\u{1F1E9}",chains:"\u26D3",chair:"\u{1FA91}",champagne:"\u{1F37E}",chart:"\u{1F4B9}",chart_with_downwards_trend:"\u{1F4C9}",chart_with_upwards_trend:"\u{1F4C8}",checkered_flag:"\u{1F3C1}",cheese:"\u{1F9C0}",cherries:"\u{1F352}",cherry_blossom:"\u{1F338}",chess_pawn:"\u265F",chestnut:"\u{1F330}",chicken:"\u{1F414}",child:"\u{1F9D2}",children_crossing:"\u{1F6B8}",chile:"\u{1F1E8}\u200D\u{1F1F1}",chipmunk:"\u{1F43F}",chocolate_bar:"\u{1F36B}",chopsticks:"\u{1F962}",christmas_island:"\u{1F1E8}\u200D\u{1F1FD}",christmas_tree:"\u{1F384}",church:"\u26EA",cinema:"\u{1F3A6}",circus_tent:"\u{1F3AA}",city_sunrise:"\u{1F307}",city_sunset:"\u{1F306}",cityscape:"\u{1F3D9}",cl:"\u{1F191}",clamp:"\u{1F5DC}",clap:"\u{1F44F}",clapper:"\u{1F3AC}",classical_building:"\u{1F3DB}",climbing:"\u{1F9D7}",climbing_man:"\u{1F9D7}\u200D\u2642",climbing_woman:"\u{1F9D7}\u200D\u2640",clinking_glasses:"\u{1F942}",clipboard:"\u{1F4CB}",clipperton_island:"\u{1F1E8}\u200D\u{1F1F5}",clock1:"\u{1F550}",clock10:"\u{1F559}",clock1030:"\u{1F565}",clock11:"\u{1F55A}",clock1130:"\u{1F566}",clock12:"\u{1F55B}",clock1230:"\u{1F567}",clock130:"\u{1F55C}",clock2:"\u{1F551}",clock230:"\u{1F55D}",clock3:"\u{1F552}",clock330:"\u{1F55E}",clock4:"\u{1F553}",clock430:"\u{1F55F}",clock5:"\u{1F554}",clock530:"\u{1F560}",clock6:"\u{1F555}",clock630:"\u{1F561}",clock7:"\u{1F556}",clock730:"\u{1F562}",clock8:"\u{1F557}",clock830:"\u{1F563}",clock9:"\u{1F558}",clock930:"\u{1F564}",closed_book:"\u{1F4D5}",closed_lock_with_key:"\u{1F510}",closed_umbrella:"\u{1F302}",cloud:"\u2601",cloud_with_lightning:"\u{1F329}",cloud_with_lightning_and_rain:"\u26C8",cloud_with_rain:"\u{1F327}",cloud_with_snow:"\u{1F328}",clown_face:"\u{1F921}",clubs:"\u2663",cn:"\u{1F1E8}\u200D\u{1F1F3}",coat:"\u{1F9E5}",cocktail:"\u{1F378}",coconut:"\u{1F965}",cocos_islands:"\u{1F1E8}\u200D\u{1F1E8}",coffee:"\u2615",coffin:"\u26B0",cold_face:"\u{1F976}",cold_sweat:"\u{1F630}",collision:"\u{1F4A5}",colombia:"\u{1F1E8}\u200D\u{1F1F4}",comet:"\u2604",comoros:"\u{1F1F0}\u200D\u{1F1F2}",compass:"\u{1F9ED}",computer:"\u{1F4BB}",computer_mouse:"\u{1F5B1}",confetti_ball:"\u{1F38A}",confounded:"\u{1F616}",confused:"\u{1F615}",congo_brazzaville:"\u{1F1E8}\u200D\u{1F1EC}",congo_kinshasa:"\u{1F1E8}\u200D\u{1F1E9}",congratulations:"\u3297",construction:"\u{1F6A7}",construction_worker:"\u{1F477}",construction_worker_man:"\u{1F477}\u200D\u2642",construction_worker_woman:"\u{1F477}\u200D\u2640",control_knobs:"\u{1F39B}",convenience_store:"\u{1F3EA}",cook:"\u{1F9D1}\u200D\u{1F373}",cook_islands:"\u{1F1E8}\u200D\u{1F1F0}",cookie:"\u{1F36A}",cool:"\u{1F192}",cop:"\u{1F46E}",copyright:"\xa9",corn:"\u{1F33D}",costa_rica:"\u{1F1E8}\u200D\u{1F1F7}",cote_divoire:"\u{1F1E8}\u200D\u{1F1EE}",couch_and_lamp:"\u{1F6CB}",couple:"\u{1F46B}",couple_with_heart:"\u{1F491}",couple_with_heart_man_man:"\u{1F468}\u200D\u2764\u200D\u{1F468}",couple_with_heart_woman_man:"\u{1F469}\u200D\u2764\u200D\u{1F468}",couple_with_heart_woman_woman:"\u{1F469}\u200D\u2764\u200D\u{1F469}",couplekiss:"\u{1F48F}",couplekiss_man_man:"\u{1F468}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F468}",couplekiss_man_woman:"\u{1F469}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F468}",couplekiss_woman_woman:"\u{1F469}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F469}",cow:"\u{1F42E}",cow2:"\u{1F404}",cowboy_hat_face:"\u{1F920}",crab:"\u{1F980}",crayon:"\u{1F58D}",credit_card:"\u{1F4B3}",crescent_moon:"\u{1F319}",cricket:"\u{1F997}",cricket_game:"\u{1F3CF}",croatia:"\u{1F1ED}\u200D\u{1F1F7}",crocodile:"\u{1F40A}",croissant:"\u{1F950}",crossed_fingers:"\u{1F91E}",crossed_flags:"\u{1F38C}",crossed_swords:"\u2694",crown:"\u{1F451}",cry:"\u{1F622}",crying_cat_face:"\u{1F63F}",crystal_ball:"\u{1F52E}",cuba:"\u{1F1E8}\u200D\u{1F1FA}",cucumber:"\u{1F952}",cup_with_straw:"\u{1F964}",cupcake:"\u{1F9C1}",cupid:"\u{1F498}",curacao:"\u{1F1E8}\u200D\u{1F1FC}",curling_stone:"\u{1F94C}",curly_haired_man:"\u{1F468}\u200D\u{1F9B1}",curly_haired_woman:"\u{1F469}\u200D\u{1F9B1}",curly_loop:"\u27B0",currency_exchange:"\u{1F4B1}",curry:"\u{1F35B}",cursing_face:"\u{1F92C}",custard:"\u{1F36E}",customs:"\u{1F6C3}",cut_of_meat:"\u{1F969}",cyclone:"\u{1F300}",cyprus:"\u{1F1E8}\u200D\u{1F1FE}",czech_republic:"\u{1F1E8}\u200D\u{1F1FF}",dagger:"\u{1F5E1}",dancer:"\u{1F483}",dancers:"\u{1F46F}",dancing_men:"\u{1F46F}\u200D\u2642",dancing_women:"\u{1F46F}\u200D\u2640",dango:"\u{1F361}",dark_sunglasses:"\u{1F576}",dart:"\u{1F3AF}",dash:"\u{1F4A8}",date:"\u{1F4C5}",de:"\u{1F1E9}\u200D\u{1F1EA}",deaf_man:"\u{1F9CF}\u200D\u2642",deaf_person:"\u{1F9CF}",deaf_woman:"\u{1F9CF}\u200D\u2640",deciduous_tree:"\u{1F333}",deer:"\u{1F98C}",denmark:"\u{1F1E9}\u200D\u{1F1F0}",department_store:"\u{1F3EC}",derelict_house:"\u{1F3DA}",desert:"\u{1F3DC}",desert_island:"\u{1F3DD}",desktop_computer:"\u{1F5A5}",detective:"\u{1F575}",diamond_shape_with_a_dot_inside:"\u{1F4A0}",diamonds:"\u2666",diego_garcia:"\u{1F1E9}\u200D\u{1F1EC}",disappointed:"\u{1F61E}",disappointed_relieved:"\u{1F625}",diving_mask:"\u{1F93F}",diya_lamp:"\u{1FA94}",dizzy:"\u{1F4AB}",dizzy_face:"\u{1F635}",djibouti:"\u{1F1E9}\u200D\u{1F1EF}",dna:"\u{1F9EC}",do_not_litter:"\u{1F6AF}",dog:"\u{1F436}",dog2:"\u{1F415}",dollar:"\u{1F4B5}",dolls:"\u{1F38E}",dolphin:"\u{1F42C}",dominica:"\u{1F1E9}\u200D\u{1F1F2}",dominican_republic:"\u{1F1E9}\u200D\u{1F1F4}",door:"\u{1F6AA}",doughnut:"\u{1F369}",dove:"\u{1F54A}",dragon:"\u{1F409}",dragon_face:"\u{1F432}",dress:"\u{1F457}",dromedary_camel:"\u{1F42A}",drooling_face:"\u{1F924}",drop_of_blood:"\u{1FA78}",droplet:"\u{1F4A7}",drum:"\u{1F941}",duck:"\u{1F986}",dumpling:"\u{1F95F}",dvd:"\u{1F4C0}","e-mail":"\u{1F4E7}",eagle:"\u{1F985}",ear:"\u{1F442}",ear_of_rice:"\u{1F33E}",ear_with_hearing_aid:"\u{1F9BB}",earth_africa:"\u{1F30D}",earth_americas:"\u{1F30E}",earth_asia:"\u{1F30F}",ecuador:"\u{1F1EA}\u200D\u{1F1E8}",egg:"\u{1F95A}",eggplant:"\u{1F346}",egypt:"\u{1F1EA}\u200D\u{1F1EC}",eight:"8\u200D\u20E3",eight_pointed_black_star:"\u2734",eight_spoked_asterisk:"\u2733",eject_button:"\u23CF",el_salvador:"\u{1F1F8}\u200D\u{1F1FB}",electric_plug:"\u{1F50C}",elephant:"\u{1F418}",elf:"\u{1F9DD}",elf_man:"\u{1F9DD}\u200D\u2642",elf_woman:"\u{1F9DD}\u200D\u2640",email:"\u2709",end:"\u{1F51A}",england:"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0065}\u200D\u{E006E}\u200D\u{E0067}\u200D\u{E007F}",envelope:"\u2709",envelope_with_arrow:"\u{1F4E9}",equatorial_guinea:"\u{1F1EC}\u200D\u{1F1F6}",eritrea:"\u{1F1EA}\u200D\u{1F1F7}",es:"\u{1F1EA}\u200D\u{1F1F8}",estonia:"\u{1F1EA}\u200D\u{1F1EA}",ethiopia:"\u{1F1EA}\u200D\u{1F1F9}",eu:"\u{1F1EA}\u200D\u{1F1FA}",euro:"\u{1F4B6}",european_castle:"\u{1F3F0}",european_post_office:"\u{1F3E4}",european_union:"\u{1F1EA}\u200D\u{1F1FA}",evergreen_tree:"\u{1F332}",exclamation:"\u2757",exploding_head:"\u{1F92F}",expressionless:"\u{1F611}",eye:"\u{1F441}",eye_speech_bubble:"\u{1F441}\u200D\u{1F5E8}",eyeglasses:"\u{1F453}",eyes:"\u{1F440}",face_with_head_bandage:"\u{1F915}",face_with_thermometer:"\u{1F912}",facepalm:"\u{1F926}",facepunch:"\u{1F44A}",factory:"\u{1F3ED}",factory_worker:"\u{1F9D1}\u200D\u{1F3ED}",fairy:"\u{1F9DA}",fairy_man:"\u{1F9DA}\u200D\u2642",fairy_woman:"\u{1F9DA}\u200D\u2640",falafel:"\u{1F9C6}",falkland_islands:"\u{1F1EB}\u200D\u{1F1F0}",fallen_leaf:"\u{1F342}",family:"\u{1F46A}",family_man_boy:"\u{1F468}\u200D\u{1F466}",family_man_boy_boy:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",family_man_girl:"\u{1F468}\u200D\u{1F467}",family_man_girl_boy:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",family_man_girl_girl:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",family_man_man_boy:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",family_man_man_boy_boy:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",family_man_man_girl:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",family_man_man_girl_boy:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",family_man_man_girl_girl:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",family_man_woman_boy:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",family_man_woman_boy_boy:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",family_man_woman_girl:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",family_man_woman_girl_boy:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",family_man_woman_girl_girl:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",family_woman_boy:"\u{1F469}\u200D\u{1F466}",family_woman_boy_boy:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",family_woman_girl:"\u{1F469}\u200D\u{1F467}",family_woman_girl_boy:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",family_woman_girl_girl:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",family_woman_woman_boy:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",family_woman_woman_boy_boy:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",family_woman_woman_girl:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",family_woman_woman_girl_boy:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",family_woman_woman_girl_girl:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",farmer:"\u{1F9D1}\u200D\u{1F33E}",faroe_islands:"\u{1F1EB}\u200D\u{1F1F4}",fast_forward:"\u23E9",fax:"\u{1F4E0}",fearful:"\u{1F628}",feet:"\u{1F43E}",female_detective:"\u{1F575}\u200D\u2640",female_sign:"\u2640",ferris_wheel:"\u{1F3A1}",ferry:"\u26F4",field_hockey:"\u{1F3D1}",fiji:"\u{1F1EB}\u200D\u{1F1EF}",file_cabinet:"\u{1F5C4}",file_folder:"\u{1F4C1}",film_projector:"\u{1F4FD}",film_strip:"\u{1F39E}",finland:"\u{1F1EB}\u200D\u{1F1EE}",fire:"\u{1F525}",fire_engine:"\u{1F692}",fire_extinguisher:"\u{1F9EF}",firecracker:"\u{1F9E8}",firefighter:"\u{1F9D1}\u200D\u{1F692}",fireworks:"\u{1F386}",first_quarter_moon:"\u{1F313}",first_quarter_moon_with_face:"\u{1F31B}",fish:"\u{1F41F}",fish_cake:"\u{1F365}",fishing_pole_and_fish:"\u{1F3A3}",fist:"\u270A",fist_left:"\u{1F91B}",fist_oncoming:"\u{1F44A}",fist_raised:"\u270A",fist_right:"\u{1F91C}",five:"5\u200D\u20E3",flags:"\u{1F38F}",flamingo:"\u{1F9A9}",flashlight:"\u{1F526}",flat_shoe:"\u{1F97F}",fleur_de_lis:"\u269C",flight_arrival:"\u{1F6EC}",flight_departure:"\u{1F6EB}",flipper:"\u{1F42C}",floppy_disk:"\u{1F4BE}",flower_playing_cards:"\u{1F3B4}",flushed:"\u{1F633}",flying_disc:"\u{1F94F}",flying_saucer:"\u{1F6F8}",fog:"\u{1F32B}",foggy:"\u{1F301}",foot:"\u{1F9B6}",football:"\u{1F3C8}",footprints:"\u{1F463}",fork_and_knife:"\u{1F374}",fortune_cookie:"\u{1F960}",fountain:"\u26F2",fountain_pen:"\u{1F58B}",four:"4\u200D\u20E3",four_leaf_clover:"\u{1F340}",fox_face:"\u{1F98A}",fr:"\u{1F1EB}\u200D\u{1F1F7}",framed_picture:"\u{1F5BC}",free:"\u{1F193}",french_guiana:"\u{1F1EC}\u200D\u{1F1EB}",french_polynesia:"\u{1F1F5}\u200D\u{1F1EB}",french_southern_territories:"\u{1F1F9}\u200D\u{1F1EB}",fried_egg:"\u{1F373}",fried_shrimp:"\u{1F364}",fries:"\u{1F35F}",frog:"\u{1F438}",frowning:"\u{1F626}",frowning_face:"\u2639",frowning_man:"\u{1F64D}\u200D\u2642",frowning_person:"\u{1F64D}",frowning_woman:"\u{1F64D}\u200D\u2640",fu:"\u{1F595}",fuelpump:"\u26FD",full_moon:"\u{1F315}",full_moon_with_face:"\u{1F31D}",funeral_urn:"\u26B1",gabon:"\u{1F1EC}\u200D\u{1F1E6}",gambia:"\u{1F1EC}\u200D\u{1F1F2}",game_die:"\u{1F3B2}",garlic:"\u{1F9C4}",gb:"\u{1F1EC}\u200D\u{1F1E7}",gear:"\u2699",gem:"\u{1F48E}",gemini:"\u264A",genie:"\u{1F9DE}",genie_man:"\u{1F9DE}\u200D\u2642",genie_woman:"\u{1F9DE}\u200D\u2640",georgia:"\u{1F1EC}\u200D\u{1F1EA}",ghana:"\u{1F1EC}\u200D\u{1F1ED}",ghost:"\u{1F47B}",gibraltar:"\u{1F1EC}\u200D\u{1F1EE}",gift:"\u{1F381}",gift_heart:"\u{1F49D}",giraffe:"\u{1F992}",girl:"\u{1F467}",globe_with_meridians:"\u{1F310}",gloves:"\u{1F9E4}",goal_net:"\u{1F945}",goat:"\u{1F410}",goggles:"\u{1F97D}",golf:"\u26F3",golfing:"\u{1F3CC}",golfing_man:"\u{1F3CC}\u200D\u2642",golfing_woman:"\u{1F3CC}\u200D\u2640",gorilla:"\u{1F98D}",grapes:"\u{1F347}",greece:"\u{1F1EC}\u200D\u{1F1F7}",green_apple:"\u{1F34F}",green_book:"\u{1F4D7}",green_circle:"\u{1F7E2}",green_heart:"\u{1F49A}",green_salad:"\u{1F957}",green_square:"\u{1F7E9}",greenland:"\u{1F1EC}\u200D\u{1F1F1}",grenada:"\u{1F1EC}\u200D\u{1F1E9}",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\u{1F62C}",grin:"\u{1F601}",grinning:"\u{1F600}",guadeloupe:"\u{1F1EC}\u200D\u{1F1F5}",guam:"\u{1F1EC}\u200D\u{1F1FA}",guard:"\u{1F482}",guardsman:"\u{1F482}\u200D\u2642",guardswoman:"\u{1F482}\u200D\u2640",guatemala:"\u{1F1EC}\u200D\u{1F1F9}",guernsey:"\u{1F1EC}\u200D\u{1F1EC}",guide_dog:"\u{1F9AE}",guinea:"\u{1F1EC}\u200D\u{1F1F3}",guinea_bissau:"\u{1F1EC}\u200D\u{1F1FC}",guitar:"\u{1F3B8}",gun:"\u{1F52B}",guyana:"\u{1F1EC}\u200D\u{1F1FE}",haircut:"\u{1F487}",haircut_man:"\u{1F487}\u200D\u2642",haircut_woman:"\u{1F487}\u200D\u2640",haiti:"\u{1F1ED}\u200D\u{1F1F9}",hamburger:"\u{1F354}",hammer:"\u{1F528}",hammer_and_pick:"\u2692",hammer_and_wrench:"\u{1F6E0}",hamster:"\u{1F439}",hand:"\u270B",hand_over_mouth:"\u{1F92D}",handbag:"\u{1F45C}",handball_person:"\u{1F93E}",handshake:"\u{1F91D}",hankey:"\u{1F4A9}",hash:"#\u200D\u20E3",hatched_chick:"\u{1F425}",hatching_chick:"\u{1F423}",headphones:"\u{1F3A7}",health_worker:"\u{1F9D1}\u200D\u2695",hear_no_evil:"\u{1F649}",heard_mcdonald_islands:"\u{1F1ED}\u200D\u{1F1F2}",heart:"\u2764",heart_decoration:"\u{1F49F}",heart_eyes:"\u{1F60D}",heart_eyes_cat:"\u{1F63B}",heartbeat:"\u{1F493}",heartpulse:"\u{1F497}",hearts:"\u2665",heavy_check_mark:"\u2714",heavy_division_sign:"\u2797",heavy_dollar_sign:"\u{1F4B2}",heavy_exclamation_mark:"\u2757",heavy_heart_exclamation:"\u2763",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716",heavy_plus_sign:"\u2795",hedgehog:"\u{1F994}",helicopter:"\u{1F681}",herb:"\u{1F33F}",hibiscus:"\u{1F33A}",high_brightness:"\u{1F506}",high_heel:"\u{1F460}",hiking_boot:"\u{1F97E}",hindu_temple:"\u{1F6D5}",hippopotamus:"\u{1F99B}",hocho:"\u{1F52A}",hole:"\u{1F573}",honduras:"\u{1F1ED}\u200D\u{1F1F3}",honey_pot:"\u{1F36F}",honeybee:"\u{1F41D}",hong_kong:"\u{1F1ED}\u200D\u{1F1F0}",horse:"\u{1F434}",horse_racing:"\u{1F3C7}",hospital:"\u{1F3E5}",hot_face:"\u{1F975}",hot_pepper:"\u{1F336}",hotdog:"\u{1F32D}",hotel:"\u{1F3E8}",hotsprings:"\u2668",hourglass:"\u231B",hourglass_flowing_sand:"\u23F3",house:"\u{1F3E0}",house_with_garden:"\u{1F3E1}",houses:"\u{1F3D8}",hugs:"\u{1F917}",hungary:"\u{1F1ED}\u200D\u{1F1FA}",hushed:"\u{1F62F}",ice_cream:"\u{1F368}",ice_cube:"\u{1F9CA}",ice_hockey:"\u{1F3D2}",ice_skate:"\u26F8",icecream:"\u{1F366}",iceland:"\u{1F1EE}\u200D\u{1F1F8}",id:"\u{1F194}",ideograph_advantage:"\u{1F250}",imp:"\u{1F47F}",inbox_tray:"\u{1F4E5}",incoming_envelope:"\u{1F4E8}",india:"\u{1F1EE}\u200D\u{1F1F3}",indonesia:"\u{1F1EE}\u200D\u{1F1E9}",infinity:"\u267E",information_desk_person:"\u{1F481}",information_source:"\u2139",innocent:"\u{1F607}",interrobang:"\u2049",iphone:"\u{1F4F1}",iran:"\u{1F1EE}\u200D\u{1F1F7}",iraq:"\u{1F1EE}\u200D\u{1F1F6}",ireland:"\u{1F1EE}\u200D\u{1F1EA}",isle_of_man:"\u{1F1EE}\u200D\u{1F1F2}",israel:"\u{1F1EE}\u200D\u{1F1F1}",it:"\u{1F1EE}\u200D\u{1F1F9}",izakaya_lantern:"\u{1F3EE}",jack_o_lantern:"\u{1F383}",jamaica:"\u{1F1EF}\u200D\u{1F1F2}",japan:"\u{1F5FE}",japanese_castle:"\u{1F3EF}",japanese_goblin:"\u{1F47A}",japanese_ogre:"\u{1F479}",jeans:"\u{1F456}",jersey:"\u{1F1EF}\u200D\u{1F1EA}",jigsaw:"\u{1F9E9}",jordan:"\u{1F1EF}\u200D\u{1F1F4}",joy:"\u{1F602}",joy_cat:"\u{1F639}",joystick:"\u{1F579}",jp:"\u{1F1EF}\u200D\u{1F1F5}",judge:"\u{1F9D1}\u200D\u2696",juggling_person:"\u{1F939}",kaaba:"\u{1F54B}",kangaroo:"\u{1F998}",kazakhstan:"\u{1F1F0}\u200D\u{1F1FF}",kenya:"\u{1F1F0}\u200D\u{1F1EA}",key:"\u{1F511}",keyboard:"\u2328",keycap_ten:"\u{1F51F}",kick_scooter:"\u{1F6F4}",kimono:"\u{1F458}",kiribati:"\u{1F1F0}\u200D\u{1F1EE}",kiss:"\u{1F48B}",kissing:"\u{1F617}",kissing_cat:"\u{1F63D}",kissing_closed_eyes:"\u{1F61A}",kissing_heart:"\u{1F618}",kissing_smiling_eyes:"\u{1F619}",kite:"\u{1FA81}",kiwi_fruit:"\u{1F95D}",kneeling_man:"\u{1F9CE}\u200D\u2642",kneeling_person:"\u{1F9CE}",kneeling_woman:"\u{1F9CE}\u200D\u2640",knife:"\u{1F52A}",koala:"\u{1F428}",koko:"\u{1F201}",kosovo:"\u{1F1FD}\u200D\u{1F1F0}",kr:"\u{1F1F0}\u200D\u{1F1F7}",kuwait:"\u{1F1F0}\u200D\u{1F1FC}",kyrgyzstan:"\u{1F1F0}\u200D\u{1F1EC}",lab_coat:"\u{1F97C}",label:"\u{1F3F7}",lacrosse:"\u{1F94D}",lantern:"\u{1F3EE}",laos:"\u{1F1F1}\u200D\u{1F1E6}",large_blue_circle:"\u{1F535}",large_blue_diamond:"\u{1F537}",large_orange_diamond:"\u{1F536}",last_quarter_moon:"\u{1F317}",last_quarter_moon_with_face:"\u{1F31C}",latin_cross:"\u271D",latvia:"\u{1F1F1}\u200D\u{1F1FB}",laughing:"\u{1F606}",leafy_green:"\u{1F96C}",leaves:"\u{1F343}",lebanon:"\u{1F1F1}\u200D\u{1F1E7}",ledger:"\u{1F4D2}",left_luggage:"\u{1F6C5}",left_right_arrow:"\u2194",left_speech_bubble:"\u{1F5E8}",leftwards_arrow_with_hook:"\u21A9",leg:"\u{1F9B5}",lemon:"\u{1F34B}",leo:"\u264C",leopard:"\u{1F406}",lesotho:"\u{1F1F1}\u200D\u{1F1F8}",level_slider:"\u{1F39A}",liberia:"\u{1F1F1}\u200D\u{1F1F7}",libra:"\u264E",libya:"\u{1F1F1}\u200D\u{1F1FE}",liechtenstein:"\u{1F1F1}\u200D\u{1F1EE}",light_rail:"\u{1F688}",link:"\u{1F517}",lion:"\u{1F981}",lips:"\u{1F444}",lipstick:"\u{1F484}",lithuania:"\u{1F1F1}\u200D\u{1F1F9}",lizard:"\u{1F98E}",llama:"\u{1F999}",lobster:"\u{1F99E}",lock:"\u{1F512}",lock_with_ink_pen:"\u{1F50F}",lollipop:"\u{1F36D}",loop:"\u27BF",lotion_bottle:"\u{1F9F4}",lotus_position:"\u{1F9D8}",lotus_position_man:"\u{1F9D8}\u200D\u2642",lotus_position_woman:"\u{1F9D8}\u200D\u2640",loud_sound:"\u{1F50A}",loudspeaker:"\u{1F4E2}",love_hotel:"\u{1F3E9}",love_letter:"\u{1F48C}",love_you_gesture:"\u{1F91F}",low_brightness:"\u{1F505}",luggage:"\u{1F9F3}",luxembourg:"\u{1F1F1}\u200D\u{1F1FA}",lying_face:"\u{1F925}",m:"\u24C2",macau:"\u{1F1F2}\u200D\u{1F1F4}",macedonia:"\u{1F1F2}\u200D\u{1F1F0}",madagascar:"\u{1F1F2}\u200D\u{1F1EC}",mag:"\u{1F50D}",mag_right:"\u{1F50E}",mage:"\u{1F9D9}",mage_man:"\u{1F9D9}\u200D\u2642",mage_woman:"\u{1F9D9}\u200D\u2640",magnet:"\u{1F9F2}",mahjong:"\u{1F004}",mailbox:"\u{1F4EB}",mailbox_closed:"\u{1F4EA}",mailbox_with_mail:"\u{1F4EC}",mailbox_with_no_mail:"\u{1F4ED}",malawi:"\u{1F1F2}\u200D\u{1F1FC}",malaysia:"\u{1F1F2}\u200D\u{1F1FE}",maldives:"\u{1F1F2}\u200D\u{1F1FB}",male_detective:"\u{1F575}\u200D\u2642",male_sign:"\u2642",mali:"\u{1F1F2}\u200D\u{1F1F1}",malta:"\u{1F1F2}\u200D\u{1F1F9}",man:"\u{1F468}",man_artist:"\u{1F468}\u200D\u{1F3A8}",man_astronaut:"\u{1F468}\u200D\u{1F680}",man_cartwheeling:"\u{1F938}\u200D\u2642",man_cook:"\u{1F468}\u200D\u{1F373}",man_dancing:"\u{1F57A}",man_facepalming:"\u{1F926}\u200D\u2642",man_factory_worker:"\u{1F468}\u200D\u{1F3ED}",man_farmer:"\u{1F468}\u200D\u{1F33E}",man_firefighter:"\u{1F468}\u200D\u{1F692}",man_health_worker:"\u{1F468}\u200D\u2695",man_in_manual_wheelchair:"\u{1F468}\u200D\u{1F9BD}",man_in_motorized_wheelchair:"\u{1F468}\u200D\u{1F9BC}",man_in_tuxedo:"\u{1F935}",man_judge:"\u{1F468}\u200D\u2696",man_juggling:"\u{1F939}\u200D\u2642",man_mechanic:"\u{1F468}\u200D\u{1F527}",man_office_worker:"\u{1F468}\u200D\u{1F4BC}",man_pilot:"\u{1F468}\u200D\u2708",man_playing_handball:"\u{1F93E}\u200D\u2642",man_playing_water_polo:"\u{1F93D}\u200D\u2642",man_scientist:"\u{1F468}\u200D\u{1F52C}",man_shrugging:"\u{1F937}\u200D\u2642",man_singer:"\u{1F468}\u200D\u{1F3A4}",man_student:"\u{1F468}\u200D\u{1F393}",man_teacher:"\u{1F468}\u200D\u{1F3EB}",man_technologist:"\u{1F468}\u200D\u{1F4BB}",man_with_gua_pi_mao:"\u{1F472}",man_with_probing_cane:"\u{1F468}\u200D\u{1F9AF}",man_with_turban:"\u{1F473}\u200D\u2642",mandarin:"\u{1F34A}",mango:"\u{1F96D}",mans_shoe:"\u{1F45E}",mantelpiece_clock:"\u{1F570}",manual_wheelchair:"\u{1F9BD}",maple_leaf:"\u{1F341}",marshall_islands:"\u{1F1F2}\u200D\u{1F1ED}",martial_arts_uniform:"\u{1F94B}",martinique:"\u{1F1F2}\u200D\u{1F1F6}",mask:"\u{1F637}",massage:"\u{1F486}",massage_man:"\u{1F486}\u200D\u2642",massage_woman:"\u{1F486}\u200D\u2640",mate:"\u{1F9C9}",mauritania:"\u{1F1F2}\u200D\u{1F1F7}",mauritius:"\u{1F1F2}\u200D\u{1F1FA}",mayotte:"\u{1F1FE}\u200D\u{1F1F9}",meat_on_bone:"\u{1F356}",mechanic:"\u{1F9D1}\u200D\u{1F527}",mechanical_arm:"\u{1F9BE}",mechanical_leg:"\u{1F9BF}",medal_military:"\u{1F396}",medal_sports:"\u{1F3C5}",medical_symbol:"\u2695",mega:"\u{1F4E3}",melon:"\u{1F348}",memo:"\u{1F4DD}",men_wrestling:"\u{1F93C}\u200D\u2642",menorah:"\u{1F54E}",mens:"\u{1F6B9}",mermaid:"\u{1F9DC}\u200D\u2640",merman:"\u{1F9DC}\u200D\u2642",merperson:"\u{1F9DC}",metal:"\u{1F918}",metro:"\u{1F687}",mexico:"\u{1F1F2}\u200D\u{1F1FD}",microbe:"\u{1F9A0}",micronesia:"\u{1F1EB}\u200D\u{1F1F2}",microphone:"\u{1F3A4}",microscope:"\u{1F52C}",middle_finger:"\u{1F595}",milk_glass:"\u{1F95B}",milky_way:"\u{1F30C}",minibus:"\u{1F690}",minidisc:"\u{1F4BD}",mobile_phone_off:"\u{1F4F4}",moldova:"\u{1F1F2}\u200D\u{1F1E9}",monaco:"\u{1F1F2}\u200D\u{1F1E8}",money_mouth_face:"\u{1F911}",money_with_wings:"\u{1F4B8}",moneybag:"\u{1F4B0}",mongolia:"\u{1F1F2}\u200D\u{1F1F3}",monkey:"\u{1F412}",monkey_face:"\u{1F435}",monocle_face:"\u{1F9D0}",monorail:"\u{1F69D}",montenegro:"\u{1F1F2}\u200D\u{1F1EA}",montserrat:"\u{1F1F2}\u200D\u{1F1F8}",moon:"\u{1F314}",moon_cake:"\u{1F96E}",morocco:"\u{1F1F2}\u200D\u{1F1E6}",mortar_board:"\u{1F393}",mosque:"\u{1F54C}",mosquito:"\u{1F99F}",motor_boat:"\u{1F6E5}",motor_scooter:"\u{1F6F5}",motorcycle:"\u{1F3CD}",motorized_wheelchair:"\u{1F9BC}",motorway:"\u{1F6E3}",mount_fuji:"\u{1F5FB}",mountain:"\u26F0",mountain_bicyclist:"\u{1F6B5}",mountain_biking_man:"\u{1F6B5}\u200D\u2642",mountain_biking_woman:"\u{1F6B5}\u200D\u2640",mountain_cableway:"\u{1F6A0}",mountain_railway:"\u{1F69E}",mountain_snow:"\u{1F3D4}",mouse:"\u{1F42D}",mouse2:"\u{1F401}",movie_camera:"\u{1F3A5}",moyai:"\u{1F5FF}",mozambique:"\u{1F1F2}\u200D\u{1F1FF}",mrs_claus:"\u{1F936}",muscle:"\u{1F4AA}",mushroom:"\u{1F344}",musical_keyboard:"\u{1F3B9}",musical_note:"\u{1F3B5}",musical_score:"\u{1F3BC}",mute:"\u{1F507}",myanmar:"\u{1F1F2}\u200D\u{1F1F2}",nail_care:"\u{1F485}",name_badge:"\u{1F4DB}",namibia:"\u{1F1F3}\u200D\u{1F1E6}",national_park:"\u{1F3DE}",nauru:"\u{1F1F3}\u200D\u{1F1F7}",nauseated_face:"\u{1F922}",nazar_amulet:"\u{1F9FF}",necktie:"\u{1F454}",negative_squared_cross_mark:"\u274E",nepal:"\u{1F1F3}\u200D\u{1F1F5}",nerd_face:"\u{1F913}",netherlands:"\u{1F1F3}\u200D\u{1F1F1}",neutral_face:"\u{1F610}",new:"\u{1F195}",new_caledonia:"\u{1F1F3}\u200D\u{1F1E8}",new_moon:"\u{1F311}",new_moon_with_face:"\u{1F31A}",new_zealand:"\u{1F1F3}\u200D\u{1F1FF}",newspaper:"\u{1F4F0}",newspaper_roll:"\u{1F5DE}",next_track_button:"\u23ED",ng:"\u{1F196}",ng_man:"\u{1F645}\u200D\u2642",ng_woman:"\u{1F645}\u200D\u2640",nicaragua:"\u{1F1F3}\u200D\u{1F1EE}",niger:"\u{1F1F3}\u200D\u{1F1EA}",nigeria:"\u{1F1F3}\u200D\u{1F1EC}",night_with_stars:"\u{1F303}",nine:"9\u200D\u20E3",niue:"\u{1F1F3}\u200D\u{1F1FA}",no_bell:"\u{1F515}",no_bicycles:"\u{1F6B3}",no_entry:"\u26D4",no_entry_sign:"\u{1F6AB}",no_good:"\u{1F645}",no_good_man:"\u{1F645}\u200D\u2642",no_good_woman:"\u{1F645}\u200D\u2640",no_mobile_phones:"\u{1F4F5}",no_mouth:"\u{1F636}",no_pedestrians:"\u{1F6B7}",no_smoking:"\u{1F6AD}","non-potable_water":"\u{1F6B1}",norfolk_island:"\u{1F1F3}\u200D\u{1F1EB}",north_korea:"\u{1F1F0}\u200D\u{1F1F5}",northern_mariana_islands:"\u{1F1F2}\u200D\u{1F1F5}",norway:"\u{1F1F3}\u200D\u{1F1F4}",nose:"\u{1F443}",notebook:"\u{1F4D3}",notebook_with_decorative_cover:"\u{1F4D4}",notes:"\u{1F3B6}",nut_and_bolt:"\u{1F529}",o:"\u2B55",o2:"\u{1F17E}",ocean:"\u{1F30A}",octopus:"\u{1F419}",oden:"\u{1F362}",office:"\u{1F3E2}",office_worker:"\u{1F9D1}\u200D\u{1F4BC}",oil_drum:"\u{1F6E2}",ok:"\u{1F197}",ok_hand:"\u{1F44C}",ok_man:"\u{1F646}\u200D\u2642",ok_person:"\u{1F646}",ok_woman:"\u{1F646}\u200D\u2640",old_key:"\u{1F5DD}",older_adult:"\u{1F9D3}",older_man:"\u{1F474}",older_woman:"\u{1F475}",om:"\u{1F549}",oman:"\u{1F1F4}\u200D\u{1F1F2}",on:"\u{1F51B}",oncoming_automobile:"\u{1F698}",oncoming_bus:"\u{1F68D}",oncoming_police_car:"\u{1F694}",oncoming_taxi:"\u{1F696}",one:"1\u200D\u20E3",one_piece_swimsuit:"\u{1FA71}",onion:"\u{1F9C5}",open_book:"\u{1F4D6}",open_file_folder:"\u{1F4C2}",open_hands:"\u{1F450}",open_mouth:"\u{1F62E}",open_umbrella:"\u2602",ophiuchus:"\u26CE",orange:"\u{1F34A}",orange_book:"\u{1F4D9}",orange_circle:"\u{1F7E0}",orange_heart:"\u{1F9E1}",orange_square:"\u{1F7E7}",orangutan:"\u{1F9A7}",orthodox_cross:"\u2626",otter:"\u{1F9A6}",outbox_tray:"\u{1F4E4}",owl:"\u{1F989}",ox:"\u{1F402}",oyster:"\u{1F9AA}",package:"\u{1F4E6}",page_facing_up:"\u{1F4C4}",page_with_curl:"\u{1F4C3}",pager:"\u{1F4DF}",paintbrush:"\u{1F58C}",pakistan:"\u{1F1F5}\u200D\u{1F1F0}",palau:"\u{1F1F5}\u200D\u{1F1FC}",palestinian_territories:"\u{1F1F5}\u200D\u{1F1F8}",palm_tree:"\u{1F334}",palms_up_together:"\u{1F932}",panama:"\u{1F1F5}\u200D\u{1F1E6}",pancakes:"\u{1F95E}",panda_face:"\u{1F43C}",paperclip:"\u{1F4CE}",paperclips:"\u{1F587}",papua_new_guinea:"\u{1F1F5}\u200D\u{1F1EC}",parachute:"\u{1FA82}",paraguay:"\u{1F1F5}\u200D\u{1F1FE}",parasol_on_ground:"\u26F1",parking:"\u{1F17F}",parrot:"\u{1F99C}",part_alternation_mark:"\u303D",partly_sunny:"\u26C5",partying_face:"\u{1F973}",passenger_ship:"\u{1F6F3}",passport_control:"\u{1F6C2}",pause_button:"\u23F8",paw_prints:"\u{1F43E}",peace_symbol:"\u262E",peach:"\u{1F351}",peacock:"\u{1F99A}",peanuts:"\u{1F95C}",pear:"\u{1F350}",pen:"\u{1F58A}",pencil:"\u{1F4DD}",pencil2:"\u270F",penguin:"\u{1F427}",pensive:"\u{1F614}",people_holding_hands:"\u{1F9D1}\u200D\u{1F91D}\u200D\u{1F9D1}",performing_arts:"\u{1F3AD}",persevere:"\u{1F623}",person_bald:"\u{1F9D1}\u200D\u{1F9B2}",person_curly_hair:"\u{1F9D1}\u200D\u{1F9B1}",person_fencing:"\u{1F93A}",person_in_manual_wheelchair:"\u{1F9D1}\u200D\u{1F9BD}",person_in_motorized_wheelchair:"\u{1F9D1}\u200D\u{1F9BC}",person_red_hair:"\u{1F9D1}\u200D\u{1F9B0}",person_white_hair:"\u{1F9D1}\u200D\u{1F9B3}",person_with_probing_cane:"\u{1F9D1}\u200D\u{1F9AF}",person_with_turban:"\u{1F473}",peru:"\u{1F1F5}\u200D\u{1F1EA}",petri_dish:"\u{1F9EB}",philippines:"\u{1F1F5}\u200D\u{1F1ED}",phone:"\u260E",pick:"\u26CF",pie:"\u{1F967}",pig:"\u{1F437}",pig2:"\u{1F416}",pig_nose:"\u{1F43D}",pill:"\u{1F48A}",pilot:"\u{1F9D1}\u200D\u2708",pinching_hand:"\u{1F90F}",pineapple:"\u{1F34D}",ping_pong:"\u{1F3D3}",pirate_flag:"\u{1F3F4}\u200D\u2620",pisces:"\u2653",pitcairn_islands:"\u{1F1F5}\u200D\u{1F1F3}",pizza:"\u{1F355}",place_of_worship:"\u{1F6D0}",plate_with_cutlery:"\u{1F37D}",play_or_pause_button:"\u23EF",pleading_face:"\u{1F97A}",point_down:"\u{1F447}",point_left:"\u{1F448}",point_right:"\u{1F449}",point_up:"\u261D",point_up_2:"\u{1F446}",poland:"\u{1F1F5}\u200D\u{1F1F1}",police_car:"\u{1F693}",police_officer:"\u{1F46E}",policeman:"\u{1F46E}\u200D\u2642",policewoman:"\u{1F46E}\u200D\u2640",poodle:"\u{1F429}",poop:"\u{1F4A9}",popcorn:"\u{1F37F}",portugal:"\u{1F1F5}\u200D\u{1F1F9}",post_office:"\u{1F3E3}",postal_horn:"\u{1F4EF}",postbox:"\u{1F4EE}",potable_water:"\u{1F6B0}",potato:"\u{1F954}",pouch:"\u{1F45D}",poultry_leg:"\u{1F357}",pound:"\u{1F4B7}",pout:"\u{1F621}",pouting_cat:"\u{1F63E}",pouting_face:"\u{1F64E}",pouting_man:"\u{1F64E}\u200D\u2642",pouting_woman:"\u{1F64E}\u200D\u2640",pray:"\u{1F64F}",prayer_beads:"\u{1F4FF}",pregnant_woman:"\u{1F930}",pretzel:"\u{1F968}",previous_track_button:"\u23EE",prince:"\u{1F934}",princess:"\u{1F478}",printer:"\u{1F5A8}",probing_cane:"\u{1F9AF}",puerto_rico:"\u{1F1F5}\u200D\u{1F1F7}",punch:"\u{1F44A}",purple_circle:"\u{1F7E3}",purple_heart:"\u{1F49C}",purple_square:"\u{1F7EA}",purse:"\u{1F45B}",pushpin:"\u{1F4CC}",put_litter_in_its_place:"\u{1F6AE}",qatar:"\u{1F1F6}\u200D\u{1F1E6}",question:"\u2753",rabbit:"\u{1F430}",rabbit2:"\u{1F407}",raccoon:"\u{1F99D}",racehorse:"\u{1F40E}",racing_car:"\u{1F3CE}",radio:"\u{1F4FB}",radio_button:"\u{1F518}",radioactive:"\u2622",rage:"\u{1F621}",railway_car:"\u{1F683}",railway_track:"\u{1F6E4}",rainbow:"\u{1F308}",rainbow_flag:"\u{1F3F3}\u200D\u{1F308}",raised_back_of_hand:"\u{1F91A}",raised_eyebrow:"\u{1F928}",raised_hand:"\u270B",raised_hand_with_fingers_splayed:"\u{1F590}",raised_hands:"\u{1F64C}",raising_hand:"\u{1F64B}",raising_hand_man:"\u{1F64B}\u200D\u2642",raising_hand_woman:"\u{1F64B}\u200D\u2640",ram:"\u{1F40F}",ramen:"\u{1F35C}",rat:"\u{1F400}",razor:"\u{1FA92}",receipt:"\u{1F9FE}",record_button:"\u23FA",recycle:"\u267B",red_car:"\u{1F697}",red_circle:"\u{1F534}",red_envelope:"\u{1F9E7}",red_haired_man:"\u{1F468}\u200D\u{1F9B0}",red_haired_woman:"\u{1F469}\u200D\u{1F9B0}",red_square:"\u{1F7E5}",registered:"\xae",relaxed:"\u263A",relieved:"\u{1F60C}",reminder_ribbon:"\u{1F397}",repeat:"\u{1F501}",repeat_one:"\u{1F502}",rescue_worker_helmet:"\u26D1",restroom:"\u{1F6BB}",reunion:"\u{1F1F7}\u200D\u{1F1EA}",revolving_hearts:"\u{1F49E}",rewind:"\u23EA",rhinoceros:"\u{1F98F}",ribbon:"\u{1F380}",rice:"\u{1F35A}",rice_ball:"\u{1F359}",rice_cracker:"\u{1F358}",rice_scene:"\u{1F391}",right_anger_bubble:"\u{1F5EF}",ring:"\u{1F48D}",ringed_planet:"\u{1FA90}",robot:"\u{1F916}",rocket:"\u{1F680}",rofl:"\u{1F923}",roll_eyes:"\u{1F644}",roll_of_paper:"\u{1F9FB}",roller_coaster:"\u{1F3A2}",romania:"\u{1F1F7}\u200D\u{1F1F4}",rooster:"\u{1F413}",rose:"\u{1F339}",rosette:"\u{1F3F5}",rotating_light:"\u{1F6A8}",round_pushpin:"\u{1F4CD}",rowboat:"\u{1F6A3}",rowing_man:"\u{1F6A3}\u200D\u2642",rowing_woman:"\u{1F6A3}\u200D\u2640",ru:"\u{1F1F7}\u200D\u{1F1FA}",rugby_football:"\u{1F3C9}",runner:"\u{1F3C3}",running:"\u{1F3C3}",running_man:"\u{1F3C3}\u200D\u2642",running_shirt_with_sash:"\u{1F3BD}",running_woman:"\u{1F3C3}\u200D\u2640",rwanda:"\u{1F1F7}\u200D\u{1F1FC}",sa:"\u{1F202}",safety_pin:"\u{1F9F7}",safety_vest:"\u{1F9BA}",sagittarius:"\u2650",sailboat:"\u26F5",sake:"\u{1F376}",salt:"\u{1F9C2}",samoa:"\u{1F1FC}\u200D\u{1F1F8}",san_marino:"\u{1F1F8}\u200D\u{1F1F2}",sandal:"\u{1F461}",sandwich:"\u{1F96A}",santa:"\u{1F385}",sao_tome_principe:"\u{1F1F8}\u200D\u{1F1F9}",sari:"\u{1F97B}",sassy_man:"\u{1F481}\u200D\u2642",sassy_woman:"\u{1F481}\u200D\u2640",satellite:"\u{1F4E1}",satisfied:"\u{1F606}",saudi_arabia:"\u{1F1F8}\u200D\u{1F1E6}",sauna_man:"\u{1F9D6}\u200D\u2642",sauna_person:"\u{1F9D6}",sauna_woman:"\u{1F9D6}\u200D\u2640",sauropod:"\u{1F995}",saxophone:"\u{1F3B7}",scarf:"\u{1F9E3}",school:"\u{1F3EB}",school_satchel:"\u{1F392}",scientist:"\u{1F9D1}\u200D\u{1F52C}",scissors:"\u2702",scorpion:"\u{1F982}",scorpius:"\u264F",scotland:"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0073}\u200D\u{E0063}\u200D\u{E0074}\u200D\u{E007F}",scream:"\u{1F631}",scream_cat:"\u{1F640}",scroll:"\u{1F4DC}",seat:"\u{1F4BA}",secret:"\u3299",see_no_evil:"\u{1F648}",seedling:"\u{1F331}",selfie:"\u{1F933}",senegal:"\u{1F1F8}\u200D\u{1F1F3}",serbia:"\u{1F1F7}\u200D\u{1F1F8}",service_dog:"\u{1F415}\u200D\u{1F9BA}",seven:"7\u200D\u20E3",seychelles:"\u{1F1F8}\u200D\u{1F1E8}",shallow_pan_of_food:"\u{1F958}",shamrock:"\u2618",shark:"\u{1F988}",shaved_ice:"\u{1F367}",sheep:"\u{1F411}",shell:"\u{1F41A}",shield:"\u{1F6E1}",shinto_shrine:"\u26E9",ship:"\u{1F6A2}",shirt:"\u{1F455}",shoe:"\u{1F45E}",shopping:"\u{1F6CD}",shopping_cart:"\u{1F6D2}",shorts:"\u{1FA73}",shower:"\u{1F6BF}",shrimp:"\u{1F990}",shrug:"\u{1F937}",shushing_face:"\u{1F92B}",sierra_leone:"\u{1F1F8}\u200D\u{1F1F1}",signal_strength:"\u{1F4F6}",singapore:"\u{1F1F8}\u200D\u{1F1EC}",singer:"\u{1F9D1}\u200D\u{1F3A4}",sint_maarten:"\u{1F1F8}\u200D\u{1F1FD}",six:"6\u200D\u20E3",six_pointed_star:"\u{1F52F}",skateboard:"\u{1F6F9}",ski:"\u{1F3BF}",skier:"\u26F7",skull:"\u{1F480}",skull_and_crossbones:"\u2620",skunk:"\u{1F9A8}",sled:"\u{1F6F7}",sleeping:"\u{1F634}",sleeping_bed:"\u{1F6CC}",sleepy:"\u{1F62A}",slightly_frowning_face:"\u{1F641}",slightly_smiling_face:"\u{1F642}",slot_machine:"\u{1F3B0}",sloth:"\u{1F9A5}",slovakia:"\u{1F1F8}\u200D\u{1F1F0}",slovenia:"\u{1F1F8}\u200D\u{1F1EE}",small_airplane:"\u{1F6E9}",small_blue_diamond:"\u{1F539}",small_orange_diamond:"\u{1F538}",small_red_triangle:"\u{1F53A}",small_red_triangle_down:"\u{1F53B}",smile:"\u{1F604}",smile_cat:"\u{1F638}",smiley:"\u{1F603}",smiley_cat:"\u{1F63A}",smiling_face_with_three_hearts:"\u{1F970}",smiling_imp:"\u{1F608}",smirk:"\u{1F60F}",smirk_cat:"\u{1F63C}",smoking:"\u{1F6AC}",snail:"\u{1F40C}",snake:"\u{1F40D}",sneezing_face:"\u{1F927}",snowboarder:"\u{1F3C2}",snowflake:"\u2744",snowman:"\u26C4",snowman_with_snow:"\u2603",soap:"\u{1F9FC}",sob:"\u{1F62D}",soccer:"\u26BD",socks:"\u{1F9E6}",softball:"\u{1F94E}",solomon_islands:"\u{1F1F8}\u200D\u{1F1E7}",somalia:"\u{1F1F8}\u200D\u{1F1F4}",soon:"\u{1F51C}",sos:"\u{1F198}",sound:"\u{1F509}",south_africa:"\u{1F1FF}\u200D\u{1F1E6}",south_georgia_south_sandwich_islands:"\u{1F1EC}\u200D\u{1F1F8}",south_sudan:"\u{1F1F8}\u200D\u{1F1F8}",space_invader:"\u{1F47E}",spades:"\u2660",spaghetti:"\u{1F35D}",sparkle:"\u2747",sparkler:"\u{1F387}",sparkles:"\u2728",sparkling_heart:"\u{1F496}",speak_no_evil:"\u{1F64A}",speaker:"\u{1F508}",speaking_head:"\u{1F5E3}",speech_balloon:"\u{1F4AC}",speedboat:"\u{1F6A4}",spider:"\u{1F577}",spider_web:"\u{1F578}",spiral_calendar:"\u{1F5D3}",spiral_notepad:"\u{1F5D2}",sponge:"\u{1F9FD}",spoon:"\u{1F944}",squid:"\u{1F991}",sri_lanka:"\u{1F1F1}\u200D\u{1F1F0}",st_barthelemy:"\u{1F1E7}\u200D\u{1F1F1}",st_helena:"\u{1F1F8}\u200D\u{1F1ED}",st_kitts_nevis:"\u{1F1F0}\u200D\u{1F1F3}",st_lucia:"\u{1F1F1}\u200D\u{1F1E8}",st_martin:"\u{1F1F2}\u200D\u{1F1EB}",st_pierre_miquelon:"\u{1F1F5}\u200D\u{1F1F2}",st_vincent_grenadines:"\u{1F1FB}\u200D\u{1F1E8}",stadium:"\u{1F3DF}",standing_man:"\u{1F9CD}\u200D\u2642",standing_person:"\u{1F9CD}",standing_woman:"\u{1F9CD}\u200D\u2640",star:"\u2B50",star2:"\u{1F31F}",star_and_crescent:"\u262A",star_of_david:"\u2721",star_struck:"\u{1F929}",stars:"\u{1F320}",station:"\u{1F689}",statue_of_liberty:"\u{1F5FD}",steam_locomotive:"\u{1F682}",stethoscope:"\u{1FA7A}",stew:"\u{1F372}",stop_button:"\u23F9",stop_sign:"\u{1F6D1}",stopwatch:"\u23F1",straight_ruler:"\u{1F4CF}",strawberry:"\u{1F353}",stuck_out_tongue:"\u{1F61B}",stuck_out_tongue_closed_eyes:"\u{1F61D}",stuck_out_tongue_winking_eye:"\u{1F61C}",student:"\u{1F9D1}\u200D\u{1F393}",studio_microphone:"\u{1F399}",stuffed_flatbread:"\u{1F959}",sudan:"\u{1F1F8}\u200D\u{1F1E9}",sun_behind_large_cloud:"\u{1F325}",sun_behind_rain_cloud:"\u{1F326}",sun_behind_small_cloud:"\u{1F324}",sun_with_face:"\u{1F31E}",sunflower:"\u{1F33B}",sunglasses:"\u{1F60E}",sunny:"\u2600",sunrise:"\u{1F305}",sunrise_over_mountains:"\u{1F304}",superhero:"\u{1F9B8}",superhero_man:"\u{1F9B8}\u200D\u2642",superhero_woman:"\u{1F9B8}\u200D\u2640",supervillain:"\u{1F9B9}",supervillain_man:"\u{1F9B9}\u200D\u2642",supervillain_woman:"\u{1F9B9}\u200D\u2640",surfer:"\u{1F3C4}",surfing_man:"\u{1F3C4}\u200D\u2642",surfing_woman:"\u{1F3C4}\u200D\u2640",suriname:"\u{1F1F8}\u200D\u{1F1F7}",sushi:"\u{1F363}",suspension_railway:"\u{1F69F}",svalbard_jan_mayen:"\u{1F1F8}\u200D\u{1F1EF}",swan:"\u{1F9A2}",swaziland:"\u{1F1F8}\u200D\u{1F1FF}",sweat:"\u{1F613}",sweat_drops:"\u{1F4A6}",sweat_smile:"\u{1F605}",sweden:"\u{1F1F8}\u200D\u{1F1EA}",sweet_potato:"\u{1F360}",swim_brief:"\u{1FA72}",swimmer:"\u{1F3CA}",swimming_man:"\u{1F3CA}\u200D\u2642",swimming_woman:"\u{1F3CA}\u200D\u2640",switzerland:"\u{1F1E8}\u200D\u{1F1ED}",symbols:"\u{1F523}",synagogue:"\u{1F54D}",syria:"\u{1F1F8}\u200D\u{1F1FE}",syringe:"\u{1F489}","t-rex":"\u{1F996}",taco:"\u{1F32E}",tada:"\u{1F389}",taiwan:"\u{1F1F9}\u200D\u{1F1FC}",tajikistan:"\u{1F1F9}\u200D\u{1F1EF}",takeout_box:"\u{1F961}",tanabata_tree:"\u{1F38B}",tangerine:"\u{1F34A}",tanzania:"\u{1F1F9}\u200D\u{1F1FF}",taurus:"\u2649",taxi:"\u{1F695}",tea:"\u{1F375}",teacher:"\u{1F9D1}\u200D\u{1F3EB}",technologist:"\u{1F9D1}\u200D\u{1F4BB}",teddy_bear:"\u{1F9F8}",telephone:"\u260E",telephone_receiver:"\u{1F4DE}",telescope:"\u{1F52D}",tennis:"\u{1F3BE}",tent:"\u26FA",test_tube:"\u{1F9EA}",thailand:"\u{1F1F9}\u200D\u{1F1ED}",thermometer:"\u{1F321}",thinking:"\u{1F914}",thought_balloon:"\u{1F4AD}",thread:"\u{1F9F5}",three:"3\u200D\u20E3",thumbsdown:"\u{1F44E}",thumbsup:"\u{1F44D}",ticket:"\u{1F3AB}",tickets:"\u{1F39F}",tiger:"\u{1F42F}",tiger2:"\u{1F405}",timer_clock:"\u23F2",timor_leste:"\u{1F1F9}\u200D\u{1F1F1}",tipping_hand_man:"\u{1F481}\u200D\u2642",tipping_hand_person:"\u{1F481}",tipping_hand_woman:"\u{1F481}\u200D\u2640",tired_face:"\u{1F62B}",tm:"\u2122",togo:"\u{1F1F9}\u200D\u{1F1EC}",toilet:"\u{1F6BD}",tokelau:"\u{1F1F9}\u200D\u{1F1F0}",tokyo_tower:"\u{1F5FC}",tomato:"\u{1F345}",tonga:"\u{1F1F9}\u200D\u{1F1F4}",tongue:"\u{1F445}",toolbox:"\u{1F9F0}",tooth:"\u{1F9B7}",top:"\u{1F51D}",tophat:"\u{1F3A9}",tornado:"\u{1F32A}",tr:"\u{1F1F9}\u200D\u{1F1F7}",trackball:"\u{1F5B2}",tractor:"\u{1F69C}",traffic_light:"\u{1F6A5}",train:"\u{1F68B}",train2:"\u{1F686}",tram:"\u{1F68A}",triangular_flag_on_post:"\u{1F6A9}",triangular_ruler:"\u{1F4D0}",trident:"\u{1F531}",trinidad_tobago:"\u{1F1F9}\u200D\u{1F1F9}",tristan_da_cunha:"\u{1F1F9}\u200D\u{1F1E6}",triumph:"\u{1F624}",trolleybus:"\u{1F68E}",trophy:"\u{1F3C6}",tropical_drink:"\u{1F379}",tropical_fish:"\u{1F420}",truck:"\u{1F69A}",trumpet:"\u{1F3BA}",tshirt:"\u{1F455}",tulip:"\u{1F337}",tumbler_glass:"\u{1F943}",tunisia:"\u{1F1F9}\u200D\u{1F1F3}",turkey:"\u{1F983}",turkmenistan:"\u{1F1F9}\u200D\u{1F1F2}",turks_caicos_islands:"\u{1F1F9}\u200D\u{1F1E8}",turtle:"\u{1F422}",tuvalu:"\u{1F1F9}\u200D\u{1F1FB}",tv:"\u{1F4FA}",twisted_rightwards_arrows:"\u{1F500}",two:"2\u200D\u20E3",two_hearts:"\u{1F495}",two_men_holding_hands:"\u{1F46C}",two_women_holding_hands:"\u{1F46D}",u5272:"\u{1F239}",u5408:"\u{1F234}",u55b6:"\u{1F23A}",u6307:"\u{1F22F}",u6708:"\u{1F237}",u6709:"\u{1F236}",u6e80:"\u{1F235}",u7121:"\u{1F21A}",u7533:"\u{1F238}",u7981:"\u{1F232}",u7a7a:"\u{1F233}",uganda:"\u{1F1FA}\u200D\u{1F1EC}",uk:"\u{1F1EC}\u200D\u{1F1E7}",ukraine:"\u{1F1FA}\u200D\u{1F1E6}",umbrella:"\u2614",unamused:"\u{1F612}",underage:"\u{1F51E}",unicorn:"\u{1F984}",united_arab_emirates:"\u{1F1E6}\u200D\u{1F1EA}",united_nations:"\u{1F1FA}\u200D\u{1F1F3}",unlock:"\u{1F513}",up:"\u{1F199}",upside_down_face:"\u{1F643}",uruguay:"\u{1F1FA}\u200D\u{1F1FE}",us:"\u{1F1FA}\u200D\u{1F1F8}",us_outlying_islands:"\u{1F1FA}\u200D\u{1F1F2}",us_virgin_islands:"\u{1F1FB}\u200D\u{1F1EE}",uzbekistan:"\u{1F1FA}\u200D\u{1F1FF}",v:"\u270C",vampire:"\u{1F9DB}",vampire_man:"\u{1F9DB}\u200D\u2642",vampire_woman:"\u{1F9DB}\u200D\u2640",vanuatu:"\u{1F1FB}\u200D\u{1F1FA}",vatican_city:"\u{1F1FB}\u200D\u{1F1E6}",venezuela:"\u{1F1FB}\u200D\u{1F1EA}",vertical_traffic_light:"\u{1F6A6}",vhs:"\u{1F4FC}",vibration_mode:"\u{1F4F3}",video_camera:"\u{1F4F9}",video_game:"\u{1F3AE}",vietnam:"\u{1F1FB}\u200D\u{1F1F3}",violin:"\u{1F3BB}",virgo:"\u264D",volcano:"\u{1F30B}",volleyball:"\u{1F3D0}",vomiting_face:"\u{1F92E}",vs:"\u{1F19A}",vulcan_salute:"\u{1F596}",waffle:"\u{1F9C7}",wales:"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0077}\u200D\u{E006C}\u200D\u{E0073}\u200D\u{E007F}",walking:"\u{1F6B6}",walking_man:"\u{1F6B6}\u200D\u2642",walking_woman:"\u{1F6B6}\u200D\u2640",wallis_futuna:"\u{1F1FC}\u200D\u{1F1EB}",waning_crescent_moon:"\u{1F318}",waning_gibbous_moon:"\u{1F316}",warning:"\u26A0",wastebasket:"\u{1F5D1}",watch:"\u231A",water_buffalo:"\u{1F403}",water_polo:"\u{1F93D}",watermelon:"\u{1F349}",wave:"\u{1F44B}",wavy_dash:"\u3030",waxing_crescent_moon:"\u{1F312}",waxing_gibbous_moon:"\u{1F314}",wc:"\u{1F6BE}",weary:"\u{1F629}",wedding:"\u{1F492}",weight_lifting:"\u{1F3CB}",weight_lifting_man:"\u{1F3CB}\u200D\u2642",weight_lifting_woman:"\u{1F3CB}\u200D\u2640",western_sahara:"\u{1F1EA}\u200D\u{1F1ED}",whale:"\u{1F433}",whale2:"\u{1F40B}",wheel_of_dharma:"\u2638",wheelchair:"\u267F",white_check_mark:"\u2705",white_circle:"\u26AA",white_flag:"\u{1F3F3}",white_flower:"\u{1F4AE}",white_haired_man:"\u{1F468}\u200D\u{1F9B3}",white_haired_woman:"\u{1F469}\u200D\u{1F9B3}",white_heart:"\u{1F90D}",white_large_square:"\u2B1C",white_medium_small_square:"\u25FD",white_medium_square:"\u25FB",white_small_square:"\u25AB",white_square_button:"\u{1F533}",wilted_flower:"\u{1F940}",wind_chime:"\u{1F390}",wind_face:"\u{1F32C}",wine_glass:"\u{1F377}",wink:"\u{1F609}",wolf:"\u{1F43A}",woman:"\u{1F469}",woman_artist:"\u{1F469}\u200D\u{1F3A8}",woman_astronaut:"\u{1F469}\u200D\u{1F680}",woman_cartwheeling:"\u{1F938}\u200D\u2640",woman_cook:"\u{1F469}\u200D\u{1F373}",woman_dancing:"\u{1F483}",woman_facepalming:"\u{1F926}\u200D\u2640",woman_factory_worker:"\u{1F469}\u200D\u{1F3ED}",woman_farmer:"\u{1F469}\u200D\u{1F33E}",woman_firefighter:"\u{1F469}\u200D\u{1F692}",woman_health_worker:"\u{1F469}\u200D\u2695",woman_in_manual_wheelchair:"\u{1F469}\u200D\u{1F9BD}",woman_in_motorized_wheelchair:"\u{1F469}\u200D\u{1F9BC}",woman_judge:"\u{1F469}\u200D\u2696",woman_juggling:"\u{1F939}\u200D\u2640",woman_mechanic:"\u{1F469}\u200D\u{1F527}",woman_office_worker:"\u{1F469}\u200D\u{1F4BC}",woman_pilot:"\u{1F469}\u200D\u2708",woman_playing_handball:"\u{1F93E}\u200D\u2640",woman_playing_water_polo:"\u{1F93D}\u200D\u2640",woman_scientist:"\u{1F469}\u200D\u{1F52C}",woman_shrugging:"\u{1F937}\u200D\u2640",woman_singer:"\u{1F469}\u200D\u{1F3A4}",woman_student:"\u{1F469}\u200D\u{1F393}",woman_teacher:"\u{1F469}\u200D\u{1F3EB}",woman_technologist:"\u{1F469}\u200D\u{1F4BB}",woman_with_headscarf:"\u{1F9D5}",woman_with_probing_cane:"\u{1F469}\u200D\u{1F9AF}",woman_with_turban:"\u{1F473}\u200D\u2640",womans_clothes:"\u{1F45A}",womans_hat:"\u{1F452}",women_wrestling:"\u{1F93C}\u200D\u2640",womens:"\u{1F6BA}",woozy_face:"\u{1F974}",world_map:"\u{1F5FA}",worried:"\u{1F61F}",wrench:"\u{1F527}",wrestling:"\u{1F93C}",writing_hand:"\u270D",x:"\u274C",yarn:"\u{1F9F6}",yawning_face:"\u{1F971}",yellow_circle:"\u{1F7E1}",yellow_heart:"\u{1F49B}",yellow_square:"\u{1F7E8}",yemen:"\u{1F1FE}\u200D\u{1F1EA}",yen:"\u{1F4B4}",yin_yang:"\u262F",yo_yo:"\u{1FA80}",yum:"\u{1F60B}",zambia:"\u{1F1FF}\u200D\u{1F1F2}",zany_face:"\u{1F92A}",zap:"\u26A1",zebra:"\u{1F993}",zero:"0\u200D\u20E3",zimbabwe:"\u{1F1FF}\u200D\u{1F1FC}",zipper_mouth_face:"\u{1F910}",zombie:"\u{1F9DF}",zombie_man:"\u{1F9DF}\u200D\u2642",zombie_woman:"\u{1F9DF}\u200D\u2640",zzz:"\u{1F4A4}"},t=Object.entries(l).map(([e,n])=>({name:e,character:n}))},63510:(e,n,a)=>{a.d(n,{KG:()=>d,O_:()=>i,QK:()=>o,TH:()=>c,iy:()=>s,sT:()=>r,wY:()=>t});let l={maxBodyLength:65536,maxIssueTitleLength:256,maxViewTitleLength:1024},t={...l,titleCanNotBeEmpty:"Title can not be empty",fieldCanNotBeEmpty:"Field can not be empty",issueTitleExceedsMaxLength:`Title can not be longer than ${l.maxIssueTitleLength} characters`,viewTitleExceedsMaxLength:`Title can not be longer than ${l.maxViewTitleLength} characters`,issueBodyExceedsMaxLength:`Body can not be longer than ${l.maxBodyLength} characters`,fieldExceedsMaxLength:`Field can not be longer than ${l.maxBodyLength} characters`,commentBodyEmpty:"Comment can not be empty",checkboxInAGroupMustBeSelected:"A required checkbox is missing",missingDropdownSelection:"An option must be selected",noChangesToSave:"No changes to save"};function i(e){return 0===e.trim().length?{isValid:!1,errorMessage:t.titleCanNotBeEmpty}:e.length>t.maxIssueTitleLength?{isValid:!1,errorMessage:t.issueTitleExceedsMaxLength}:{isValid:!0}}function r(e,n){return 0===e.trim().length&&n?{isValid:!1,errorMessage:t.fieldCanNotBeEmpty}:e.length>t.maxBodyLength?{isValid:!1,errorMessage:t.fieldExceedsMaxLength}:{isValid:!0}}function s(e){return 0===e.trim().length?{isValid:!1,errorMessage:t.titleCanNotBeEmpty}:e.length>t.maxViewTitleLength?{isValid:!1,errorMessage:t.viewTitleExceedsMaxLength}:{isValid:!0}}function o(e){return e.length>t.maxBodyLength?{isValid:!1,errorMessage:t.issueBodyExceedsMaxLength}:{isValid:!0}}function d(e){return 0===e.length?{isValid:!1,errorMessage:t.commentBodyEmpty}:{isValid:!0}}function c(e){return!!e&&/^([a-zA-Z0-9 .,?^():;"!]*)$/.test(e)&&!/^\d+\. /m.test(e)}},73262:(e,n,a)=>{a.d(n,{O:()=>t});var l=a(5804);let t=(e,n)=>(0,l.dt)(e,n)>l.IP},19296:(e,n,a)=>{a.d(n,{S:()=>t});var l=a(5796);function t(e,{isCopilot:n=!1,tracking:a=!0}={}){return n?function(e,{tracking:n=!0}={}){let a={"data-hovercard-url":(0,l._nf)({bot_slug:e}),"data-hovercard-type":"copilot"};return n?i(a):a}(e,{tracking:a}):function(e,{tracking:n=!0}={}){let a={"data-hovercard-url":(0,l.dCN)({owner:e}),"data-hovercard-type":"user"};return n?i(a):a}(e,{tracking:a})}function i(e){return{...e,"octo-click":"hovercard-link-click","octo-dimensions":"link_type:self"}}},22577:(e,n,a)=>{a.d(n,{Y:()=>l});let l={issueBody:"issue-body",bodyLoading:"body-loading",commentBox:(e="")=>`markdown-editor-${e}`,projectTitle:"project-title"}},10273:(e,n,a)=>{a.d(n,{l:()=>l});let l={createMore:"Create more",createMoreSubIssues:"Create more sub-issues",createFullscreen:"Open issue creation in fullscreen",copyUrl:"Copy link",create:"Create",cancel:"Cancel"}},71137:(e,n,a)=>{a.d(n,{S:()=>l});let l={createIssueError:"Unable to create issue.",unableToLoadSelectedTemplate:"Unable to selected template"}},52625:(e,n,a)=>{a.d(n,{k:()=>l});let l={issueCreateDialogTitleTemplatePane:"Create new issue",issueCreateChooseDiffTemplate:"Choose a different template",issueCreateDialogTitleCreationPane:(e,n,a="issue")=>`Create new ${a} in ${e}${n?`: ${n}`:""}`,issueCreateDialogTitleDuplicationPane:(e,n="issue")=>`Duplicate current ${n} in ${e}`,issueCreateTitleLabel:"Add a title",issueCreateTitlePlaceholder:"Title",issueCreateBodyLabel:"Add a description",issueCreatedPrefix:"Issue created ",lastIssueCreated:e=>`Issue #${e} created`,issuesDisabledForRepo:"Issues are disabled for the selected repository. Please select a different repository.",issueBodyPlaceholder:"Type your description here\u2026",issueNumber:e=>`#${e}`,blankIssueName:"Blank issue",blankIssueDescription:"Create a new issue from scratch",securityPolicyName:"Report a security vulnerability",securityPolicyDescription:"Please review our security policy for more details",editTemplates:"Edit templates",viewTemplates:"View templates",templatesFormsTitle:"Templates and forms",noTemplates:"No templates available for the current repository",discardConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",confirm:"Close and discard",cancel:"Keep editing"},loadingTooltip:"Loading...",templateId:e=>`template-item-${e}`,templateLabelId:e=>`template-item-${e}-label`,templateDescriptionId:e=>`template-item-${e}-description`,typePickerLabel:"Type",selectIssueTypeLabel:"create-issue-issue-type-label",fileUploadWarning:"Issue will be created once your upload has completed",issueTypeReadOnly:"You do not have permission to change the type",issueTypeReadOnlyReason:"You need the triage role or higher in this repository to change the issue type.",viewProfile:e=>`View ${e}'s profile`}},69145:(e,n,a)=>{a.d(n,{Y:()=>l});let l={createIssueButton:"create-issue-button",createMoreIssuesCheckbox:"create-more-check",templateList:"template-list",issueCreatedLink:"issue-created-link",issueCreatedAnnouncement:"issue-created-announcement",repositoryAndTemplateDialog:"repository-and-template-picker-dialog",templatePickerButton:"template-picker-button"}},97348:(e,n,a)=>{a.d(n,{d:()=>t,t:()=>l});let l={queryParams:{org:"org",repo:"repo",template:"template",title:"title",body:"body",assignees:"assignees",labels:"labels",milestone:"milestone",projects:"projects",type:"type",discussion:"discussion",permalink:"permalink"},maxQueryLengthLimits:{title:256,body:65536,assignees:10,labels:20,projects:20}},t=Object.values(l.queryParams)},8776:(e,n,a)=>{a.d(n,{m5:()=>r,tT:()=>l,wK:()=>t});let l={repositoriesPreloadCount:5,localStorageKeys:{issueCreateMore:e=>`${e}.create-issue-create-more`,issueTitle:e=>`${e}.create-issue-title`,issueBody:e=>`${e}.create-issue-body`,issueLabels:e=>`${e}.create-issue-labels`,issueAssignees:e=>`${e}.create-issue-assignees`,issueMilestone:e=>`${e}.create-issue-milestone`,issueProjects:e=>`${e}.create-issue-projects`,issueRepoId:e=>`${e}.create-issue-repo-id`,issueTemplateId:e=>`${e}.create-issue-template-id`,issueIssueType:e=>`${e}.create-issue-type`},storageKeyPrefixes:{defaultFallback:"hyperlist",globalAdd:"issue-global-add"}};function t(e){return Object.values(l.localStorageKeys).map(n=>n(e))}let i={title:l.localStorageKeys.issueTitle,body:l.localStorageKeys.issueBody};function r(e){return Object.values(i).map(n=>n(e))}},82939:(e,n,a)=>{a.d(n,{Z:()=>d});var l=a(53526),t=a(96540),i=a(8776),r=a(52625),s=a(26677),o=a(80688);let d=({storageKeyPrefix:e,issueFormRef:n,onCancel:a})=>{let d=(0,l.S)(),c=(0,o.A)("sessionStorage"),u=(0,t.useMemo)(()=>JSON.stringify(""),[]),m=(0,t.useCallback)(async()=>await d({title:r.k.discardConfirmation.title,content:r.k.discardConfirmation.content,confirmButtonContent:r.k.discardConfirmation.confirm,confirmButtonType:"danger",cancelButtonContent:r.k.discardConfirmation.cancel}),[d]);return{onSafeClose:(0,t.useCallback)(async()=>{(!((0,i.m5)(e).some(e=>null!==c.getItem(e)&&c.getItem(e)!==u)||n?.current?.hasChanges())||await m())&&((0,s.D)((0,i.wK)(e)),n?.current?.clearSessionStorage(),a())},[e,m,c,u,n,a])}}},45336:(e,n,a)=>{a.d(n,{EV:()=>h,wT:()=>y});let l={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueTemplate"};l.hash="190435c14d7c2d5662106aaaf1dcd412";let t={kind:"InlineDataFragment",name:"useHandleTemplateChangeIssueForm"};t.hash="9c61a2da7c131125a2c9b5d1312d84ab";let i={kind:"InlineDataFragment",name:"useHandleTemplateChange"};i.hash="a08364bb21fe7bb90b32c5dd4a84a3c6";var r=a(96540),s=a(69487),o=a(10037),d=a(28339),c=a(9935),u=a(21878),m=a(55724),p=a(90628),g=a(4576),f=a(35312);let h=e=>{let n;let a=(0,s.readInlineData)(i,e);if(a.issueTemplate){let e=(0,s.readInlineData)(l,a.issueTemplate);n={name:e.name,fileName:e.filename,kind:o.t7.IssueTemplate,data:e}}else if(a.issueForm){let e=(0,s.readInlineData)(t,a.issueForm);n={name:e.name,fileName:e.filename,kind:o.t7.IssueForm,data:e}}return n},y=({optionConfig:e,repository:n,navigate:a,setDisplayMode:l})=>{let{setTemplate:t,reinitTitle:i,reinitBody:h,reinitAssignees:y,reinitLabels:b,reinitProjects:k,reinitMilestone:x,reinitIssueType:v}=(0,g.u)();return(0,r.useCallback)((r,g,C=!1)=>{t(r);let j="";if(g?.discussion)j=g.discussion.title;else if(g?.title)j=g.title||"";else{let e=r?.data.title||"",n="";g?.appendTitleToTemplate&&(n=` ${g.appendTitleToTemplate}`),j=[e,n].join("").trimStart()}i(j);let S="";g?.discussion?S=g.discussion.formattedBody||"":g?.body?S=g.body||"":r&&((0,o.Al)(r.data)||(0,o.yJ)(r.data))&&(S=r.data.body||""),h(S);b(g?.discussion?g.discussion?.labels||[]:g?.labels?g.labels:r?.data.labels?.edges?.flatMap(e=>e?.node?[s.readInlineData(u.l_,e?.node)]:[])||[]),y(g?.assignees??((r?.data.assignees?.edges||[]).flatMap(e=>e?.node?[(0,s.readInlineData)(d.G1,e?.node)]:[])||[])),g?.projects?k(g.projects):r&&(0,o.GQ)(r?.data)&&k(r.data.projects?.edges?.flatMap(e=>e?.node?[s.readInlineData(m.dW,e?.node)]:[])||[]),g?.milestone&&x(g?.milestone);let _=g?.type??null;r&&!_&&((0,o.GQ)(r.data)||(0,o.Al)(r.data))&&void 0!==r.data.type&&(_=(0,s.readInlineData)(c.sH,r.data.type)??null),v(_??null),(!g||C)&&(e.navigateToFullScreenOnTemplateChoice&&n&&r?a((0,f.Qy)(n.nameWithOwner,r.fileName)):l(p.q.IssueCreation))},[t,i,h,b,y,v,k,x,e.navigateToFullScreenOnTemplateChoice,n,a,l])}},90628:(e,n,a)=>{a.d(n,{q:()=>l});let l={TemplatePicker:"TemplatePicker",IssueCreation:"IssueCreation",IssueDuplication:"IssueDuplication"}},10037:(e,n,a)=>{a.d(n,{$K:()=>t,AI:()=>c,Al:()=>r,GQ:()=>i,rp:()=>l,t7:()=>o,yJ:()=>s});let l="Blank issue",t="BLANK_ISSUE";function i(e){return"IssueForm"===e.__typename}function r(e){return"IssueTemplate"===e.__typename}function s(e){return"BlankIssue"===e.__typename}let o={IssueForm:"IssueForm",IssueTemplate:"IssueTemplate",ContactLink:"ContactLink",BlankIssue:"BlankIssue"},d={name:l,fileName:t,kind:o.BlankIssue,data:{__typename:"BlankIssue",__id:t,title:"",body:"",assignees:{edges:[]},labels:{edges:[]}}};function c(){return d}},41686:(e,n,a)=>{a.d(n,{S:()=>r});var l=a(8776),t=a(90628);let i={pasteUrlsAsPlainText:!1,useMonospaceFont:!1,singleKeyShortcutsEnabled:!1,showFullScreenButton:!1,navigateToFullScreenOnTemplateChoice:!1,insidePortal:!0,showRepositoryPicker:!0,storageKeyPrefix:"",canBypassTemplateSelection:!1,emojiSkinTonePreference:0},r=e=>{let n={...i,...e},a={storageKeyPrefix:(n.issueCreateArguments?.repository?`${n.issueCreateArguments?.repository.owner}-${n.issueCreateArguments?.repository.name}`:void 0)??n.storageKeyPrefix??l.tT.storageKeyPrefixes.defaultFallback};return{...n,...a,getDefaultDisplayMode:e=>n.defaultDisplayMode??e??t.q.TemplatePicker}}},65308:(e,n,a)=>{a.d(n,{H_:()=>s,mZ:()=>o});var l=a(97348),t=a(10037),i=a(35312),r=a(47584);function s({includeRepository:e,repository:n,templateFileName:a,title:t,body:s,assignees:o,labels:d,projects:c,milestone:u,type:m}){let p=new URLSearchParams(r.cg?.location?.search||"");return e&&n&&(p.set(l.t.queryParams.org,n.owner.login),p.set(l.t.queryParams.repo,n.name)),a&&p.set(l.t.queryParams.template,a),(0,i.E2)(p,l.t.queryParams.title,t,l.t.maxQueryLengthLimits.title),(0,i.E2)(p,l.t.queryParams.body,s,l.t.maxQueryLengthLimits.body),o&&(0,i.Hx)(p,l.t.queryParams.assignees,o?o.map(e=>e.login):void 0,l.t.maxQueryLengthLimits.assignees),d&&(0,i.Hx)(p,l.t.queryParams.labels,d.map(e=>e.name),l.t.maxQueryLengthLimits.assignees),c&&n?.owner&&(0,i.Hx)(p,l.t.queryParams.projects,c.map(e=>`${n.owner.login}/${e.number}`),l.t.maxQueryLengthLimits.assignees),u&&p.set(l.t.queryParams.milestone,u.title),m&&p.set(l.t.queryParams.type,m.name),p.toString()}function o(e,n,a){let r=e.get(l.t.queryParams.org)||a?.owner||null,s=e.get(l.t.queryParams.repo)||a?.repository||null,o=e.get(l.t.queryParams.template)||a?.template||null,d={...null!==r&&null!==s&&{repository:{owner:r,name:s}},...null!==o&&{templateFileName:o}},c=(0,i.Qg)(e,l.t.queryParams.title,l.t.maxQueryLengthLimits.title)||a?.title,u=(0,i.Qg)(e,l.t.queryParams.permalink,l.t.maxQueryLengthLimits.body);u=void 0===u?(0,i.Qg)(e,l.t.queryParams.body,l.t.maxQueryLengthLimits.body)||a?.body:decodeURIComponent(u);let m={...void 0!==c&&{title:c},...void 0!==u&&{body:u},...n};if(0===Object.keys(d).length){if(!(Object.keys(m).length>0))return;d={templateFileName:t.rp}}return{...d,...Object.keys(m).length>0&&{initialValues:m}}}},35312:(e,n,a)=>{a.d(n,{E2:()=>g,Hx:()=>f,Qg:()=>p,Qy:()=>s,RG:()=>u,TV:()=>y,Zi:()=>m,jk:()=>d,pM:()=>h});var l=a(47584),t=a(97348);let i="/issues/new",r=`${i}/choose`,s=(e,n)=>{let a=new URLSearchParams(l.fV.search||"");return a.set("template",n),`/${e}/issues/new?${a.toString()}`},o=e=>c(e,i),d=e=>c(e,r),c=(e,n)=>e.endsWith("/")?e.substring(0,e.length-1)+n:e+n,u=({repositoryAbsolutePath:e,fileName:n})=>{let a=new URL(o(e),l.cg?.location?.origin),i=new URLSearchParams(a.search);return i.set(t.t.queryParams.template,n),a.search=i.toString(),a.toString()},m=e=>{let n=e??new URLSearchParams(l.cg?.location?.search||""),a={};for(let[e,l]of n)t.d.includes(e)||(null===l?a[e]="":a[e]=l.substring(0,t.t.maxQueryLengthLimits.body));return a},p=(e,n,a)=>{let l=e.get(n);if(null!==l)return l.substring(0,a)},g=(e,n,a,l)=>{void 0!==a&&e.set(n,a.substring(0,l))},f=(e,n,a,l)=>{a&&e.set(n,a.slice(0,l).join(","))};function h(){return`/login?return_to=${l.fV?.href}`}function y(e){return`/${e}/issues/new/choose`}},4649:(e,n,a)=>{a.d(n,{U:()=>t,Y:()=>l});let l=e=>`## Purpose
Classify the issue into exactly ONE issue type category based on the issue title and content.

## Input
You will receive:
- Issue title
- Issue content
- List of valid issue types

## Valid Issue Types
${e}

## Classification Rules
1. Analyze both title AND content
2. Select ONLY ONE issue type

## Important Notes
- Choose the MOST specific applicable type
- The output must contain exactly ONE value from the valid issue types
- If uncertain between two types, choose the broader category`,t=`# Classifier Agent Instructions
## Input Format
You will receive issue data containing:
- Title
- Content
- Labels (JSON array)

## Task
Analyze the issue title and content to determine the most relevant categories from the provided labels list. Select ALL applicable labels that match the issue's context and purpose.

## Classification Rules
1. Only select labels from the provided labels list
2. Choose ALL relevant labels that apply
3. Labels must directly relate to the issue's:
   - Main topic/purpose
   - Technical area
   - Issue type
4. Exclude labels if you're not highly confident they apply`},51782:(e,n,a)=>{a.d(n,{k:()=>l});let l={archivedDescription:"Archived in project:",archivedError:"Issue could not be restored in project",archivedSuccess:"Issue restored in project",emptySections:{labels:"No labels",assignees:e=>e?"No one - ":"No one assigned",selfAssign:"Assign yourself",milestones:"No milestone",projects:"No projects",status:"No status",types:"No type",noValue:e=>`No ${e.toLowerCase()}`,iterationPlaceholder:"Choose an iteration",datePlaceholder:"Choose a date",numberPlaceholder:"Enter number\u2026",iterationFilterPlaceholder:"Choose an option",singleSelectFilterPlaceholder:"Choose an option"},sectionTitles:{assignees:"Assignees",labels:"Labels",milestones:"Milestone",projects:"Projects",types:"Type"},awaitingTriage:"Awaiting triage",defaultProjectFieldName:"Status",moveCardToColumn:"Move card to column",selectProjects:"Select projects",filterProjects:"Filter projects",showClosedProjects:"Show closed projects",showMoreProjectFields:"Show more project fields"}},3310:(e,n,a)=>{a.d(n,{Y:()=>l});let l={assignees:"issue-assignees",issueLabels:"issue-labels",milestoneContainer:"issue-milestone-container",milestoneProgressIcon:"issue-milestone-progress-bar",typeContainer:"issue-type-container"}},25661:(e,n,a)=>{a.d(n,{Al:()=>d,Ui:()=>s,ff:()=>p,ic:()=>c,nS:()=>u,ub:()=>m});var l=a(49339),t=a(96540);let i=(0,a(80688).A)("localStorage"),r={production:"https://api.githubcopilot.com/agents/github-classifier"};function s(){return(0,t.useRef)(new l.J([]))}async function o(e){if(!e.ok)return null;try{let n=await e.text(),a=n.split("\n")[0]?.substring(6);if(!a)return null;return JSON.parse(JSON.parse(a).choices[0].message.content)}catch{return null}}async function d(e,n,a){let l=r.production;try{let t=await fetch(l,{method:"POST",mode:"cors",cache:"no-cache",headers:{Authorization:e.authorizationHeaderValue,"copilot-integration-id":"copilot-embedded-experience","Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:n,copilot_references:a}]})});return await o(t)}catch{return null}}let c=e=>"true"===i.getItem(`copilot-suggested-type-dismiss/${e}`),u=e=>"true"===i.getItem(`copilot-suggested-labels-dismiss/${e}`),m=e=>{i.setItem(`copilot-suggested-type-dismiss/${e}`,"true")},p=e=>{i.setItem(`copilot-suggested-labels-dismiss/${e}`,"true")}},84730:(e,n,a)=>{a.d(n,{G:()=>m});var l=a(96540),t=a(5796),i=a(57572),r=a(4649),s=a(25661),o=a(56366);let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"issueId"}],n=[{kind:"Variable",name:"id",variableName:"issueId"}],a={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t=[{kind:"Literal",name:"first",value:100}],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[i,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useIssueTypeSuggestionsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[a,l,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:t,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueType",selections:r,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"issueTypes(first:100)"}],storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useIssueTypeSuggestionsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a,l,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:t,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"nodes",plural:!0,selections:r,storageKey:null}],storageKey:"issueTypes(first:100)"},i],storageKey:null}],type:"Issue",abstractKey:null},i],storageKey:null}]},params:{id:"d8db54110ca710ca6ea0cc8ae82651a8",metadata:{},name:"useIssueTypeSuggestionsQuery",operationKind:"query",text:null}}}();d.hash="c6d337e80099f03cab53813b0001c081";var c=a(9935),u=a(69487);function m(){let{getSuggestion:e,status:n,suggestedType:a}=function(){let e=(0,s.Ui)(),[n,a]=(0,l.useState)("loading"),[t,i]=(0,l.useState)(void 0),o=(0,l.useCallback)(async({issueId:n,title:l,body:t,availableTypes:o})=>{try{let d=await e.current.getAuthToken(),c=(0,r.Y)(o.map(e=>e.name).join(", ")),u=await (0,s.Al)(d,c,[{id:n,data:{title:l,body:t}}]);if(u){let e=Object.keys(u);if(0===e.length){i(void 0),a("success");return}let n=e.reduce((e,n)=>u[e]>u[n]?e:n,""),l=o.find(e=>n===e.name);i(l),a("success")}else a("error")}catch{a("error")}},[e]);return{getSuggestion:(0,l.useCallback)(({issueId:e,environment:n})=>{a("loading"),(0,u.fetchQuery)(n,d,{issueId:e}).subscribe({next:n=>{if(a("loading"),!n.node||!("repository"in n.node)){a("error");return}let{body:l,title:t,repository:i}=n.node;if(!i?.issueTypes){a("error");return}let r=i.issueTypes.nodes?.flatMap(e=>e&&"object"==typeof e?[u.readInlineData(c.sH,e)]:[])||[];r.length>0?o({issueId:e,title:t,body:l,availableTypes:r}):a("error")},error:()=>{a("error")}})},[o]),status:n,suggestedType:t}}(),{getSuggestions:m,status:p,suggestedLabels:g}=function(){let e=(0,s.Ui)(),[n,a]=(0,l.useState)("loading"),[d,c]=(0,l.useState)([]),u=(0,l.useRef)({issueId:"",issueTitle:void 0,issueBody:void 0,repositoryName:void 0,repositoryOwner:void 0}),m=(0,l.useRef)(!0),p=(0,l.useCallback)(async n=>{try{let l=await e.current.getAuthToken(),{issueId:t,issueTitle:i,issueBody:o}=u.current;if(!t){a("error");return}let d=[{id:t,type:"github.issue",data:{type:"issue",title:i,body:o,labels:n.map(e=>({name:e.name,description:e.description}))}}],m=await (0,s.Al)(l,r.U,d);if(m){let e=Object.keys(m).filter(e=>m[e]>=80),l=n.filter(n=>e.includes(n.name));c(l),a("success")}else c([]),a("error")}catch(e){a("error")}},[e]),g=(0,l.useCallback)(async()=>{if(!m.current)return;let{repositoryName:e,repositoryOwner:n}=u.current;if(!e||!n){c([]),a("idle");return}let l=`${(0,t.SHX)({owner:n,repo:e})}/label_recommendations.json`;a("loading");try{let e=new URL(l,window.location.origin),n=(0,o.Gr)();n&&e.searchParams.append("_tracing","true");let t=await (0,i.lS)(e.toString(),{method:"GET"});if(!t.ok){a("error");return}let r=await t.json();n&&(0,o.Av)(r);let s=r.labels.map(e=>({id:e.id,name:e.name,description:e.description,url:e.url,color:e.color,nameHTML:e.nameHTML}));s.length>0?await p(s):(c([]),a("success"))}catch(e){a("error")}},[p]);(0,l.useEffect)(()=>()=>{m.current=!1},[]);let f=(0,l.useCallback)(({issueId:e,issueTitle:n,issueBody:a,repositoryName:l,repositoryOwner:t})=>{e&&(u.current={issueId:e,issueTitle:n||u.current.issueTitle,issueBody:a||u.current.issueBody,repositoryName:l||u.current.repositoryName,repositoryOwner:t||u.current.repositoryOwner},g())},[g]);return(0,l.useMemo)(()=>({getSuggestions:f,status:n,suggestedLabels:d}),[f,n,d])}();return{getSuggestions:(0,l.useCallback)(({issueId:n,environment:a,type:l,issueTitle:t,issueBody:i,repositoryName:r,repositoryOwner:s})=>{"issueType"===l?e({issueId:n,environment:a}):m({issueId:n,environment:a,issueTitle:t,issueBody:i,repositoryName:r,repositoryOwner:s})},[e,m]),getStatusForType:e=>"issueType"===e?n:p,suggestedLabels:g,suggestedType:a,getTypeSuggestion:e,getLabelSuggestions:m,typeStatus:n,labelsStatus:p}}},66032:(e,n,a)=>{a.d(n,{En:()=>l,gO:()=>r,jX:()=>t,u4:()=>i});let l=25,t=64,i=256,r=["issue","pr","pull-request","pull request"]},16553:(e,n,a)=>{a.d(n,{w:()=>l});let l={assigneePicker:"a",labelPicker:"l",milestonePicker:"m",projectPicker:"p",issueTypePicker:"t",developmentSection:"d"}},46874:(e,n,a)=>{a.d(n,{v:()=>l});let l={noMilestoneData:{id:"no-milestone",title:"No milestone",closed:!1},noLabelsData:{id:"no-labels",name:"No labels",color:"ededed",description:"Issues with no labels"},noAssigneeData:{id:"no-assignee",login:"No assignees",avatarUrl:""},noMatchData:{id:"no-match-item",avatarUrl:"",description:"Filter by user"},noTypeData:{id:"no-type",name:"No type",color:"ededed",description:"Issues with no type"}}},41515:(e,n,a)=>{a.d(n,{Z:()=>i});let l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l=[{kind:"Literal",name:"name",value:"Status"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},d={kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueProjectsMutation",selections:[{alias:null,args:n,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSection"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueProjectsMutation",selections:[{alias:null,args:n,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[t,{kind:"InlineFragment",selections:[a,i,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[a,r,i,s,o,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},d],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[t,{kind:"InlineFragment",selections:[a,r,i,s,o],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},d],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"appendEdge",key:"",kind:"LinkedHandle",name:"projectEdge",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"f7b6e30ed3e6252cd4b14a496dd9864a",metadata:{},name:"updateIssueProjectsMutation",operationKind:"mutation",text:null}}}();l.hash="0b2916dfea8b705b72e87a36fcffadb1";var t=a(18312);function i({environment:e,connectionId:n,projectId:a,issueId:i,onError:r,onCompleted:s}){if(a)return(0,t.commitMutation)(e,{mutation:l,variables:{input:{contentId:i,projectId:a},connections:n?[n]:[]},onError:e=>r&&r(e),onCompleted:e=>s&&s(e)})}},98830:(e,n,a)=>{a.d(n,{M:()=>l,i:()=>t});let l=({includeAssignableBots:e,includeAuthorableBots:n})=>{let a=[];return e&&a.push("CAN_BE_ASSIGNED"),n&&a.push("CAN_BE_AUTHOR"),a},t=e=>e.isCopilot?"@copilot":"Bot"===e.__typename?`app/${e.login}`:e.login},91669:(e,n,a)=>{a.d(n,{k:()=>l});let l={confirmations:{deleteEditHistoryTitle:"Are you sure you want to delete this revision from the history?",deleteEditHistoryContent:"This edit\u2019s content will no longer be visible. This action can not be undone.",deleteEditHistoryConfirmButtonContent:"Remove"},editHistory:{viewingEditTitle:"Viewing edit",deleted:"Deleted",mostRecent:"Most recent",emptyEdit:"This revision does not contain any content.",deletedThisRevision:"deleted this revision",created:"created",edited:"edited",deleteRevisionAriaLabel:"Delete this edit revision",ariaLabel:"Open edits",openEditsButton:"Edits",editedBy:"edited by"}}},15819:(e,n,a)=>{a.d(n,{f:()=>i});let l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownEditHistoryViewer_comment"},{args:null,kind:"FragmentSpread",name:"MarkdownLastEditedBy"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l],storageKey:null},l],storageKey:null}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d72649dd9392589f64dd4570b992b900",metadata:{},name:"useMarkdownEditHistoryViewerQueryQuery",operationKind:"query",text:null}}}();l.hash="2ce76c06d4f0c7fc93f5c5de49964950";var t=a(18312);function i({id:e}){let n=(0,t.useLazyLoadQuery)(l,{id:e});return n.node?n.node:null}},19377:(e,n,a)=>{a.d(n,{Ge:()=>t,UI:()=>i,$J:()=>r});let l={fieldMustBeANumber:"This field must be a number",fieldMustBeBetween:"This value must be between",fieldValueTooLong:"This value is too long",floatingPointValueTooPrecise:"This floating point value is too precise"};function t(e){let n=r(e);if(Number.isNaN(n))return l.fieldMustBeANumber;if(n<-0x7fffffff||n>0x7fffffff)return`${l.fieldMustBeBetween} -2147483647 and 2147483647`;let a=e.split(".")[1];if(a&&a.length>15)return l.floatingPointValueTooPrecise}function i(e){return new Blob([e]).size>1024?l.fieldValueTooLong:void 0}function r(e){return Number(e.replace(/,/g,""))}},66854:(e,n,a)=>{a.d(n,{t:()=>l});let l={addOrRemoveReaction:"Add or remove reactions",reactionsUnavailable:"Reactions are currently unavailable",copilotDisplayName:"Copilot"}},86911:(e,n,a)=>{a.d(n,{Js:()=>t,fj:()=>i,qG:()=>l});let l={CONFUSED:"\u{1F615}",EYES:"\u{1F440}",HEART:"\u2764\uFE0F",HOORAY:"\u{1F389}",LAUGH:"\u{1F604}",THUMBS_DOWN:"\u{1F44E}",THUMBS_UP:"\u{1F44D}",ROCKET:"\u{1F680}"};function t(e,n){if(0===e.length||0===n)return"";let a=e.slice(0);if(1===a.length)return a[0];if(2===a.length)return a.join(" and ");n>e.length&&a.push(`${n-e.length} more`);let l=a.pop();return a.push(`${a.pop()} and ${l}`),a.join(", ")}function i(e,n,a,i){return 0===a.length||0===i?"":`${n?"React":"Unreact"} with ${l[e]} (${a.length} ${l[e]} reaction${1===a.length?"":"s"} so far, including ${t(a,i)})`}},79317:(e,n,a)=>{a.d(n,{VB:()=>SSRNetwork,SD:()=>w,E7:()=>I});var l=a(40961),t=a(69487),i=a(56366),r=a(57572),s=a(47584),o=a(42445);let d=["SAML","SERVICE_UNAVAILABLE"],c={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},u={NOT_FOUND:["repository","discussion"]};var m=a(75632);let p=class ValidationError extends Error{constructor(e,n,a){super(e,n),function(e,n,a){n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}(this,"catalogService",void 0),this.catalogService=a,this.name="ValidationError"}};async function g(e,n,a){if(e.status>401&&404!==e.status){let l=await e.text(),t={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:n,persistedQueryName:a,failureRequestId:e.headers.get("X-Github-Request-Id")};throw Error(`HTTP error (${e.status}): ${l||"No additional text"}.
    Error Info: ${JSON.stringify(t)}`,{cause:e.status})}}async function f(e,n,a,l="GET",t,i,r,s){return(await h(e,n,a,l,{isSubscription:!1,scope:void 0},t,i,r,s)).response}async function h(e,n,a,l="POST",r={},g,f,b,k){let x=JSON.stringify((0,t.stableCopy)({query:e,variables:a,...r.scopeObject?{scopeObject:r.scopeObject}:{}})),{isSubscription:v,scope:C,subscriptionTopic:j,dispatchTime:S}=r,_=(0,m.G7)("nonreporting_relay_graphql_status_codes"),I=function(e,n,a,l,t,i,r="/_graphql"){let o=[];if("GET"===e&&o.push(`body=${n}`),a&&o.push("subscription=1"),t&&o.push(`scope=${encodeURIComponent(t)}`),l&&o.push(`subscriptionTopic=${encodeURIComponent(l)}`),i&&o.push(`dispatchTime=${encodeURIComponent(i)}`),s.cg){let e=new URL(s.cg.location.href,s.cg.location.origin).searchParams.get("_features");e&&o.push(`_features=${e}`)}return o.length>0?`${r}?${o.join("&")}`:r}(l,encodeURIComponent(x),v,j,C,S,g),w=null;try{let{subscriptionId:a,requestId:t,json:r,status:s}=await y(I,l,e,n,x,f);if(w=a,b&&r.errors){let e=b[s];if(e)for(let a of r.errors){let l=e[a.type];l?.({persistedQueryName:n,errorMessage:a.message})}}let m=function(e,n,a,l){if("errors"in e&&(e.errors.filter(e=>d.includes(e.type)||!!c[e.type]?.includes(e.message)||!(JSON.stringify(u[e.type])!==JSON.stringify(e.path))).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${n} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),e.errors=e.errors.filter(e=>!d.includes(e.type)&&!c[e.type]?.includes(e.message)&&JSON.stringify(u[e.type])!==JSON.stringify(e.path))),"errors"in e&&e.errors.length){let n=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),t=new p(`${n} (Persisted query id: ${a})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(l)(0,o.N7)(t),l.error(t);else throw t}if(!("data"in e)){let t=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${a}, requestId: ${n}`);if(l)(0,o.N7)(t),l.error(t);else throw t}return e}(r,t,e,k);return m&&(0,i.Av)(m),{subscriptionId:w,response:m}}catch(e){if(k)return _&&429===e.cause||(0,o.N7)(e),k.error(e),{subscriptionId:w,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function y(e,n,a,l,t,r){return b((0,i.RD)(e),n,a,l,t,r)}async function b(e,n,a,l,t,i){let s;let o={};i?.issues_react_perf_test&&(o["X-LUC-Environment"]="issues"),o["X-Requested-With"]="XMLHttpRequest",s="GET"===n?await fetch(e,{method:n,cache:"no-cache",credentials:"include",headers:o}):await (0,r.DI)(e,{method:n,headers:{Accept:"application/json",...o},...t?{body:t}:void 0}),await g(s,a,l);let d=await s.json();return{subscriptionId:s.headers.get("X-Subscription-ID"),requestId:s.headers.get("X-Github-Request-Id")||"",json:d,status:s.status}}let k=[{kind:"linked",handle(e,n,a){if(null!=n&&n.getType()===t.ROOT_TYPE&&"node"===e.name&&a.hasOwnProperty("id"))return a.id}},{kind:"pluralLinked",handle(e,n,a){if(null!=n&&n.getType()===t.ROOT_TYPE&&"nodes"===e.name&&a.hasOwnProperty("ids"))return a.ids}}];var x=a(15930),v=a(88853),C=a(69982);function j(e){return(0,C.unstable_scheduleCallback)(C.unstable_LowPriority,e)}function S(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}let _={cancel:()=>!1,schedule:e=>((0,l.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,n,a){return this.relayNetwork.execute(e,n,a)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,n={},a,l,i,r){S(this,"relayNetwork",void 0),S(this,"ssrPreloadedData",void 0),S(this,"preloadedSubscriptions",void 0),S(this,"warningsShown",void 0),S(this,"enabled_features",void 0),S(this,"maxAge",void 0),S(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=n,this.preloadedSubscriptions=a,this.warningsShown=new Set,this.maxAge=i,this.errorCallbacks=r,this.relayNetwork=t.Network.create((e,n)=>t.Observable.create(a=>{let t=function({params:e,variables:n,ssrPreloadedQueries:a,baseUrl:l,emitWarning:t,enabledFeatures:i,maxAge:r,errorCallbacks:o,observer:d}){if(!e.id)throw Error("params has no id property!");if(e.id&&a){let l=JSON.stringify(n),t=a.get(e.id)?.get(l),i=Math.floor(Date.now()/1e3),o=t?.timestamp;if(t&&(d.next(t),!(r&&o&&i>o+r))){d.complete();return}e.metadata?.isRelayRouteRequest&&(0,s.g5)()}let c="mutation"===e.operationKind?"POST":"GET";if(s.KJ)return f(e.id,e.name,n,c,l,i,o,d)}({params:e,variables:n,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:l,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:i,errorCallbacks:this.errorCallbacks,observer:a});t instanceof Promise&&t.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let n=e.extensions.subscriptions;for(let e in n)for(let a in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),n[e])this.preloadedSubscriptions.get(e)?.set(a,n[e][a])}a.next(e),a.complete()})}),(e,n)=>(function(e,n,a=new Map){let l=e.id,i=e.name;return t.Observable.create(t=>{let r=()=>{},s=!1;return async function(){if(!l)throw Error("unexpected operation with no id!");let d=e.metadata?.scope,c=function(e,n,a,l){let t=l.get(e);if(t)e:for(let[e,l]of t){for(let[l,t]of Object.entries(JSON.parse(e)))if("$scope"===l&&a!==t||n[l]!==t)continue e;return l}}(l,n,d,a),u=null;if(c)u=c.subscriptionId,c.response&&t.next(c.response);else try{let e=await h(l,i,n,"GET",{isSubscription:!0,scope:d});u=e.subscriptionId,e.response&&t.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,x.H)();if(s)return;let a=(0,v.$)(e,u,async({scope_object:e,subscription_topic:a,dispatch_time:r})=>{try{let{response:s}=await h(l,i,{...n},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:a,dispatchTime:r,scope:d});s&&t.next(s)}catch(e){(0,o.N7)(e,{message:`Error in fetching update for ${l} with variables ${JSON.stringify(n)}`})}});a?.unsubscribe&&(r=a.unsubscribe)}catch(e){t.error(e)}}(),{get closed(){return s},unsubscribe(){s=!0,r()}}})})(e,n,this.preloadedSubscriptions))}};let I=(e,n)=>{let a=new SSRNetwork(new Map,{},new Map,e,void 0,n),l=new t.Environment({scheduler:_,store:new t.Store(new t.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:j}),getDataID:(e,n)=>{if("Viewer"===n)return null==e.id?(0,t.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===n){let n=[];return e.id&&n.push(e.id),e.name&&n.push(e.name),e.color&&n.push(e.color),e.description&&n.push(function(e){let n=0;if(0===e.length)return n;for(let a=0;a<e.length;a++)n=(n<<5)-n+e.charCodeAt(a)|0;return n}(e.description)),n.join("_")}return e.id},network:a,missingFieldHandlers:k});return l.options={baseUrl:e,getPreloadedSubscriptions:()=>a.getPreloadedSubscriptions()},l};function w({environment:e,query:n,variables:a={}}){let l=(0,t.getRequest)(n),i=(0,t.createOperationDescriptor)(l,a);return e.retain(i),(0,t.fetchQuery)(e,n,a,{fetchPolicy:"store-or-network"})}},58206:(e,n,a)=>{a.d(n,{H:()=>t});var l=a(86365);function t(e,n){let{csrf_tokens:a}=(0,l.B)();return a?.[e]?.[n]}},20820:(e,n,a)=>{a.d(n,{M3:()=>o,Nh:()=>d,Wk:()=>s,i4:()=>i});var l=a(30391),t=a(96540);let i=["GRAY","BLUE","GREEN","YELLOW","ORANGE","RED","PINK","PURPLE"],r={BLUE:"accent",GREEN:"success",YELLOW:"attention",ORANGE:"severe",RED:"danger",PINK:"sponsors",PURPLE:"done"},s=(e="GRAY")=>{let{getPresentationalColor:n}=o();return n(e)},o=()=>{let{theme:e,resolvedColorScheme:n="light"}=(0,l.DP)();return{getPresentationalColor:(0,t.useCallback)((a="GRAY")=>{let l=c(n),t=e?.colorSchemes?.[l]?.colors;if("GRAY"===a)return{bg:t?.canvas?.subtle,fg:t?.fg?.muted,border:t?.border?.default,accent:t?.fg?.subtle};{let e=t?.[r[a]];return{bg:e?.subtle,fg:e?.fg,border:e?.muted,accent:e?.emphasis}}},[e,n])}},d=e=>i.includes(e),c=e=>"light_colorblind"===e||"light_tritanopia"===e?"light":"dark_colorblind"===e||"dark_tritanopia"===e?"dark":e},26677:(e,n,a)=>{a.d(n,{D:()=>d,F:()=>o});var l=a(80688),t=a(96540);let i=(0,l.A)("sessionStorage"),r="session-storage-update",s=class UseSessionStorageUpdateEvent extends Event{constructor(e,n){super(r),this.storageKey=e,this.storageValue=n}};function o(e,n){let a=(0,t.useRef)(n);(0,t.useEffect)(()=>{a.current=n});let[l,o]=(0,t.useState)(()=>{let n=i.getItem(e);return n?JSON.parse(n):a.current}),d=(0,t.useCallback)(n=>{o(n??a.current),void 0===n?i.removeItem(e):i.setItem(e,JSON.stringify(n)),document.dispatchEvent(new s(e,n))},[e]),c=(0,t.useCallback)(e=>{a.current=e},[a]);return(0,t.useEffect)(()=>{function n(n){n.storageKey===e&&o(n.storageValue??a.current)}document.addEventListener(r,n);let l=i.getItem(e);return l?o(JSON.parse(l)):o(a.current),()=>{document.removeEventListener(r,n)}},[e]),[l,d,c]}function d(e){for(let n of e)i.removeItem(n),document.dispatchEvent(new s(n,void 0))}},34004:(e,n,a)=>{a.d(n,{J:()=>t});var l=a(38359);let t=()=>{let e=(0,l.X)();return{currentUser:e&&e.current_user?e.current_user:null}}},25273:(e,n,a)=>{a.d(n,{h:()=>P,x:()=>E});var l=a(74848),t=a(73218),i=a(64515),r=a(65481),s=a(75177),o=a(55626),d=a(45996),c=a(96540),u=a(57572);function m(e){let n=(0,c.useRef)(void 0);return(0,c.useEffect)(()=>{n.current&&(n.current=void 0)},[e]),(0,c.useCallback)(()=>(n.current||(n.current=e()),n.current),[e])}async function p({subjectId:e,subjectType:n,subjectRepoId:a}){let l=e?`/${e}`:"",t="?mention_suggester=1&user_avatar=1";t=a?`${t}&repository_id=${a}`:t;let i=`/suggestions/${n}${l}${t}`,r=await (0,u.lS)(i,{method:"GET"});return await r.json()}async function g(e){try{return(await p(e)).map(e=>"login"in e?{description:e.name,identifier:e.login,avatarUrl:e.avatarUrl,participant:e.participant}:{description:e.description,identifier:e.name,avatarUrl:e.avatarUrl,participant:e.participant})}catch{return[]}}async function f({subjectId:e,subjectType:n,subjectRepoId:a}){let l=e?`/${e}`:"",t=await (0,u.lS)(`/suggestions/${n}${l}?issue_suggester=1&repository_id=${a}`,{method:"GET"});return await t.json()}async function h(e){try{let n=await f(e),a=n.icons;return n.suggestions.map(e=>({id:e.number.toString(),titleText:e.title,titleHtml:e.title,iconHtml:a[e.type]}))}catch{return[]}}async function y(e){try{let n=await (0,u.lS)(`/settings/replies${e?`?context=${e}`:""}`);return(await n.json()).map(e=>({name:e.title,content:e.body}))}catch{return[]}}let b={mentions:[],references:[],savedReplies:[]};var k=a(10986);let x={staleContentError:"The content you are editing has changed. Please copy your edits and exit the editor.",leaveCommentLabel:"Leave a comment"};var v=a(38621);let C=(0,c.createContext)(null),j=e=>{let n=`/${e.repository.nwo}/slash_apps?surface=${function(e){switch(e){case"issue_comment":return"issue_comment";case"issue":return"issue_body";case"pull_request":return"pull_request";case"commit":return"commit"}}(e.type)}`;return e.id&&(n+=`&subject_gid=${e.id.id}`),n},S=({children:e,subject:n,onInsertText:a,onSave:t})=>{let i=(0,c.useRef)(null),r=(0,c.useRef)(null),[{top:o,left:d},u]=(0,c.useState)({top:0,left:0});(0,c.useEffect)(()=>{let e=i.current;if(!e)return;let n=e?.querySelector("textarea"),a={top:0,left:0};for(;n!==e;){if(null===n)return;a.top+=n.offsetTop,a.left+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null}u(a)},[]),(0,c.useEffect)(()=>{if(!t)return;let e=r.current;if(e)return e.addEventListener("request-submit",t),()=>{e.removeEventListener("request-submit",t)}},[t]);let m=(0,c.useMemo)(()=>({onInsertText:a}),[a]);return(0,l.jsx)(s.A,{ref:i,sx:{position:"relative","& .js-slash-command-menu":{mt:`${o}px`,ml:`${d}px`}},className:"js-slash-command-surface",children:(0,l.jsx)("slash-command-expander",{ref:r,keys:"/","data-slash-command-url":j(n),children:(0,l.jsx)(C.Provider,{value:m,children:e})})})},_=()=>{let e=(0,c.useContext)(C);return e?(0,l.jsx)(o.n.ToolbarButton,{icon:v.DiffIgnoredIcon,"aria-label":"Slash commands",onClick:()=>e.onInsertText("/")}):null};try{C.displayName||(C.displayName="SlashCommandButtonContext")}catch{}try{S.displayName||(S.displayName="SlashCommandsProvider")}catch{}try{_.displayName||(_.displayName="SlashCommandsButton")}catch{}var I=a(42742),w=a(79198);let F={fromPropsSubject:e=>e?"project"===e.type?{subjectId:e.id?.databaseId?.toString(),subjectType:e.type}:{subjectId:e.id?.databaseId?.toString()??e.id?.id,subjectRepoId:e.repository.databaseId,subjectType:"issue_comment"===e.type?"issue":e.type}:{}};var N=a(94977),L=a(50064);function T({onSave:e,validationResult:n,children:a,trailingIcon:t,disabled:i,size:r}){let s=(0,l.jsx)(L.x,{variant:"primary",size:r,onClick:e,disabled:i||!n.isValid,trailingVisual:t&&i?v.AlertFillIcon:null,children:a});return n.isValid?s:(0,l.jsx)(N.A,{text:n.errorMessage,direction:"w","data-testid":"save-button-tooltip",children:s})}try{T.displayName||(T.displayName="SaveButton")}catch{}var A=a(40961);function K({onChange:e,inputValue:n,sourceContentFromDiffLines:a,onInsertSuggestedChange:t,shouldInsertSuggestionOnRender:i,editorRef:r}){let s=`\`\`\`suggestion
${a??""}
\`\`\``,d=()=>{t(),r.current?.focus();let a=""===n?s:`${n}
${s}`;(0,A.flushSync)(()=>{e(a)});let l=document.activeElement;if(!l||!(l instanceof HTMLTextAreaElement))return;let i=a.length-3;l.selectionStart=i-1,l.selectionEnd=i-1};return(0,c.useEffect)(()=>{if(i){let e=window.setTimeout(()=>d());return()=>{window.clearTimeout(e)}}},[]),(0,l.jsx)(o.n.ToolbarButton,{icon:v.FileDiffIcon,"aria-label":"Add a suggestion",onClick:d})}try{K.displayName||(K.displayName="AddSuggestionButton")}catch{}let D={isFileUploading:/<!-- Uploading[\s\S]*?-->/},E=o.n.ActionButton,P=(0,c.forwardRef)(({"aria-describedby":e,"data-testid":n,label:a,labelledBy:u,showLabel:p,disabled:f=!1,subject:v,viewMode:C,onChangeViewMode:j,value:N,placeholder:L,onChange:A,onSave:E,onCancel:P,validationResult:R,saveButtonText:M="Save",saveButtonTrailingIcon:V=!0,actions:O,userSettings:B,contentIsStale:U,fileUploadsEnabled:$=!0,minHeightLines:H,maxHeightLines:z,className:q,onPrimaryAction:G,buttonSize:W,suggestedChangesConfig:Q,markdownErrorMessage:X,teamHovercardsEnabled:Y,setIsFileUploading:J,markdownSuggestionsFetchMethod:Z="lazy"},ee)=>{let en=F.fromPropsSubject(v),ea=v?.type==="project"?v?.id?.databaseId.toString():void 0,[el,et]=(0,c.useState)("eager"===Z),{mentions:ei,references:er,savedReplies:es}=function(e={},n){let a=(0,d.A)(),l=function({subjectId:e,subjectType:n,subjectRepoId:a}){return m((0,c.useCallback)(()=>n&&("project"===n||a)?g({subjectId:e,subjectType:n,subjectRepoId:a}):Promise.resolve([]),[n,a,e]))}(e),t=function({subjectId:e,subjectType:n,subjectRepoId:a}){return m((0,c.useCallback)(async()=>n&&a?h({subjectId:e,subjectType:n,subjectRepoId:a}):Promise.resolve([]),[e,n,a]))}(e),i=function({subjectType:e}){return m((0,c.useCallback)(()=>y("issue"===e||"pull_request"===e?e:void 0),[e]))}(e),[r,s]=(0,c.useState)(b);return(0,c.useEffect)(()=>{let e=async()=>{let[e,n,r]=await Promise.all([l(),t(),i()]);a()&&(e.length||n.length||r.length)&&s({mentions:e,references:n,savedReplies:r})};n&&e()},[l,t,i,a,n]),r}(en,el),eo=(0,w.y)(en),ed=(0,I.fU)(en.subjectRepoId?.toString(),ea),[ec,eu]=(0,c.useState)(C??"edit"),[em,ep]=(0,c.useState)(!1),eg=(0,c.useRef)(null);(0,i.T)(ee,eg);let ef=(0,c.useRef)(null),eh=void 0!==v&&"repository"in v&&void 0!==v.repository,ey=eh&&v.repository.slashCommandsEnabled,[eb,ek]=(0,c.useState)(Q?.shouldInsertSuggestedChange??!1);(0,c.useEffect)(()=>(ep(U??!1),()=>{ep(!1)}),[U]);let ex=(0,c.useMemo)(()=>em?t.l:()=>{E?.(),eu("edit")},[E,em]);(0,c.useEffect)(()=>{eu("edit")},[en.subjectRepoId,en.subjectId]),(0,c.useEffect)(()=>{C&&eu(C)},[C]);let ev=(0,c.useCallback)(e=>{eu(e),j?.(e)},[j]),eC=(0,c.useCallback)(e=>{eg.current?.focus();try{document.execCommand("insertText",!1,e)}catch{}},[eg]),ej=(0,c.useCallback)(()=>{"lazy"!==Z||el||et(!0)},[el,Z]);em&&null!==ef.current&&window.scrollY>173&&ef.current.scrollIntoView();let eS=(0,c.useMemo)(()=>D.isFileUploading.test(N),[N]);(0,c.useEffect)(()=>{J&&J(eS)},[eS,J]);let e_=(0,c.useMemo)(()=>e=>(0,c.isValidElement)(e)&&"object"==typeof e&&"symbol"==typeof e.type&&"Symbol(react.fragment)"===String(e.type)?e.props.children:c.Children.toArray(e),[]),eI=(0,c.useMemo)(()=>e=>e_(e).map((e,n)=>(0,c.isValidElement)(e)?(0,c.cloneElement)(e,{key:n,disabled:f||eS}):e),[e_,f,eS]),ew=(0,l.jsxs)(c.Suspense,{children:[em&&(0,l.jsx)(r.A,{ref:ef,sx:{mb:2},variant:"danger",children:x.staleContentError}),(0,l.jsxs)(o.n,{"aria-describedby":e,labelledBy:u,disabled:f,value:N,placeholder:void 0!==L?L:x.leaveCommentLabel,emojiSuggestions:k.v,emojiTone:B?.emojiSkinTonePreference,mentionSuggestions:ei,referenceSuggestions:er,viewMode:ec,onChangeViewMode:ev,onChange:A,onInputFocus:ej,onRenderPreview:eo,onUploadFile:$?ed:void 0,acceptedFileTypes:$?(0,I.jw)(eh):void 0,onPrimaryAction:()=>{ex(),G?.()},ref:eg,pasteUrlsAsPlainText:B?.pasteUrlsAsPlainText||!1,savedReplies:es,monospace:B?.useMonospaceFont||!1,minHeightLines:H,maxHeightLines:z,errorMessage:X,className:q,teamHovercardsEnabled:Y,onSavedRepliesOpen:ej,children:[(0,l.jsx)(o.n.Label,{visuallyHidden:!p,children:a??"Markdown Editor"}),(0,l.jsxs)(o.n.Actions,{children:[eI(O),P&&(0,l.jsx)(o.n.ActionButton,{variant:"default",size:W,onClick:P,value:"Cancel",children:"Cancel"}),ex&&R&&(0,l.jsx)(T,{onSave:ex,validationResult:R,trailingIcon:V,disabled:f||eS,size:W,children:M})]}),(0,l.jsxs)(o.n.Toolbar,{children:[Q?.showSuggestChangesButton&&(0,l.jsx)(K,{shouldInsertSuggestionOnRender:eb,inputValue:N,onChange:A,sourceContentFromDiffLines:Q?.sourceContentFromDiffLines,editorRef:eg,onInsertSuggestedChange:()=>{Q?.onInsertSuggestedChange(),ek(!1)}}),(0,l.jsx)(o.n.DefaultToolbarButtons,{}),(0,l.jsx)(_,{})]})]})]});return(0,l.jsx)(s.A,{sx:{mb:0},"data-testid":n,children:ey?(0,l.jsx)(S,{subject:v,onInsertText:eC,onSave:ex,children:ew}):ew})});P.displayName="CommentBox"},38506:(e,n,a)=>{a.d(n,{P:()=>r});var l=a(74848),t=a(75177);let i={reason:"readonly-comment-box-module__reason--CzzUh"};function r({reason:e,icon:n,...a}){return(0,l.jsx)(t.A,{className:"blankslate",sx:{border:"1px solid",borderColor:"neutral.muted",borderRadius:2,backgroundColor:"canvas.default",boxShadow:"shadow.small"},...a,children:(0,l.jsxs)(t.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"fg.muted"},children:[n&&(0,l.jsx)(n,{size:24}),(0,l.jsx)("div",{className:i.reason,children:e})]})})}try{r.displayName||(r.displayName="ReadonlyCommentBox")}catch{}},81874:(e,n,a)=>{a.d(n,{v:()=>j});var l=a(74848),t=a(62456),i=a(5796),r=a(38621),s=a(52464),o=a(34614),d=a(89169),c=a(75177),u=a(96540),m=a(99582),p=a(14438),g=a(58924),f=a(8489),h=a(22896);let y={MEMBER:"Member",OWNER:"Owner",MANNEQUIN:"Mannequin",COLLABORATOR:"Collaborator",CONTRIBUTOR:"Contributor",FIRST_TIME_CONTRIBUTOR:"First-time contributor",FIRST_TIMER:"First-time GitHub contributor",NONE:""},b={MEMBER:({viewerDidAuthor:e,org:n})=>`${e?"You are":"This user is"} a member of the ${n} organization.`,OWNER:({viewerDidAuthor:e,repo:n})=>`${e?"You are":"This user is"} the owner of the ${n} repository.`,MANNEQUIN:()=>"This is a mannequin user.",COLLABORATOR:({viewerDidAuthor:e,repo:n})=>`${e?"You have":"This user has"} been invited to collaborate on the ${n} repository.`,CONTRIBUTOR:({viewerDidAuthor:e,repo:n})=>`${e?"You have":"This user has"} previously committed to the ${n} repository.`,FIRST_TIME_CONTRIBUTOR:({viewerDidAuthor:e,repo:n})=>`${e?"You are":"This user is"} a first-time contributor to the ${n} repository.`,FIRST_TIMER:({viewerDidAuthor:e})=>`${e?"This is your":"This user's"} first pull request on GitHub.`,NONE:()=>""},k=({association:e,org:n,repo:a,viewerDidAuthor:t})=>{let i=y[e]?e:"NONE";if("NONE"===i)return null;let r=b[i]({viewerDidAuthor:t??!1,org:n,repo:a});return(0,l.jsx)(h.C,{label:y[i],ariaLabel:r,testId:p.Y.commentAuthorAssociation,viewerDidAuthor:t})};try{k.displayName||(k.displayName="CommentAuthorAssociation")}catch{}let x=({viewerDidAuthor:e,subjectType:n})=>(0,l.jsx)(h.C,{viewerDidAuthor:e,ariaLabel:m.k.commentSubjectAuthor(e??!1,n??"comment"),label:m.k.commentAuthor,testId:p.Y.commentSubjectAuthor});try{x.displayName||(x.displayName="CommentSubjectAuthor")}catch{}var v=a(81223);let C=({createdAt:e,owner:n,viewerDidAuthor:a})=>{let t=new Date(e),i=t.toLocaleString("default",{month:"long"}),r=m.k.sponsor(n,`${i} ${t.getFullYear()}`);return(0,l.jsx)(h.C,{label:m.k.sponsorBadge,ariaLabel:r,testId:p.Y.sponsorLabel,viewerDidAuthor:a})};try{C.displayName||(C.displayName="SponsorsBadge")}catch{}function j({actions:e,comment:n,commentAuthorLogin:a,isMinimized:t=!1,avatarUrl:y,lastEditedByMessage:b,editHistoryComponent:j,additionalHeaderMessage:_,sx:I,viewerDidAuthor:w=!1,userAvatar:F=(0,l.jsx)(S,{avatarUrl:y,login:a,isHidden:!!n.pendingMinimizeReason||n.isHidden}),commentSubjectAuthorLogin:N,commentSubjectType:L,isReply:T=!1,headingProps:{as:A,...K}={as:"h3"},commentAuthorType:D,id:E,forceInlineAvatar:P,containerStyle:R}){let M=R||T?{}:{backgroundColor:w?"accent.subtle":"canvas.subtle",borderTopLeftRadius:"6px",borderTopRightRadius:"6px",borderBottom:"1px solid",borderColor:w?"accent.muted":"border.default",borderBottomWidth:t?0:1,py:P?[1,1,2,2]:1,pr:1,pl:3,...I},V=n.pendingMinimizeReason??n.minimizedReason,O=!!V||n.isHidden,B=new Date(n.createdAt),U=(0,l.jsxs)(l.Fragment,{children:[_&&(0,l.jsx)(s.A,{sx:{color:"fg.muted",overflow:"hidden",textOverflow:"ellipsis"},children:_}),(0,l.jsxs)(s.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",color:"fg.muted"},children:[(0,l.jsx)(o.A,{href:n.url,sx:{color:"inherit"},children:(0,l.jsxs)(d.A,{date:B,children:["on ",B.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),n.createdViaEmail&&(0,l.jsx)("span",{children:` ${m.k.sentViaEmail}`})]}),O&&(0,l.jsxs)(s.A,{sx:{color:"fg.muted"},children:[" ","\xb7"," ",V?(0,l.jsxs)("span",{children:[m.k.hiddenCommentWithReason," ",V.replace(/_/g,"-").toLowerCase()]}):(0,l.jsx)("span",{children:m.k.hiddenComment})]}),b&&!O&&(0,l.jsx)(u.Suspense,{children:b})]});return(0,l.jsx)(c.A,{id:E,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",...M},"data-testid":p.Y.commentHeader,children:(0,l.jsxs)(c.A,{className:g.A.activityHeader,sx:{width:"100%",minWidth:0,minHeight:"var(--control-small-size, 28px)",justifyContent:"space-between",alignItems:"stretch",paddingBottom:b||P?0:"var(--base-size-6, 6px)"},children:[(0,l.jsx)(A,{...K,className:"sr-only",children:(0,l.jsxs)(l.Fragment,{children:[a," ",T?"replied":"commented"," ",(0,l.jsxs)(d.A,{date:B,children:["on ",B.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," "]})]})}),(0,l.jsx)(c.A,{className:P?"":f.A.avatarInner,sx:{placeSelf:"center",gridArea:"avatar",display:P?"flex":["flex","flex","none","none"],marginRight:2},children:F}),(0,l.jsxs)(c.A,{className:g.A.narrowViewportWrapper,"data-testid":p.Y.commentHeaderLeftSideItems,sx:{minWidth:0,gridColumnStart:"title",gridColumnEnd:"badges",flexWrap:"wrap",alignItems:"center",flexShrink:1,flexBasis:"auto",columnGap:"0.45ch",paddingTop:1,paddingBottom:1},children:[(0,l.jsx)(c.A,{sx:{gridArea:"title",marginTop:0,alignItems:"center",display:"flex",flexShrink:1,flexBasis:"auto",overflow:"hidden"},children:(0,l.jsx)(o.A,{"data-testid":p.Y.avatarLink,href:`/${"Bot"===D?"apps/":""}${a}`,"data-hovercard-url":(0,i.dCN)({owner:a}),sx:{fontSize:1,color:O?"fg.muted":"fg.default",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",alignSelf:"flex-end"},children:a})}),(0,l.jsx)(c.A,{className:g.A.footer,sx:{gridArea:"footer",lineHeight:"1.4"},children:U})]}),(0,l.jsxs)(c.A,{"data-testid":p.Y.commentHeaderRightSideItems,className:g.A.narrowViewportWrapper,sx:{whiteSpace:"nowrap",gridArea:"actions",columnGap:"var(--base-size-4, 4px)",justifyContent:"flex-end",flexShrink:2,flexGrow:1,alignItems:"flex-start"},children:[j&&(0,l.jsx)(c.A,{sx:{gridArea:"edits",display:"flex",justifyContent:"flex-end",overflow:"hidden",flexGrow:1,alignItems:["flex-start","center","center","center"],ml:2},children:j}),(0,l.jsxs)(c.A,{sx:{gridColumnStart:"badges",gridColumnEnd:"actions",display:"flex",columnGap:"var(--base-size-4, 4px)",alignItems:"center",justifyContent:"flex-end",minHeight:"var(--base-size-28, 28px)"},children:[(0,l.jsxs)(c.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",columnGap:"var(--base-size-8, 8px)",ml:1},children:[n.state?.toUpperCase()==="PENDING"&&(0,l.jsx)(h.C,{leadingElement:(0,l.jsx)(r.DotFillIcon,{}),label:"Pending",ariaLabel:"This review comment is pending",testId:"pending-badge",variant:"attention",sx:{mr:1}}),!O&&!t&&n.authorToRepoOwnerSponsorship&&n.authorToRepoOwnerSponsorship.isActive&&(0,l.jsx)(C,{createdAt:n.authorToRepoOwnerSponsorship.createdAt,owner:n.repository.owner.login,viewerDidAuthor:w}),!O&&!t&&n.showSpammyBadge&&(0,l.jsx)(v.b,{}),!n.repository.isPrivate&&!O&&!t&&(0,l.jsx)(k,{association:n.authorAssociation,viewerDidAuthor:w,org:n.repository.owner.login,repo:n.repository.name}),a===N&&(0,l.jsx)(x,{viewerDidAuthor:w,subjectType:L})]}),(0,l.jsx)(c.A,{sx:{display:"flex",columnGap:"var(--base-size-4, 4px)"},children:e})]})]})]})})}function S({avatarUrl:e,login:n,isHidden:a}){return(0,l.jsx)(o.A,{href:`/${n}`,className:f.A.avatarLink,"data-hovercard-url":(0,i.dCN)({owner:n}),"aria-label":`@${n}'s profile`,children:(0,l.jsx)(t.r,{src:e,alt:`@${n}`,size:24,className:a?f.A.hiddenActivityAvatar:f.A.activityAvatar})})}try{j.displayName||(j.displayName="ActivityHeader")}catch{}try{S.displayName||(S.displayName="DefaultAvatar")}catch{}},77433:(e,n,a)=>{a.d(n,{p:()=>k});var l=a(74848),t=a(56176),i=a(3541),r=a(90628),s=a(47584),o=a(38621),d=a(87330),c=a(89323),u=a(8338),m=a(96540),p=a(14438),g=a(86856),f=a(20075),h=a(34517),y=a(32941),b=a(81962);function k({comment:e,commentAuthorLogin:n,editComment:a,onReplySelect:k,isMinimized:x=!1,navigate:v,onMinimize:C,hideComment:j,unhideComment:S,deleteComment:_,commentRef:I}){let[w,F]=(0,m.useState)(!1),[N,L]=(0,m.useState)(null),[T,A]=(0,m.useState)(!1),[K,D]=(0,m.useState)(!1),[E,P]=(0,m.useState)(!1),[R,M]=(0,m.useState)(!1),V=(0,m.useCallback)(a=>`${a.replace(/^(?!>)/gm,"> ")} 

 _Originally posted by @${n} in [${e.referenceText}](${e.url})_`,[e.referenceText,n,e.url]),O=()=>{navigator.clipboard.writeText(e.url)},B=!!e.pendingMinimizeReason||e.isHidden,U=(0,m.useMemo)(()=>B&&!x&&e.viewerCanSeeMinimizeButton?(0,l.jsx)(d.K,{sx:{color:"fg.muted"},"aria-label":"hide comment",variant:"invisible",onClick:()=>C?.(!0),icon:o.FoldIcon,size:"small"}):null,[B,x,C,e.viewerCanSeeMinimizeButton]),$=(0,m.useMemo)(()=>B&&x&&e.viewerCanSeeUnminimizeButton?(0,l.jsx)(d.K,{sx:{color:"fg.muted"},"aria-label":"show comment",variant:"invisible",onClick:()=>C?.(!1),icon:o.UnfoldIcon,size:"small"}):null,[B,x,C,e.viewerCanSeeUnminimizeButton]),H=(0,m.useMemo)(()=>{if(!e.author)return;let a=s.cg?.location.origin;if(!a)return;let l=`content_url=${encodeURIComponent(e.url)}&report=${n}+(user)`;return`${a}/contact/report-content?${l}`},[n,e.author,e.url]),z=(e.viewerCanReport||e.viewerCanReportToMaintainer)&&e.author,q=function(e){let n=e.length>120?`${e.slice(0,120)}... (truncated)`:e;return`Comment actions for comment: "${n}"`}(e.body),G=function(e){let{viewerCanBlockFromOrg:n,pendingBlock:a,hasAuthor:l,pendingUnblock:t}=e;return!!l&&!a&&(!!t||n)}({viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),W=function(e){let{viewerCanUnblockFromOrg:n,pendingBlock:a,hasAuthor:l,pendingUnblock:t}=e;return!!l&&!t&&(!!a||n)}({viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),Q={isCreateDialogOpen:T,setIsCreateDialogOpen:A,navigate:v,optionConfig:{storageKeyPrefix:e.id,defaultDisplayMode:r.q.IssueCreation,scopedOrganization:e.repository.owner.login,issueCreateArguments:{initialValues:{body:V(e.body)},repository:{name:e.repository.name,owner:e.repository.owner.login}}}};return(0,l.jsxs)(l.Fragment,{children:[T&&(0,l.jsx)(i.or,{...Q}),K&&(0,l.jsx)(y._,{owner:e.repository.owner.login,ownerUrl:e.repository.owner.url,reportUrl:H,contentId:e.id,onClose:()=>D(!1),contentType:"comment"}),E&&e.author&&(0,l.jsx)(f.r,{onClose:()=>P(!1),organization:e.repository.owner,contentId:e.id,contentAuthor:e.author,contentUrl:e.url}),R&&e.author&&(0,l.jsx)(b.o,{onClose:()=>M(!1),organization:e.repository.owner,contentAuthor:e.author,contentId:e.id}),U,$,(0,l.jsxs)(c.W,{open:w,onOpenChange:e=>{if(e){let e=window.getSelection();e&&e.anchorNode?L({anchorNode:e.anchorNode,range:e.getRangeAt(0)}):L(null)}F(e)},children:[(0,l.jsx)(c.W.Anchor,{"data-testid":p.Y.commentHeaderHamburger,children:(0,l.jsx)(d.K,{unsafeDisableTooltip:!0,size:"small",icon:o.KebabHorizontalIcon,variant:"invisible","aria-label":q,sx:{color:"fg.muted"}})}),(0,l.jsx)(c.W.Overlay,{children:(0,l.jsxs)(u.l,{"data-testid":p.Y.commentHeaderHamburgerOpen,children:[(0,l.jsxs)(u.l.Item,{onSelect:()=>O(),children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.LinkIcon,{})}),"Copy link"]}),(0,t.M3)()&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u.l.Item,{onSelect:()=>{k((0,g.E)(I?.current,N,e.body))},children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.QuoteIcon,{})}),"Quote reply"]}),(0,l.jsx)(u.l.Divider,{}),(0,l.jsxs)(u.l.Item,{"data-testid":p.Y.commentMenuRefComment,sx:{width:"max-content"},onSelect:()=>A(!0),children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.IssueOpenedIcon,{})}),"Reference in a new issue"]})]}),(e.viewerCanUpdate||e.viewerCanMinimize||e.viewerCanDelete)&&(0,l.jsx)(u.l.Divider,{}),e.viewerCanUpdate&&(0,l.jsxs)(u.l.Item,{onSelect:()=>a(),children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.PencilIcon,{})}),"Edit"]}),e.viewerCanMinimize&&!B&&(0,l.jsxs)(c.W,{children:[(0,l.jsx)(c.W.Anchor,{children:(0,l.jsxs)(u.l.Item,{children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.EyeClosedIcon,{})}),"Hide"]})}),(0,l.jsx)(c.W.Overlay,{children:(0,l.jsx)(u.l,{children:(0,l.jsx)(h.w,{onSelect:j,setMenuOpen:F})})})]}),e.viewerCanMinimize&&B&&(0,l.jsxs)(u.l.Item,{onSelect:S,children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.EyeIcon,{})})," ","Unhide"]}),e.viewerCanDelete&&(0,l.jsxs)(u.l.Item,{variant:"danger",onSelect:_,children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.TrashIcon,{})}),"Delete"]}),z&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.l.Divider,{}),e.viewerCanReportToMaintainer?(0,l.jsxs)(u.l.Item,{onSelect:()=>{D(!0)},children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.ReportIcon,{})}),"Report content"]}):(0,l.jsxs)(u.l.LinkItem,{href:H,target:"_blank",children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.ReportIcon,{})}),"Report content"]})]}),(G||W)&&!z&&(0,l.jsx)(u.l.Divider,{}),G&&(0,l.jsxs)(u.l.Item,{onSelect:()=>P(!0),children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.BlockedIcon,{})}),"Block user"]}),W&&(0,l.jsxs)(u.l.Item,{onSelect:()=>M(!0),children:[(0,l.jsx)(u.l.LeadingVisual,{children:(0,l.jsx)(o.BlockedIcon,{})}),"Unblock user"]})]})})]})]})}try{k.displayName||(k.displayName="CommentActions")}catch{}},22896:(e,n,a)=>{a.d(n,{C:()=>s});var l=a(74848),t=a(2668),i=a(47139),r=a(96540);let s=({label:e,ariaLabel:n,testId:a,viewerDidAuthor:s,variant:o,leadingElement:d})=>{let c=r.useRef(null),[u,m]=(0,t.B)({contentRef:c,"aria-label":n});return(0,l.jsxs)(i.A,{variant:o||"secondary","data-testid":a,"aria-label":n,ref:c,sx:s?{borderColor:"accent.muted"}:{},...u,children:[d,e,m]})};try{s.displayName||(s.displayName="CommentHeaderBadge")}catch{}},88771:(e,n,a)=>{a.d(n,{z:()=>i});var l=a(74848),t=a(75177);let i=(0,a(96540).forwardRef)(({onClick:e,id:n,children:a},i)=>(0,l.jsx)(t.A,{as:"button",type:"button",id:n,ref:i,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left",fontWeight:400,color:"fg.muted",width:"100%",backgroundColor:"canvas.default",border:"1px solid",borderColor:"border.default",cursor:"text",borderRadius:2,height:"var(--control-medium-size)",lineHeight:"var(--text-body-lineHeight-medium)",px:2},onClick:e,children:a}));i.displayName="CompactCommentButton"},81223:(e,n,a)=>{a.d(n,{b:()=>s});var l=a(74848),t=a(99582),i=a(14438),r=a(22896);let s=()=>(0,l.jsx)(r.C,{variant:"danger",ariaLabel:t.k.spammyBadgeTooltip,label:t.k.spammyBadge,testId:i.Y.spammyLabel});try{s.displayName||(s.displayName="SpammyBadge")}catch{}},20075:(e,n,a)=>{a.d(n,{r:()=>x});var l=a(74848),t=a(73218),i=a(16255),r=a(75177),s=a(89323),o=a(8338),d=a(73451),c=a(65607),u=a(52464),m=a(55847),p=a(74144),g=a(96540),f=a(18312),h=a(69487);let y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"BlockUserFromOrganizationPayload",kind:"LinkedField",name:"blockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"blockUserFromOrganizationMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"blockUserFromOrganizationMutation",selections:n},params:{id:"cc2dfdd4807633d71341d55e85bdcec5",metadata:{},name:"blockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();y.hash="1cc6b979024f82ac249a77676892c1f0";var b=a(34517);let k={ONE_DAY:"For 1 day",THREE_DAYS:"For 3 days",SEVEN_DAYS:"For 7 days",THIRTY_DAYS:"For 30 days",INDEFINITE:"Until I unblock them"},x=({onClose:e,...n})=>{let[a,t]=(0,g.useState)("INDEFINITE"),[m,f]=(0,g.useState)(!0),[h,y]=(0,g.useState)(!1),[x,S]=(0,g.useState)(void 0),_=n.contentAuthor.login;return(0,l.jsx)(i.Z,{children:(0,l.jsx)(p.l,{renderHeader:()=>(0,l.jsx)(C,{onClose:e,...n}),renderFooter:()=>(0,l.jsx)(j,{onClose:e,...n,notifyBlockedUser:m,hideComment:h,duration:a,hiddenReason:x}),sx:{width:"100%",margin:4,maxWidth:"640px",maxHeight:"clamp(315px, 80vh, 800px)"},width:"xlarge",height:"auto",onClose:e,children:(0,l.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:2},children:[(0,l.jsx)(r.A,{sx:{display:"flex",flexDirection:"row"},children:(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:["Blocking a user prevents them from interacting with repositories of this organization, such as opening or commenting on pull requests or issues. Learn more about"," ",(0,l.jsx)("a",{href:"https://docs.github.com/communities/maintaining-your-safety-on-github/blocking-a-user-from-your-organization",children:"blocking a user."})]})})}),(0,l.jsx)(r.A,{sx:{display:"flex",flexDirection:"row"},children:(0,l.jsxs)(s.W,{children:[(0,l.jsxs)(s.W.Button,{children:["Block a user: ",k[a]]}),(0,l.jsx)(s.W.Overlay,{children:(0,l.jsx)(o.l,{selectionVariant:"single",children:(0,l.jsxs)(o.l.Group,{children:[(0,l.jsx)(o.l.GroupHeading,{children:"Block options"}),Object.keys(k).map(e=>(0,l.jsx)(o.l.Item,{onSelect:()=>{t(e)},selected:e===a,children:k[e]},e))]})})})]})}),(0,l.jsx)(v,{}),(0,l.jsx)("h4",{children:"More options"}),(0,l.jsxs)(d.A,{sx:{mt:1},children:[(0,l.jsx)(c.A,{checked:m,onChange:()=>f(!m),"aria-checked":m}),(0,l.jsx)(d.A.Label,{children:"Send user a notification and show activity in timeline"}),(0,l.jsx)(d.A.Caption,{children:(0,l.jsxs)(u.A,{sx:{color:"fg.subtle",fontSize:12},children:["You can notify ",(0,l.jsx)("b",{children:_})," as to why they're being blocked. A public timeline entry will show that this user was blocked. They will receive an email notification and a notice when they try to comment with the following message:",(0,l.jsx)(r.A,{sx:{mt:1,ml:2},children:(0,l.jsxs)("blockquote",{children:["A maintainer of the @",n.organization.login," organization has blocked you because of"," ",(0,l.jsx)("a",{href:n.contentUrl,children:"this content"}),". For more information please see"," ",(0,l.jsx)("a",{href:"https://docs.github.com/site-policy/github-terms/github-community-guidelines",children:"the community guidelines"}),"."]})})]})})]}),(0,l.jsxs)(d.A,{children:[(0,l.jsx)(c.A,{checked:h,onChange:()=>y(!h),"aria-checked":h}),(0,l.jsx)(d.A.Label,{children:"Hide this user's comments"}),(0,l.jsx)(d.A.Caption,{children:(0,l.jsxs)(u.A,{sx:{color:"fg.subtle",fontSize:12},children:["All of their comments in this organization"," ",(0,l.jsx)("a",{href:"https://docs.github.com/communities/moderating-comments-and-conversations/managing-disruptive-comments#hiding-a-comment",children:"will be hidden"})," ","to all users and will display a reason."]})})]}),(0,l.jsx)(r.A,{sx:{ml:4},children:(0,l.jsxs)(s.W,{children:[(0,l.jsx)(s.W.Button,{children:(x&&b.n[x])??"Choose a reason"}),(0,l.jsx)(s.W.Overlay,{children:(0,l.jsx)(o.l,{selectionVariant:"single",children:(0,l.jsx)(b.w,{onSelect:S})})})]})})]})})})},v=()=>(0,l.jsx)(r.A,{sx:{height:"1px",backgroundColor:"fg.subtle",margin:"8px 0"}}),C=({contentAuthor:e,organization:n,onClose:a})=>(0,l.jsx)(p.l.Header,{children:(0,l.jsxs)(r.A,{sx:{display:"flex"},children:[(0,l.jsx)(r.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,l.jsxs)(p.l.Title,{children:["Block ",e.login," from ",n.login]})}),(0,l.jsx)(p.l.CloseButton,{onClose:a})]})}),j=({organization:e,contentAuthor:n,contentId:a,notifyBlockedUser:i,hideComment:r,duration:s,hiddenReason:o,onClose:d})=>{let c=(0,f.useRelayEnvironment)(),u=(0,g.useCallback)(()=>{!function({environment:e,input:{organizationId:n,blockedUserId:a,duration:l,notifyBlockedUser:t,hiddenReason:i,contentId:r},onError:s,onCompleted:o}){let d={organizationId:n,blockedUserId:a,duration:l,notifyBlockedUser:t,contentId:r};i&&(d={...d,hiddenReason:i}),(0,f.commitMutation)(e,{mutation:y,variables:{input:d},onError:e=>s&&s(e),onCompleted:()=>{o?.()}})}({environment:c,input:{organizationId:e.id,contentId:a,blockedUserId:n.id,duration:s,hiddenReason:r&&o?o:void 0,notifyBlockedUser:i},onError:t.l,onCompleted:()=>(0,h.commitLocalUpdate)(c,e=>{let n=e.get(a);n?.setValue(!1,"pendingUnblock"),n?.setValue(!0,"pendingBlock"),o&&n?.setValue(o,"pendingMinimizeReason")})}),d()},[c,e.id,a,n.id,s,r,o,i,d]);return(0,l.jsx)(p.l.Footer,{children:(0,l.jsx)(m.Q,{sx:{width:"100%"},variant:"danger",disabled:r&&!o,onClick:u,children:"Block user from organization"})})};try{x.displayName||(x.displayName="BlockUserFromOrgDialog")}catch{}try{v.displayName||(v.displayName="DialogDivider")}catch{}try{C.displayName||(C.displayName="BlockUserFromOrgDialogHeader")}catch{}try{j.displayName||(j.displayName="BlockUserFromOrgDialogFooter")}catch{}},34517:(e,n,a)=>{a.d(n,{n:()=>i,w:()=>r});var l=a(74848),t=a(8338);let i={SPAM:"Spam",ABUSE:"Abuse",OFF_TOPIC:"Off-topic",OUTDATED:"Outdated",DUPLICATE:"Duplicate",RESOLVED:"Resolved"},r=({setMenuOpen:e,onSelect:n})=>(0,l.jsx)(l.Fragment,{children:Object.keys(i).map(a=>(0,l.jsx)(t.l.Item,{"aria-label":`Hide comment as ${i[a]}`,onSelect:()=>{n(a),e?.(!1)},children:i[a]},a))});try{r.displayName||(r.displayName="HideCommentActionItems")}catch{}},32941:(e,n,a)=>{a.d(n,{_:()=>k});var l=a(74848),t=a(67136),i=a(75177),r=a(34614),s=a(89323),o=a(8338),d=a(55847),c=a(16255),u=a(89015),m=a(73451),p=a(15198),g=a(74144),f=a(96540),h=a(18312);let y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SubmitAbuseReportPayload",kind:"LinkedField",name:"submitAbuseReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"submitAbuseReportMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"submitAbuseReportMutation",selections:n},params:{id:"0603fe0f6dabc68adea31e484c57deb7",metadata:{},name:"submitAbuseReportMutation",operationKind:"mutation",text:null}}}();y.hash="8b252221b8eab001809aa2a2d583cb84";let b={RadioGroup_Label:"ReportContentDialog-module__RadioGroup_Label--IfGFf"},k=({owner:e,ownerUrl:n,reportUrl:a,contentId:k,onClose:x,contentType:v="content"})=>{let C=(0,h.useRelayEnvironment)(),{addToast:j}=(0,t.Y6)(),[S,_]=(0,f.useState)("Choose a reason"),[I,w]=(0,f.useState)(!1),[F,N]=(0,f.useState)("admins"),L=(0,f.useCallback)(()=>{w(!0),function({environment:e,input:{reportedContentId:n,reason:a},onError:l,onCompleted:t}){(0,h.commitMutation)(e,{mutation:y,variables:{input:{reportedContent:n,reason:a}},onError:e=>l&&l(e),onCompleted:()=>t&&t()})}({environment:C,input:{reportedContentId:k,reason:"Choose a reason"===S?"UNSPECIFIED":S},onError(e){j({type:"error",message:`Unable to submit report: ${e}`}),w(!1)},onCompleted(){j({type:"success",message:"Report submitted"}),w(!1),x()}})},[j,k,C,x,S]),T=(0,l.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{children:[(0,l.jsxs)("span",{children:["This ",v," violates "]}),(0,l.jsx)(r.A,{href:n,children:`@${e}'s `}),(0,l.jsx)("span",{children:"Code of Conduct and should be submitted to the maintainers of this repository for review."})]}),(0,l.jsx)("p",{children:"This report, as well as your username as the reporter, will be viewable by all admins of this repository."}),(0,l.jsxs)("p",{children:["Choose a reason for reporting this ",v]})]}),(0,l.jsx)(i.A,{sx:{marginTop:"8px",marginBottom:"16px"},children:(0,l.jsxs)(s.W,{children:[(0,l.jsx)(s.W.Button,{children:S}),(0,l.jsx)(s.W.Overlay,{children:(0,l.jsxs)(o.l,{children:[(0,l.jsx)(o.l.Item,{onSelect:()=>_("ABUSE"),children:"Abuse"}),(0,l.jsx)(o.l.Item,{onSelect:()=>_("SPAM"),children:"Spam"}),(0,l.jsx)(o.l.Item,{onSelect:()=>_("OFF_TOPIC"),children:"Off Topic"})]})})]})}),(0,l.jsxs)(i.A,{sx:{marginTop:"8px"},children:[(0,l.jsxs)(i.A,{sx:{fontSize:"12px",color:"fg.muted"},children:[(0,l.jsx)("span",{children:"Learn more about "}),(0,l.jsx)(r.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"requesting that maintainers moderate content."})]}),(0,l.jsx)(d.Q,{sx:{marginTop:"30px",width:"100%"},variant:"danger",onClick:()=>L(),disabled:I,children:"Report to repository admins"})]})]}),A=(0,l.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsx)("span",{children:"Contact GitHub Support about this user's spammy or abusive behavior."}),(0,l.jsxs)(i.A,{sx:{marginTop:"12px"},children:[(0,l.jsxs)(i.A,{sx:{marginTop:"auto",fontSize:"12px",color:"fg.muted"},children:[(0,l.jsx)("span",{children:"Learn more about "}),(0,l.jsx)(r.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"reporting abuse to GitHub support"})]}),(0,l.jsx)(d.Q,{sx:{width:"100%",marginTop:"30px"},variant:"danger",as:"a",href:a,disabled:I,children:"Report abuse to GitHub support"})]})]});return(0,l.jsx)(c.Z,{children:(0,l.jsx)(g.l,{renderHeader:()=>(0,l.jsx)(g.l.Header,{children:(0,l.jsxs)(i.A,{sx:{display:"flex"},children:[(0,l.jsx)(i.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,l.jsxs)(g.l.Title,{children:["Report ",v]})}),(0,l.jsx)(g.l.CloseButton,{onClose:x})]})}),sx:{width:"100%",margin:4,maxWidth:"640px",maxHeight:"clamp(315px, 80vh, 800px)"},width:"xlarge",height:"auto",onClose:x,children:(0,l.jsxs)(i.A,{sx:{gap:3,display:"grid"},children:[(0,l.jsxs)(u.A,{name:"choiceGroup",onChange:e=>{N(e)},children:[(0,l.jsxs)(u.A.Label,{className:b.RadioGroup_Label,children:["Where would you like to report this ",v," to?"]}),(0,l.jsxs)(m.A,{children:[(0,l.jsx)(p.A,{value:"admins",defaultChecked:!0}),(0,l.jsx)(m.A.Label,{children:"To repository admins"})]}),(0,l.jsxs)(m.A,{children:[(0,l.jsx)(p.A,{value:"support"}),(0,l.jsx)(m.A.Label,{children:"To GitHub support"})]})]}),"admins"===F&&T,"support"===F&&A]})})})};try{k.displayName||(k.displayName="ReportContentDialog")}catch{}},81962:(e,n,a)=>{a.d(n,{o:()=>d});var l=a(74848),t=a(53526),i=a(96540),r=a(18312),s=a(69487);let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnblockUserFromOrganizationPayload",kind:"LinkedField",name:"unblockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unblockUserFromOrganizationMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unblockUserFromOrganizationMutation",selections:n},params:{id:"3bb2b18124f6d9e474f1e4d67f4d648c",metadata:{},name:"unblockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();o.hash="05b84828fae0f7858c1ccd7347bfbb3e";let d=({contentAuthor:e,organization:n,onClose:a,contentId:d})=>{let c=(0,r.useRelayEnvironment)(),u=(0,i.useCallback)(l=>{"confirm"===l&&function({environment:e,input:{organizationId:n,unblockedUserId:a},onError:l,onCompleted:t}){(0,r.commitMutation)(e,{mutation:o,variables:{input:{organizationId:n,unblockedUserId:a}},onError:e=>l&&l(e),onCompleted:()=>{t?.()}})}({environment:c,input:{unblockedUserId:e.id,organizationId:n.id},onCompleted:()=>(0,s.commitLocalUpdate)(c,e=>{let n=e.get(d);n?.setValue(!0,"pendingUnblock"),n?.setValue(!1,"pendingBlock")})}),a()},[a,c,e.id,n.id,d]);return(0,l.jsxs)(t.K,{title:`Unblock ${e.login} from ${n.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:u,children:["Are you sure you want to unblock ",(0,l.jsx)("strong",{children:e.login})," from ",(0,l.jsx)("strong",{children:n.login}),"?"]})};try{d.displayName||(d.displayName="UnblockUserFromOrgDialog")}catch{}},71238:(e,n,a)=>{a.d(n,{d:()=>i});var l=a(74848),t=a(76373);function i({status:e,oid:n,repo:a,badgeProps:i={},descriptionString:r=""}){let[s,o]=(0,t.ym)(n,a);return e?(0,l.jsx)(t.B6,{disablePopover:!1,size:"small",statusRollup:e,buttonSx:{height:"18px",color:"fg.muted",p:"2px"},combinedStatus:s,descriptionText:r,onWillOpenPopup:o,...i}):null}try{i.displayName||(i.displayName="AsyncChecksStatusBadge")}catch{}},41658:(e,n,a)=>{a.d(n,{N:()=>el,$:()=>et});var l=a(74848),t=a(96540),i=a(76235),r=a(17908),s=a(46636),o=a(47584),d=a(38621),c=a(65481),u=a(55847),m=a(12528),p=a(34164),g=a(5189),f=a(74779);let h={"commit-discussion-comments":"Comment-module__commit-discussion-comments--WaMOe","discussion-comments-rose":"Comment-module__discussion-comments-rose--v1SXb"};var y=a(16497),b=a(34407);let k=()=>(0,l.jsx)("div",{className:"d-flex gap-2",children:(0,l.jsx)("div",{className:"flex-1 border overflow-x-auto rounded-2 borderColor-muted color-shadow-small",children:(0,l.jsxs)("div",{className:"d-flex flex-column gap-2 m-3",children:[(0,l.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,l.jsx)(b.O,{variant:"elliptical",height:"xl",width:"xl"}),(0,l.jsx)(b.O,{variant:"rounded",height:"sm",width:"150px"})]}),[void 0,void 0].map((e,n)=>(0,l.jsx)(b.O,{variant:"rounded",height:"sm",width:"random"},n)),(0,l.jsx)(y.e,{})]})})});try{k.displayName||(k.displayName="CommentLoading")}catch{}var x=a(81874),v=a(77433),C=a(71781),j=a(31786),S=a(15819),_=a(57536),I=a(22368),w=a(79740),F=a(74493),N=a(55833),L=a(25273),T=a(31402),A=a(82431),K=a(38568);let D=(0,t.forwardRef)(({initialMarkdown:e,onCancel:n,onSave:a,referenceId:i,buttonText:r,commentContent:s},o)=>{let[d,c]=(0,t.useState)(!1),u=(0,t.useRef)(null),m=(0,t.useRef)(void 0),p=(0,t.useCallback)(()=>{},[]),{markdownBody:g,resetMarkdownBody:f,markdownValidationResult:h,handleMarkdownBodyChanged:y}=(0,T.x)({commentBoxRef:u,markdownComposerRef:o,onChange:p,onCancel:()=>{},referenceId:i});(0,t.useEffect)(()=>{e&&!g&&y(e)},[e]),(0,t.useEffect)(()=>{if(s&&m.current!==s){y(s),m.current=s;let e=window.setTimeout(()=>{u.current&&(u.current?.scrollIntoView(),u.current?.focus())},0);return()=>{window.clearTimeout(e)}}},[s]),(0,K.N)(()=>{if(u&&u.current){let e=window.setTimeout(()=>{u.current?.focus()},0);return()=>{window.clearTimeout(e)}}},[u]);let b=async()=>{c(!0),await a(g,f),c(!1)},k=(0,A.nN)()||void 0;return(0,l.jsx)(L.h,{ref:u,validationResult:h,disabled:d,onChange:e=>{y(e)},onCancel:()=>{y(""),n?.()},onSave:b,saveButtonText:r,saveButtonTrailingIcon:!1,value:g,teamHovercardsEnabled:!0,fileUploadsEnabled:!0,userSettings:(0,w.X)().commentBoxConfig,subject:k})});function E({comment:e,commitOid:n,onCancel:a,onUpdate:i}){let{editComment:r}=(0,w.X)(),s=(0,t.useRef)(null),o=async n=>{let a=await r(n,e);a.updatedFields&&i({...e,...a.updatedFields})};return(0,l.jsx)(D,{commitOid:n,initialMarkdown:e.body,ref:s,onSave:o,onCancel:a,referenceId:`${n}-${e.id}`,buttonText:"Update comment"})}D.displayName="CommitCommentEditor";try{E.displayName||(E.displayName="UpdateCommitComment")}catch{}function P({comments:e,commit:n,locked:a,deleteComment:t,updateComment:i,setNewCommentContent:r}){return 0===e.length?null:(0,l.jsx)("div",{className:"d-flex flex-column gap-3",children:e.map(e=>(0,l.jsx)(R,{comment:e,commit:n,locked:a,deleteComment:t,updateComment:i,setNewCommentContent:r},e.id))})}function R({comment:e,commit:n,locked:a,deleteComment:i,updateComment:s,setNewCommentContent:o}){let d=(0,r.t)(),[c,u]=(0,t.useState)(!1),[m,p]=(0,t.useState)(e.isHidden),g=(0,t.useRef)(null),{deleteComment:f,hideComment:h,unhideComment:b}=(0,w.X)(),k=async()=>{let n=await f(e.id.toString());"canceled"!==n&&"error"!==n&&"success"===n&&i(e.id)},x=async n=>{let a=await h(e.id.toString(),n);"error"!==a&&"success"===a&&(s({...e,isHidden:!0,minimizedReason:n}),p(!0))},v=async()=>{let n=await b(e.id.toString());"error"!==n&&"success"===n&&(s({...e,isHidden:!1,minimizedReason:null}),p(!1))},C=n.authors.length>0?n.authors[0]?.login:"",j={...(0,F.p)(e,n,d),referenceText:(0,N.F)(n.oid)};return(0,l.jsxs)("div",{className:"border rounded-2",ref:g,id:e.urlFragment,tabIndex:-1,children:[(0,l.jsx)(M,{comment:j,commentAuthorLogin:e.author.login,commentSubjectAuthorLogin:C,commentSubjectType:"commit",avatarUrl:e.author.avatarUrl,isMinimized:m,editComment:()=>{u(!0)},onReplySelect:o,onMinimize:p,navigate:()=>{},hideComment:x,unhideComment:v,deleteComment:k,commentRef:g,showEditHistory:e.viewerCanReadUserContentEdits&&!!e.lastUserContentEdit,commitComment:e}),m?null:c?(0,l.jsx)("div",{className:"m-2",children:(0,l.jsx)(E,{comment:e,commitOid:n.oid,onUpdate:e=>{s(e),u(!1)},onCancel:()=>u(!1)})}):(0,l.jsxs)("div",{className:"d-flex flex-column m-3 gap-3",style:{gap:"12px"},children:[(0,l.jsx)("div",{className:"markdown-body","data-turbolinks":"false",children:(0,l.jsx)(_.G,{disabled:!1,verifiedHTML:e.htmlBody,markdownValue:e.body,onChange:()=>{},onLinkClick:()=>{},teamHovercardsEnabled:!0})}),(0,l.jsx)(t.Suspense,{fallback:(0,l.jsx)(y.e,{}),children:(0,l.jsx)(I.ReactionViewerRelayQueryComponent,{id:e.relayId,subjectLocked:a})})]})]})}function M({hideActions:e,...n}){let a,i;let r=n.commitComment;return n.showEditHistory&&(a=(0,l.jsx)(t.Suspense,{fallback:null,children:(0,l.jsx)(V,{id:r.relayId})}),i=(0,l.jsx)(O,{id:n.comment.id})),(0,l.jsx)(x.v,{lastEditedByMessage:i,editHistoryComponent:a,forceInlineAvatar:!0,...n,actions:e?void 0:(0,l.jsx)(v.p,{...n})})}function V({id:e}){let n=(0,S.f)({id:e});return n?(0,l.jsx)(C.W,{editHistory:n}):null}function O({id:e}){let n=(0,S.f)({id:e});return n?(0,l.jsx)(j._,{editInformation:n}):null}try{P.displayName||(P.displayName="ExistingCommitComments")}catch{}try{R.displayName||(R.displayName="ExistingCommitComment")}catch{}try{M.displayName||(M.displayName="CommitCommentHeader")}catch{}try{V.displayName||(V.displayName="CommitCommentHeaderEditHistory")}catch{}try{O.displayName||(O.displayName="CommitCommentHeaderLastEditedBy")}catch{}var B=a(5796),U=a(38359),$=a(57572),H=a(74144);function z({commitOid:e,locked:n,onClose:a}){let i=(0,r.t)(),{helpUrl:s}=(0,U.X)(),[o,d]=(0,t.useState)(!1),u=n?"Unlock":"Lock",m=async()=>{(await (0,$.DI)(`${(0,B.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/lock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?a(!0):d(!0)},p=async()=>{(await (0,$.lS)(`${(0,B.$Qz)({owner:i.ownerLogin,repo:i.name,commitish:e})}/unlock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?a(!1):d(!0)};return(0,l.jsxs)(H.l,{onClose:()=>a(),width:"large",title:`${u} conversation on this commit`,footerButtons:[{content:`${u} conversation`,buttonType:"danger",sx:{width:"100%"},onClick:n?p:m}],children:[o&&(0,l.jsxs)(c.A,{className:"mb-2",variant:"danger",children:["There was an error ",u.toLocaleLowerCase(),"ing this conversation. Please try again."]}),(0,l.jsxs)("p",{children:[u,"ing the conversation means:"]}),(0,l.jsx)("ul",{className:"ml-4",children:n?(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Everyone"})," will be able to comment on this commit once more."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("li",{children:["Other users ",(0,l.jsx)("strong",{children:"can\u2019t add new comments"})," to this commit."]}),i.isOrgOwned?(0,l.jsxs)("li",{children:["You and other members of teams with\xa0",(0,l.jsx)("a",{href:`${s}/articles/what-are-the-different-access-permissions`,children:"write access"}),"\xa0 to this repository ",(0,l.jsx)("strong",{children:"can still leave comments"})," that others can see."]}):(0,l.jsxs)("li",{children:["You and other collaborators\xa0",(0,l.jsx)("a",{href:"<%= GitHub.help_url %>/articles/what-are-the-different-access-permissions",children:"with access"}),"\xa0to this repository ",(0,l.jsx)("strong",{children:"can still leave comments"})," that others can see."]})]})}),(0,l.jsxs)("p",{className:"mb-0 mt-2",children:["You can always ",n?"lock":"unlock"," this commit again in the future."]})]})}try{z.displayName||(z.displayName="LockConversationDialog")}catch{}var q=a(56176),G=a(38506),W=a(68310),Q=a(88771),X=a(52655),Y=a(62456);function J({commitOid:e,onAddComment:n,onExpandCommentEditor:a,newCommentContent:i,canComment:r,locked:s,repoArchived:c,avatarURL:u}){let m=(0,q.M3)(),{addComment:p}=(0,w.X)(),g=(0,t.useRef)(null),f=async(e,a)=>{let l=await p(e);l.comment&&(n(l.comment),a())},h=(0,W.i)(c,s,m?void 0:(0,l.jsx)(ee,{redirectUrl:o.fV?.href}),"commit");return(0,l.jsx)("div",{className:"d-flex flex-column gap-2 pt-3",children:r?(0,l.jsx)(Z,{commitOid:e,commentEditor:g,onExpandEditor:a,onSave:f,newCommentContent:i,avatarURL:u||X.t.ghostUser.avatarUrl}):(0,l.jsx)(G.P,{icon:d.LockIcon,reason:h})})}function Z(e){let[n,a]=(0,t.useState)(()=>void 0!==e.newCommentContent),[r,s]=(0,t.useState)(e.newCommentContent);n||void 0===e.newCommentContent||r===e.newCommentContent||(a(!0),s(e.newCommentContent));let o="Comment";return n?(0,l.jsx)("div",{id:i.Bq.issueCommentComposer,children:(0,l.jsx)(D,{commitOid:e.commitOid,ref:e.commentEditor,onSave:e.onSave,referenceId:`new-discussion-comment-${e.commitOid}`,commentContent:e.newCommentContent,initialMarkdown:e.newCommentContent,buttonText:o,onCancel:()=>{a(!1)}})}):(0,l.jsxs)("div",{id:i.Bq.issueCommentComposer,className:"d-flex flex-items-center border rounded-2 p-2 gap-2 color-bg-subtle",children:[(0,l.jsx)(Y.r,{src:e.avatarURL,size:20}),(0,l.jsx)(Q.z,{onClick:()=>{a(!0),e.onExpandEditor?.()},children:o})]})}function ee({redirectUrl:e}){return(0,l.jsxs)("span",{children:["Please ",(0,l.jsx)("a",{href:e?`/login?return_to=${e}`:"/login",children:"sign in"})," to comment."]})}try{J.displayName||(J.displayName="NewCommitComment")}catch{}try{Z.displayName||(Z.displayName="CompactEditor")}catch{}try{ee.displayName||(ee.displayName="LoggedOutMessage")}catch{}var en=a(58206);let ea=(0,t.forwardRef)(({commitOid:e,subscribed:n},a)=>{let i;let[s,o]=(0,t.useState)(n),[c,m]=(0,t.useState)(!1),p=(0,r.t)(),g=(0,en.H)("/notifications/thread","post");i=c?`You're now ${s?"subscribed":"unsubscribed"} to this thread.`:s?"You're receiving notifications because you're subscribed to this thread.":"You're not receiving notifications from this thread.";let f=async()=>{let n=new FormData;n.append("repository_id",p.id.toString()),n.append("thread_id",e),n.append("thread_class","Commit"),n.append("id",s?"unsubscribe":"subscribe"),n.append("authenticity_token",g??""),(await (0,$.DI)("/notifications/thread",{method:"POST",body:n})).ok&&(o(!s),m(!0))};return(0,l.jsxs)("div",{className:"d-flex flex-items-center border rounded-2 p-2 gap-2",ref:a,children:[(0,l.jsx)(u.Q,{onClick:f,size:"small",leadingVisual:s?d.BellSlashIcon:d.BellIcon,children:s?"Unsubscribe":"Subscribe"}),(0,l.jsx)("p",{role:"status",className:"f6 fgColor-muted mb-0",children:i})]})});ea.displayName="NotificationsFooter";let el="comments";function et(e){return(0,l.jsx)("div",{className:(0,p.$)("d-flex flex-column gap-2 pt-3",i.mU.commentsContainer,h["commit-discussion-comments"]),id:el,children:(0,t.createElement)(ei,{...e,key:e.commit.oid})})}function ei({commit:e,commentInfo:n}){let a=(0,r.t)(),i=(0,s.i)(),{retry:d,loadMore:m,canLoadMore:p,addComment:y,deleteComment:b,updateComment:x,count:v,comments:C,subscribed:j,providerState:S}=(0,g.y)(),[_,I]=(0,t.useState)(void 0),[w,F]=(0,t.useState)(n.locked),N=(0,t.useMemo)(()=>(0,f.N)(e.oid,a.id),[e.oid,a.id]),L=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(o.cg?.location.hash){let e=o.cg.location.hash.slice(1);if(C.find(n=>n.urlFragment===e)){let n=document.getElementById(e);n&&(n.scrollIntoView(),n.focus())}}},[C]);let T=(0,t.useCallback)(()=>{setTimeout(()=>L.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),0)},[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(er,{commitOid:e.oid,commentCount:v,canLock:n.canLock,locked:w,setLocked:F}),"loading"===S&&(0,l.jsx)(k,{}),"error"===S&&(0,l.jsxs)(c.A,{className:"d-flex flex-justify-between flex-items-center",variant:"danger",children:[(0,l.jsx)("span",{children:"Failed to load comments."}),(0,l.jsx)(u.Q,{onClick:()=>d(),children:"Retry"})]}),"loaded"===S&&p&&(0,l.jsx)(u.Q,{className:"width-full",onClick:()=>m(),children:"Load more comments"}),(0,l.jsx)(P,{comments:C,commit:e,locked:w,deleteComment:b,updateComment:x,setNewCommentContent:I}),N?(0,l.jsx)("div",{className:"text-center",children:[...Array(38)].map((e,n)=>(0,l.jsx)("img",{alt:"rose",src:"/images/icons/emoji/rose.png",className:h["discussion-comments-rose"]},`rose-${n}`))}):null,"loaded"===S||0!==C.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(J,{commitOid:e.oid,onAddComment:y,onExpandCommentEditor:T,newCommentContent:_,canComment:n.canComment,locked:w,repoArchived:n.repoArchived,avatarURL:i?.avatarURL}),i?(0,l.jsx)(ea,{ref:L,commitOid:e.oid,subscribed:j??!1}):null]}):null]})}function er({commitOid:e,commentCount:n,locked:a,setLocked:i,canLock:r}){let[s,o]=(0,t.useState)(!1);return(0,l.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between",children:[(0,l.jsxs)("h2",{className:"sr-only",children:[n," commit comments"]}),(0,l.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,l.jsx)("div",{className:"h4 pr-2",children:"Comments"}),void 0!==n&&(0,l.jsx)(m.A,{children:n})]}),r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u.Q,{leadingVisual:a?d.KeyIcon:d.LockIcon,variant:"invisible",onClick:()=>o(!0),children:[a?"Unlock":"Lock"," conversation"]}),s&&(0,l.jsx)(z,{commitOid:e,locked:a,onClose:e=>{o(!1),void 0!==e&&i(e)}})]})]})}try{et.displayName||(et.displayName="DiscussionComments")}catch{}try{ei.displayName||(ei.displayName="DiscussionCommentsInternal")}catch{}try{er.displayName||(er.displayName="DiscussionCommentsHeader")}catch{}},67984:(e,n,a)=>{a.d(n,{j:()=>d});var l=a(74848),t=a(58423),i=a(34407),r=a(94232),s=a(89169),o=a(82169);function d({commit:e,repo:n,children:a,settings:d,textVariant:c}){let u=(0,o.NO)(e.oid),[m]=(0,r.I)(()=>!1,!0,[]);return(0,l.jsxs)(t.j,{authors:e.authors,committer:e.committer,committerAttribution:e.committerAttribution,onBehalfOf:u?.onBehalfOf,repo:n,includeVerbs:!0,authorSettings:{fontWeight:"normal",fontColor:"fg.muted",avatarSize:16,...d},textVariant:c,children:[!m&&(0,l.jsx)(s.A,{className:"pl-1",datetime:e.committedDate}),m&&(0,l.jsx)(i.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),a]})}try{d.displayName||(d.displayName="CommitAttribution")}catch{}},34214:(e,n,a)=>{a.d(n,{s:()=>m});var l=a(74848),t=a(38621),i=a(93597),r=a(84217),s=a(30729);let o={none:{},bottom:{pb:0},top:{pt:0}},d=()=>(0,l.jsx)(s.A,{icon:t.GitCommitIcon});function c({children:e,leadingVisual:n,clipTimeline:a="none",sx:t}){let r=o[a];return(0,l.jsxs)(i.A.Item,{sx:{py:1,...r,...t},children:[(0,l.jsx)(i.A.Badge,{sx:{backgroundColor:"canvas.default"},children:n??(0,l.jsx)(d,{})}),(0,l.jsx)(i.A.Body,{className:"mt-0",children:e})]})}function u({title:e,as:n,...a}){return(0,l.jsx)(r.A,{as:n,className:"text-normal f5 py-1",...a,children:e})}let m=Object.assign(c,{Heading:u});try{d.displayName||(d.displayName="DefaultLeadingVisual")}catch{}try{c.displayName||(c.displayName="TimelineRowComponent")}catch{}try{u.displayName||(u.displayName="TimelineRowHeading")}catch{}try{m.displayName||(m.displayName="TimelineRow")}catch{}},11977:(e,n,a)=>{a.d(n,{w:()=>o});var l=a(74848),t=a(26514),i=a(70404),r=a(13348),s=a(55833);function o({sha:e,direction:n="s"}){let{sendAnalyticsEvent:a}=(0,i.s)(),{loggingPrefix:o,loggingPayload:d}=(0,r.xe)(),c=(0,r.eX)();return(0,l.jsx)("div",{onClick:()=>{c&&a(`${o}click`,"COPY_SHA_CLICKED",d)},children:(0,l.jsx)(t.T,{textToCopy:e,ariaLabel:`Copy full SHA for ${(0,s.F)(e)}`,tooltipProps:{direction:n},size:"small"})})}try{o.displayName||(o.displayName="CopySHA")}catch{}},37356:(e,n,a)=>{a.d(n,{Z:()=>i});var l=a(74848),t=a(34164);function i({children:e,className:n=""}){return(0,l.jsx)("div",{className:(0,t.$)("color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",n),children:e})}try{i.displayName||(i.displayName="Panel")}catch{}},13348:(e,n,a)=>{a.d(n,{eX:()=>s,xe:()=>o,zq:()=>r});var l=a(74848),t=a(96540);let i=(0,t.createContext)({loggingPayload:void 0,loggingPrefix:void 0});function r({children:e,loggingInfo:n}){return(0,l.jsx)(i.Provider,{value:n,children:e})}function s(){let e=(0,t.useContext)(i);return void 0!==e.loggingPayload&&void 0!==e.loggingPrefix}function o(){return(0,t.useContext)(i)}try{i.displayName||(i.displayName="CommitsLoggingContext")}catch{}try{r.displayName||(r.displayName="CommitsLoggingInfoProvider")}catch{}},82169:(e,n,a)=>{a.d(n,{M2:()=>o,NO:()=>d,UI:()=>i,Xx:()=>r,ej:()=>u,xs:()=>c});var l=a(74848),t=a(96540);let i={deferredCommits:[],renameHistory:null,loading:!0},r={deferredCommits:[],renameHistory:null,loading:!1},s=(0,t.createContext)(i);function o({children:e,deferredData:n}){return(0,l.jsx)(s.Provider,{value:n,children:e})}function d(e){let n=(0,t.useContext)(s),a=n.error,l=n.deferredCommits?.find(n=>n?.oid===e);return a&&void 0===l&&(l={oid:e,statusCheckStatus:void 0}),l}function c(){return(0,t.useContext)(s).loading}function u(){return(0,t.useContext)(s).renameHistory}try{s.displayName||(s.displayName="DeferredCommitDataContext")}catch{}try{o.displayName||(o.displayName="DeferredCommitDataProvider")}catch{}},5189:(e,n,a)=>{a.d(n,{c:()=>c,y:()=>u});var l,t=a(74848),i=a(73218),r=a(5796),s=a(57572),o=a(96540);let d=(0,o.createContext)({comments:[],addComment:i.l,deleteComment:i.l,updateComment:i.l,loadMore:i.l,retry:i.l,canLoadMore:!1,count:0,subscribed:!1,providerState:"initial"});function c({children:e,comments:n=[],commentCount:a=0,canLoadMore:l=!1,subscribed:i=!1,providerState:c="initial",repo:u,commitOid:m}){let[p,g]=(0,o.useState)(n),[f,h]=(0,o.useState)(a),[y,b]=(0,o.useState)(l),[k,x]=(0,o.useState)(c),[v,C]=(0,o.useState)(i);(0,o.useEffect)(()=>{h(a),g(n),b(l),C(i),x(c)},[c]);let j=(0,o.useCallback)(async e=>{x("loading");let n=await (0,s.Sr)((0,r.Mo3)({owner:u.ownerLogin,repo:u.name,commitOid:m,beforeCommentId:e}));if(n.ok){let a=await n.json();e?g(e=>[...a.comments,...e]):g(a.comments),x("loaded"),h(a.count),C(a.subscribed),b(a.canLoadMore)}else x("error")},[u.ownerLogin,u.name,m]),S=(0,o.useCallback)(()=>{let e=p[0];e&&y&&j(e.id.toString())},[y,p,j]),_=(0,o.useCallback)(e=>{g([...p,e]),h((f??0)+1)},[p,f]),I=(0,o.useCallback)(e=>{g(p.filter(n=>n.id!==e)),h((f??0)-1)},[p,f]),w=(0,o.useCallback)(e=>{g(p.map(n=>n.id===e.id?e:n))},[p]),F=(0,o.useMemo)(()=>({addComment:_,canLoadMore:y,comments:p,count:f,deleteComment:I,loadMore:S,retry:j,subscribed:v,providerState:k,updateComment:w}),[_,y,p,f,I,j,S,k,v,w]);return(0,t.jsx)(d.Provider,{value:F,children:e})}function u(){let e=(0,o.useContext)(d);if(!e)throw Error("useDiscussionComments must be used within a DiscussionCommentsProvider");return e}try{d.displayName||(d.displayName="DiscussionCommentsContext")}catch{}try{c.displayName||(c.displayName="DiscussionCommentsProvider")}catch{}try{(l=DiscussionComments).displayName||(l.displayName="DiscussionComments")}catch{}},43732:(e,n,a)=>{a.d(n,{B:()=>c,r:()=>d});var l=a(74848),t=a(73218),i=a(96540);let r=(0,i.createContext)({comments:[],addComments:t.l,findInlineComment:()=>void 0,findInlineCommentWithRelay:()=>void 0,getCommentCountByPath:()=>0,getThreadDataByPathAndPosition:()=>void 0,updateInlineCommentMapWithNewComment:()=>void 0,getInlineCommentInfoByPathAndPosition:()=>void 0});function s(e){return e.reduce((e,n)=>(e.set(`${n.path}::${n.position}`,n),e),new Map)}function o(e){let n=new Map;for(let a in e)if(e.hasOwnProperty(a)){let l=new Map;for(let n in e[a])e[a].hasOwnProperty(n)&&l.set(Number(n),e[a][Number(n)]);n.set(a,l)}return n}function d({children:e,initialFiles:n,initialExpandedThreadId:a,initialInlineComments:t}){let[d,c]=(0,i.useState)(()=>t?Object.values(t).flatMap(e=>Array.from(Object.values(e).flat())):[]),[u,m]=(0,i.useState)(n??[]),[p,g]=(0,i.useState)(()=>n?s(n):new Map),[f,h]=(0,i.useState)(()=>t?o(t):new Map),y=(0,i.useCallback)((e,n,a,l)=>{if(l){let l=f.get(e)?.get(n)??[];l=l.concat(a);let t=f.get(e)?.set(n,l);h(f.set(e,t??new Map)??f)}else{let l=f.get(e)?.set(n,a);h(f.set(e,l??new Map)??f)}},[f]);(0,i.useEffect)(()=>{m(n??[]),g(n?s(n):new Map),h(t?o(t):new Map),c(t?Object.values(t).flatMap(e=>Array.from(Object.values(e).flat())):[])},[n,t]);let b=(0,i.useCallback)((e,n,a)=>{let l=e.map(e=>e.id),t=d.filter(e=>!l.includes(e.id)),i=u.filter(e=>e.path!==n||e.position!==parseInt(a)),r={path:n,position:parseInt(a),count:e.length,threads:[{id:`${n}::${a}`,diffSide:"RIGHT",commentsData:{totalCount:e.length,comments:e.map(e=>({id:e.id,author:{avatarUrl:e?.author?.avatarUrl??"",login:e?.author?.login??"",url:""}}))}}]};c([...t,...e]),m([...i,r]),g(s([...i,r])),y(n,parseInt(a),e,!1)},[u,d,y]),k=(0,i.useCallback)(e=>{if(e)return d.find(n=>n.id===e)},[d]),x=(0,i.useCallback)(e=>d.find(n=>n.relayId===e),[d]),v=(0,i.useCallback)(e=>{let n=0;for(let a of u)a.path===e&&(n+=a.count);return n},[u]),C=(0,i.useCallback)((e,n)=>p.get(`${e}::${n}`),[p]),j=(0,i.useCallback)((e,n)=>f.get(e)?.get(n),[f]),S=(0,i.useMemo)(()=>({comments:d,addComments:b,findInlineComment:k,findInlineCommentWithRelay:x,getCommentCountByPath:v,getThreadDataByPathAndPosition:C,getInlineCommentInfoByPathAndPosition:j,updateInlineCommentMapWithNewComment:y,initialExpandedThreadId:a}),[b,d,k,x,v,C,j,y,a]);return(0,l.jsx)(r.Provider,{value:S,children:e})}function c(){let e=(0,i.useContext)(r);if(!e)throw Error("useInlineComments must be used within a InlineCommentsProvider");return e}try{r.displayName||(r.displayName="InlineCommentsContext")}catch{}try{d.displayName||(d.displayName="InlineCommentsProvider")}catch{}},44639:(e,n,a)=>{a.d(n,{f:()=>ee});var l=a(74848),t=a(91752),i=a(47584),r=a(11499),s=a(46928),o=a(93597),d=a(96540),c=a(4602),u=a(37356);let m={panel:"CommitGroup-module__panel--tvFMx"};var p=a(13080),g=a(76373),f=a(17003),h=a(82091),y=a(30448),b=a(79910),k=a(56495),x=a(44968),v=a(70404),C=a(94232),j=a(13348),S=a(82169),_=a(67984),I=a(5796),w=a(17774),F=a(38621),N=a(55847),L=a(87330),T=a(94977),A=a(42522),K=a(55833),D=a(41658);let E=d.memo(P);function P({repo:e,oid:n}){let a=`browse-repo-${(0,K.F)(n)}`,{sendAnalyticsEvent:t}=(0,v.s)(),{loggingPrefix:i,loggingPayload:r}=(0,j.xe)(),s=(0,j.eX)();return(0,l.jsx)(T.A,{"aria-label":"Browse repository at this point",id:a,direction:"sw",children:(0,l.jsx)("a",{"aria-labelledby":a,href:(0,I.IO9)({repo:e,action:"tree",commitish:n}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-browse-repo",onClick:()=>{s&&t(`${i}click`,"COMMITS_BROWSE_REPOSITORY_AT_THIS_POINT_CLICKED",r)},children:(0,l.jsx)(F.CodeIcon,{})})})}let R=d.memo(M);function M({repo:e,oid:n,path:a}){if(!a)return null;let t=`view-code-${(0,K.F)(n)}`;return(0,l.jsx)(T.A,{"aria-label":"View code at this point",id:t,direction:"sw",children:(0,l.jsx)("a",{"aria-labelledby":t,href:(0,I.nD_)({owner:e.ownerLogin,repo:e.name,commitish:n,filePath:a}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-view-code",children:(0,l.jsx)(F.FileCodeIcon,{})})})}function V({commitUrl:e,oid:n,softNavToCommit:a}){let t={variant:"invisible",size:"small",sx:{fontFamily:"var(--fontStack-monospace)",color:"fg.muted"}};return(0,l.jsx)(T.A,{"aria-label":"View commit details",direction:"s",children:a?(0,l.jsx)(N.Q,{as:w.N,to:e,...t,children:(0,K.F)(n)}):(0,l.jsx)("a",{className:"Button--invisible Button--small Button text-mono",href:e,...t,children:(0,l.jsx)("span",{className:"Button-content",children:(0,l.jsx)("span",{className:"Button-label color-fg-muted",children:(0,K.F)(n)})})})})}function O({showDescription:e,setShowDescription:n,oid:a}){let t=(0,K.F)(a),i=`show-description-${t}`,r=`${e?"Hide":"Show"} description for ${t}`;return(0,l.jsx)(A.m,{id:i,text:r,"aria-label":r,children:(0,l.jsx)(L.K,{icon:F.EllipsisIcon,className:"Button Button--iconOnly Button--invisible Button--small ml-1","data-testid":"commit-row-show-description-button","aria-labelledby":i,"aria-pressed":e,"aria-expanded":e,onClick:a=>{a.preventDefault(),n(!e)}})})}function B({count:e,repo:n,oid:a}){if(!e)return null;let t=`comment-count-${(0,K.F)(a)}`;return(0,l.jsx)(T.A,{"aria-label":`View ${e} commit comment${e>1?"s":""}`,id:t,direction:"sw",children:(0,l.jsx)("a",{"aria-labelledby":t,href:`${(0,I.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:a})}#${D.N}`,className:"Button Button--invisible Button--small","data-testid":"commit-row-comments",children:(0,l.jsxs)("span",{className:"Button-content color-fg-muted",children:[(0,l.jsx)(F.CommentIcon,{}),(0,l.jsx)("span",{className:"Button-label",children:e})]})})})}try{E.displayName||(E.displayName="BrowseRepositoryAtThisPoint")}catch{}try{P.displayName||(P.displayName="WrappedBrowseRepositoryAtThisPoint")}catch{}try{R.displayName||(R.displayName="ViewCodeAtThisPoint")}catch{}try{M.displayName||(M.displayName="WrappedViewCodeAtThisPoint")}catch{}try{V.displayName||(V.displayName="ViewCommitDetails")}catch{}try{O.displayName||(O.displayName="ToggleCommitDescription")}catch{}try{B.displayName||(B.displayName="CommitCommentCount")}catch{}var U=a(32813),$=a(34407),H=a(9916),z=a(71238);function q({deferredData:e}){let{helpUrl:n}=(0,H.D)(),a=(0,S.xs)();return(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)($.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!a&&void 0===e&&(0,l.jsx)($.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!a&&e&&(0,l.jsx)(U.h,{commitOid:e.oid,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:e.signatureInformation?{helpUrl:n,...e.signatureInformation}:void 0})]})}function G({deferredData:e,oid:n,repository:a}){let t=(0,S.xs)(),i="";try{i=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)($.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!t&&void 0===e&&(0,l.jsx)($.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!t&&e?.statusCheckStatus&&(0,l.jsx)("div",{className:"d-none d-sm-flex ml-1",children:"\xb7"}),(0,l.jsx)("div",{className:"d-none d-sm-flex",children:(0,l.jsx)(z.d,{oid:n,status:e?.statusCheckStatus?.state,descriptionString:i,repo:a})})]})}try{q.displayName||(q.displayName="SignedCommitBadge")}catch{}try{G.displayName||(G.displayName="CommitChecksStatusBadge")}catch{}var W=a(11977);let Q={ListItemTitle_0:"CommitRow-module__ListItemTitle_0--g9uVv",ListItem_0:"CommitRow-module__ListItem_0--PkFAi",ListItemMetadata_0:"CommitRow-module__ListItemMetadata_0--MUr_4"},X=(0,d.lazy)(()=>a.e("ui_packages_commits_components_Commits_CommitActionBar_tsx").then(a.bind(a,62919)).then(e=>({default:e.CommitActionBar})));function Y({commit:e,repo:n,path:a,softNavToCommit:t}){let[i,r]=(0,d.useState)(!1),s=(0,d.useRef)(null),[o,c]=(0,g.ym)(e.oid,n),[u,m]=(0,d.useState)(!1),I=(0,S.NO)(e.oid),[w]=(0,C.I)(()=>!1,!0,[]),{sendAnalyticsEvent:F}=(0,v.s)(),{loggingPrefix:N,loggingPayload:L}=(0,j.xe)(),T=(0,j.eX)(),A=()=>{T&&F(`${N}click`,"COMMITS_TITLE_CLICKED",L)};return(0,d.useEffect)(()=>{i&&s.current&&s.current.textContent&&(0,p.i)(s.current.textContent)},[s,i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(f.c,{"data-testid":"commit-row-item","data-commit-link":e.url,title:e.shortMessageMarkdownLink&&!w?(0,l.jsx)(k.kx,{html:e.shortMessageMarkdownLink,onClick:A,containerClassName:Q.ListItemTitle_0,headingClassName:Q.ListItemTitle_0,children:e.bodyMessageHtml&&(0,l.jsx)(O,{showDescription:i,setShowDescription:r,oid:e.oid})}):(0,l.jsx)(k.ao,{value:e.shortMessage,href:e.url,onClick:A,containerClassName:Q.ListItemTitle_0,headingClassName:Q.ListItemTitle_0,children:e.bodyMessageHtml&&(0,l.jsx)(O,{showDescription:i,setShowDescription:r,oid:e.oid})}),metadata:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.V,{children:(0,l.jsx)(B,{oid:e.oid,repo:n,count:I?.commentCount??0})}),(0,l.jsx)(b.V,{className:Q.ListItemMetadata_0,children:(0,l.jsx)(q,{deferredData:I})}),(0,l.jsxs)(b.V,{className:"d-none d-sm-flex px-0 gap-2",variant:"primary",children:[(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsx)(V,{oid:e.oid,commitUrl:e.url,softNavToCommit:t}),(0,l.jsx)(W.w,{sha:e.oid})]}),(0,l.jsx)(R,{repo:n,oid:e.oid,path:a}),(0,l.jsx)(E,{repo:n,oid:e.oid})]})]}),secondaryActions:(0,l.jsx)(d.Suspense,{children:(0,l.jsx)(X,{commit:e,repo:n,path:a,setDialogOpen:m,fetchCheckDetails:c,deferredData:I})}),className:Q.ListItem_0,children:[(0,l.jsx)("div",{className:"px-1"}),(0,l.jsxs)(y.Q,{children:[i&&e.bodyMessageHtml&&(0,l.jsx)(h.U,{children:(0,l.jsx)(x.yx,{ref:s,html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container pb-2 text-mono wb-break-word"})}),(0,l.jsx)(h.U,{children:(0,l.jsx)(_.j,{commit:e,repo:n,children:(0,l.jsx)(G,{repository:n,deferredData:I,oid:e.oid})})})]})]}),I?.statusCheckStatus&&u&&(0,l.jsx)(g.xC,{combinedStatus:o,isOpen:u,onDismiss:()=>{m(!1)}})]})}try{X.displayName||(X.displayName="CommitActionBar")}catch{}try{Y.displayName||(Y.displayName="CommitRow")}catch{}var J=a(34214);function Z({commits:e,title:n,shouldClipTimeline:a,repo:t,currentBlobPath:i="",softNavToCommit:r}){let s=(0,d.useId)();return(0,l.jsxs)(J.s,{clipTimeline:a?"top":"none",children:[(0,l.jsx)(J.s.Heading,{as:"h3",id:s,title:`Commits on ${n}`,"data-testid":"commit-group-title"}),(0,l.jsx)(u.Z,{className:m.panel,children:(0,l.jsx)(c.u,{title:n,titleHeaderTag:"h3",ariaLabelledBy:s,children:e.map(e=>(0,l.jsx)(Y,{commit:e,repo:t,path:i,softNavToCommit:r},e.oid))},n)})]})}try{Z.displayName||(Z.displayName="CommitGroup")}catch{}function ee({leadingContent:e,commitGroups:n,trailingContent:a,deferredCommitData:c=S.Xx,repository:u,currentBlobPath:m,loggingPayload:p,loggingPrefix:g,shouldClipTimeline:f=!0,softNavToCommit:h=!1}){let y=(0,d.useRef)(0),b=(0,d.useRef)(null),k=(0,d.useRef)(null),x=(0,d.useRef)(!1),v=(0,d.useRef)([]),C=(0,s.Z)(),_=e=>{"commit-diff-view:tab-forward"===e.commandId&&(b.current=k.current,k.current=i.XC?.activeElement??null,x.current=!1),"commit-diff-view:tab-backward"===e.commandId&&i.XC?.activeElement?.hasAttribute("data-commit-link")&&!x.current&&b.current&&(b.current.focus(),k.current=b.current),"commit-diff-view:tab-backward"===e.commandId&&(x.current=!0)},I=e=>{if(!(0,t.zw)()&&("commit-diff-view:go-down-commit"===e.commandId||"commit-diff-view:go-up-commit"===e.commandId))return;let n=1;for(let e=0;e<v.current.length;e++)v.current[e]?.contains(i.XC?.activeElement)&&(n=e+1);let a=!1;if(("commit-diff-view:go-up-commit"===e.commandId||"commit-diff-view:go-up-commit-arrow"===e.commandId)&&(a=!0),y.current!==n)y.current=n;else{let e=v.current[a?n-2:n];e?.focus(),e?.focus(),y.current=a?n-1:n+1}};return(0,d.useEffect)(()=>{let e=setTimeout(()=>{let e=document.querySelectorAll('[id*="-list-view-node-"]');v.current=Array.from(e)},0);return()=>clearTimeout(e)},[n]),(0,l.jsx)(S.M2,{deferredData:c,children:(0,l.jsx)(j.zq,{loggingInfo:{loggingPayload:p,loggingPrefix:g},children:(0,l.jsxs)(o.A,{clipSidebar:!0,onKeyDown:e=>{if("Enter"===e.key){let n=i.XC?.activeElement?.hasAttribute("data-commit-link")?i.XC?.activeElement?.getAttribute("data-commit-link"):void 0;n&&(e.ctrlKey||e.metaKey?i.cg?.open(n,"_blank"):C(n))}},children:[e,(0,l.jsx)(r.tL,{commands:{"commit-diff-view:go-down-commit-arrow":I,"commit-diff-view:go-down-commit":I,"commit-diff-view:go-up-commit-arrow":I,"commit-diff-view:go-up-commit":I,"commit-diff-view:tab-forward":_,"commit-diff-view:tab-backward":_},triggerOnDefaultPrevented:!0,children:n.map((e,n)=>(0,l.jsx)(Z,{title:e.title,commits:e.commits,shouldClipTimeline:f&&0===n,currentBlobPath:m,repo:u,softNavToCommit:h},e.title))}),a]})})})}try{ee.displayName||(ee.displayName="Commits")}catch{}},47938:(e,n,a)=>{a.d(n,{M:()=>u});var l=a(74848),t=a(76797),i=a(73218),r=a(38621),s=a(67138),o=a(68593),d=a(37356);let c={timeout:{description:"Try reloading the page, or if the problem persists, view the history locally using this command:",heading:"Commit history cannot be loaded",icon:(0,l.jsx)(r.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"}),showTextInput:!0},unavailable:{description:"There isn't any commit history to show here.",heading:"No commits history",icon:(0,l.jsx)(r.GitCommitIcon,{size:"medium"}),showTextInput:!1}};function u({timeoutMessage:e,unavailableMessage:n}){let a=c[""!==e?"timeout":"unavailable"],u=n??a.description;return(0,l.jsx)(d.Z,{children:(0,l.jsx)("div",{"data-hpc":!0,children:(0,l.jsxs)(o.A,{border:!1,spacious:!0,children:[(0,l.jsx)(o.A.Visual,{children:a.icon}),(0,l.jsx)(o.A.Heading,{children:a.heading}),(0,l.jsx)(o.A.Description,{children:u}),a.showTextInput&&(0,l.jsx)(s.A,{"aria-label":"View commit history locally command",className:"d-flex flex-justify-center mt-2",monospace:!0,onChange:i.l,readOnly:!0,size:"large",trailingAction:(0,l.jsx)(s.A.Action,{onClick:()=>(0,t.D)(e),icon:r.CopyIcon,"aria-label":"Copy to clipboard",className:"fgColor-muted"}),value:e})]})})})}try{u.displayName||(u.displayName="CommitsBlankState")}catch{}},62964:(e,n,a)=>{a.d(n,{q:()=>p});var l=a(74848),t=a(78026),i=a(61663),r=a(94232),s=a(96540),o=a(5796),d=a(57572);async function c(e,n){if(!n)return;let a=new FormData;a.set("file_tree_visible",e?"true":"false"),(0,d.DI)((0,o.h6D)(n),{method:"PUT",body:a,headers:{Accept:"application/json"}})}let u={sm:i.Gy.small,md:i.Gy.medium,lg:i.Gy.large},m={size:"medium",mobileBreakpoint:"md"};function p(e,n,a,o){let d={...m,...o},[p]=(0,r.I)(()=>!1,!0,[]),g=(0,s.useRef)(null),f=(0,s.useRef)(null),h=u[d.mobileBreakpoint??"md"],[y,b]=(0,s.useState)(n),[k,x]=(0,s.useState)(!1),v=(0,s.useCallback)(()=>{(0,i.nn)(window.innerWidth)<=h?(x(!0),requestAnimationFrame(()=>f.current?.focus())):(b(!0),c(!0,a),requestAnimationFrame(()=>g.current?.focus()))},[h,a]),C=(0,s.useCallback)(()=>{(0,i.nn)(window.innerWidth)<=h?(x(!1),requestAnimationFrame(()=>f.current?.focus())):(b(!1),c(!1,a),requestAnimationFrame(()=>g.current?.focus()))},[h,a]),j=(0,s.useMemo)(()=>(0,l.jsx)(t.L,{expanded:y,alignment:"left",ariaLabel:y?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:g,onToggleExpanded:()=>{y?C():v()},className:`d-none d-${d.mobileBreakpoint}-flex position-relative`,size:d.size}),[y,e,d.mobileBreakpoint,d.size,C,v]),S=(0,s.useMemo)(()=>(0,l.jsx)(t.L,{expanded:k,alignment:"left",ariaLabel:k?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:f,onToggleExpanded:()=>{k?C():v()},className:`d-${d.mobileBreakpoint}-none position-relative`,size:d.size}),[k,e,d.mobileBreakpoint,d.size,C,v]);return{splitPagePaneHidden:p&&!n,splitPageContentHidden:{narrow:k,regular:!1},isTreeExpanded:y,isMobileTreeExpanded:k,expandTree:v,collapseTree:C,treeToggleElement:(0,s.useMemo)(()=>(0,l.jsxs)(l.Fragment,{children:[S,j]}),[S,j]),treeToggleRef:g}}},94144:(e,n,a)=>{a.d(n,{t:()=>u});var l,t=a(74848),i=a(38621),r=a(34614),s=a(75177),o=a(30729),d=a(96540),c=a(9080);function u({contributingFileUrl:e,securityPolicyUrl:n,codeOfConductFileUrl:a,supportFileUrl:l,sx:u}){return!(0,c.k)()&&(e||n||a||l)?(0,t.jsxs)(s.A,{"data-testid":"contributor-footer",sx:{display:"flex",alignItems:"flex-start",gap:1,pt:2,color:"fg.muted",fontSize:0,...u},children:[(0,t.jsx)(o.A,{icon:i.InfoIcon,sx:{mt:"1px"}}),(0,t.jsxs)("div",{"data-testid":"contributor-footer-text",children:[(0,t.jsx)("span",{children:"Remember, contributions to this repository should follow its "}),(0,t.jsx)("span",{children:(0,t.jsx)(()=>{let i=[];if(e&&i.push((0,t.jsx)(r.A,{underline:!0,href:e,children:"contributing guidelines"})),n&&i.push((0,t.jsx)(r.A,{underline:!0,href:n,children:"security policy"})),a&&i.push((0,t.jsx)(r.A,{underline:!0,href:a,children:"code of conduct"})),l&&i.push((0,t.jsx)(r.A,{underline:!0,href:l,children:"Support"})),1===i.length)return(0,t.jsx)(t.Fragment,{children:i.pop()});let s=i.pop();return(0,t.jsxs)(t.Fragment,{children:[i.map((e,n)=>(0,t.jsxs)(d.Fragment,{children:[e,(0,t.jsx)("span",{children:n!==i.length-1?", ":" "})]},n)),(0,t.jsxs)("span",{children:["and ",s]})]})},{})}),(0,t.jsx)("span",{children:"."})]})]}):null}try{u.displayName||(u.displayName="ContributorFooter")}catch{}try{(l=Links).displayName||(l.displayName="Links")}catch{}},22025:(e,n,a)=>{a.d(n,{U:()=>u});var l=a(74848),t=a(50064),i=a(47584),r=a(75177),s=a(96540),o=a(61445),d=a(14614),c=a(97745);function u({batchPending:e,batchingEnabled:n,commentBoxConfig:a,condensed:u,fileLevelComment:m,filePath:p,focusOnMount:g,isReplying:f,lineNumber:h,onAddComment:y,onCancelComment:b,onPersistedCommentExists:k,quotedText:x="",side:v,subjectId:C,threadId:j,suggestedChangesConfig:S}){let[_,I]=(0,s.useState)(x),[w,F]=(0,s.useState)(!1),[N,L]=(0,s.useState)(),T=(0,s.useRef)(null),A=(0,s.useRef)(null),{persistCommentToStorage:K,removePersistedCommentFromStorage:D}=(0,o.L)({diffSide:v,filePath:p,line:h,subjectId:C,threadId:j,handlePersistedCommentExists:({text:e})=>{e&&(I(e),k?.())},fileLevelComment:!!m});(0,s.useEffect)(()=>{if(g){let e=setTimeout(()=>{if(A.current&&(i.XC||i.cg)){let e=A.current,n=e.getBoundingClientRect(),a=i.XC?.documentElement.clientHeight||0;if(!(n.top>=0&&n.bottom<=(i.cg?.innerHeight||a))){let l=n.top,t=i.XC?.documentElement.getBoundingClientRect().top||0,r=e.clientHeight*(2/3);i.cg?.scrollTo({top:l-t-2/3*a+r,behavior:"smooth"})}}T.current?.focus()},100);return()=>{window.clearTimeout(e)}}},[g]);let E=({submitBatch:e})=>{if(w)return;F(!0),L(void 0);let n=(0,d.u)(_,S?.sourceContentFromDiffLines??"");if(!n.isValid){L(n.errorMessage),F(!1);return}y?.({commentText:_,onCompleted(){F(!1),M()},onError(e){F(!1);let n="Failed to save comment";e.message&&(n=`${n}: ${e.message}`),L(n)},submitBatch:e})},P=()=>E({submitBatch:!1}),R=()=>E({submitBatch:!0}),M=()=>{D(),I(""),b?.()},V={footer:{justifyContent:f?"end":"space-between","> div:first-child":{display:u||f?"none":"flex"},...u&&{"> div:last-child":{display:"flex",flexDirection:"column",width:"100%"}}}};return(0,l.jsx)(r.A,{sx:{display:"flex",flexDirection:"column",fieldset:{minWidth:0,width:["100%"]}},children:(0,l.jsxs)(c.S,{ref:T,label:"Add diff comment",sx:V,value:_,onChange:e=>{L(void 0),K({text:e}),I(e)},onPrimaryAction:n?P:R,userSettings:a,suggestedChangesConfig:S,markdownErrorMessage:N,children:[b&&(0,l.jsx)(t.x,{disabled:w,sx:{py:1,px:2},variant:"default",onClick:M,children:"Cancel"}),!e&&(0,l.jsx)(t.x,{disabled:w||!_.length,sx:{py:1,px:2},variant:n?"default":"primary",onClick:R,ref:A,children:f?"Reply":"Comment"}),n&&(0,l.jsx)(t.x,{disabled:w||!_.length,sx:{py:1,px:2},variant:"primary",onClick:P,children:e?"Add review comment":"Start a review"})]})})}try{u.displayName||(u.displayName="AddCommentEditor")}catch{}},33563:(e,n,a)=>{a.d(n,{Y:()=>f});var l=a(74848),t=a(62456),i=a(44968),r=a(38621),s=a(52464),o=a(30631),d=a(55847),c=a(34164),u=a(42389);let m={annotation:"Annotation-module__annotation--YCi6_",annotationSource:"Annotation-module__annotationSource--dVVXf",annotationMessage:"Annotation-module__annotationMessage--SE4MR"};var p=a(82126);let g={[u.U.Failure]:(0,l.jsx)(r.StopIcon,{className:"fgColor-danger"}),[u.U.Warning]:(0,l.jsx)(r.AlertIcon,{className:"fgColor-attention"}),[u.U.Notice]:(0,l.jsx)(r.InfoIcon,{className:"fgColor-muted"})};function f({annotation:e}){return(0,l.jsxs)("div",{className:(0,c.$)("p-3 bgColor-default",p.GF[e.annotationLevel].borderColor,m.annotation),children:[(0,l.jsxs)("div",{className:"d-flex flex-items-center mb-2",children:[g[e.annotationLevel],(0,l.jsx)(s.A,{weight:"semibold",className:"fgColor-muted pl-2",size:"small",children:p.GF[e.annotationLevel].ariaLabel})]}),(0,l.jsx)("div",{className:"ml-4",children:e.title&&(0,l.jsx)(s.A,{weight:"semibold",size:"medium",className:p.GF[e.annotationLevel].primaryColorClass,children:e.title})}),(0,l.jsx)("div",{className:"mb-3 mt-1 ml-4",children:e.message&&(0,l.jsx)(i.mo,{html:e.message,className:m.annotationMessage})}),(0,l.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between ml-4",children:[(0,l.jsxs)("div",{className:m.annotationSource,children:[(0,l.jsx)(t.r,{src:e.appAvatarUrl,alt:e.appAvatarAltText}),(0,l.jsxs)(o.A,{className:"ml-2",maxWidth:"300px",inline:!0,title:`${e.checkSuiteName} / ${e.checkRun.name}`,children:[(0,l.jsx)(s.A,{weight:"semibold",size:"small",children:e.checkSuiteName})," ","/ ",(0,l.jsx)(s.A,{size:"small",children:e.checkRun.name})]})]}),e.checkRun.detailsUrl&&(0,l.jsx)(d.Q,{as:"a",href:e.checkRun.detailsUrl,size:"small",children:"View details"})]})]})}try{f.displayName||(f.displayName="Annotation")}catch{}},82126:(e,n,a)=>{a.d(n,{GF:()=>d,S:()=>o,Xh:()=>r});var l=a(74848),t=a(38267),i=a(42389);function r({annotationLevel:e,...n}){let{icon:a,...t}=d[e];return function({fill:e,stroke:n,ariaLabel:a,svgHtml:t,className:i}){return(0,l.jsx)("svg",{"aria-label":a,className:i,fill:e,height:"24",stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",style:{boxShadow:"none"},viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:t})}({...a,...t,...n})}let s=(0,t.i7)(["0%{opacity:0;}100%{opacity:1;}"]),o=(0,t.Ay)(r).withConfig({displayName:"AnnotationIcon__AnimatedAnnotationIcon",componentId:"sc-5b4ebd36-0"})(["animation:"," 0.1s ease-in;"],s),d={[i.U.Failure]:{priority:1,ariaLabel:"Check failure",primaryColor:"danger.fg",primaryColorClass:"fgColor-danger",borderColor:"borderColor-danger-emphasis",icon:{fill:"var(--bgColor-danger-emphasis, var(--color-danger-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),(0,l.jsx)("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]})}},[i.U.Warning]:{priority:2,ariaLabel:"Check warning",primaryColor:"attention.fg",primaryColorClass:"fgColor-attention",borderColor:"borderColor-attention-emphasis",icon:{fill:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,l.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]})}},[i.U.Notice]:{priority:3,ariaLabel:"Check notice",primaryColor:"fg.muted",primaryColorClass:"fgColor-muted",borderColor:"fgColor-muted",icon:{fill:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,l.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,l.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"8"})]})}}};try{r.displayName||(r.displayName="AnnotationIcon")}catch{}try{o.displayName||(o.displayName="AnimatedAnnotationIcon")}catch{}},80765:(e,n,a)=>{a.d(n,{$:()=>b});var l=a(74848),t=a(70404),i=a(45996),r=a(69676),s=a(82678),o=a(75177),d=a(63867),c=a(73451),u=a(67138),m=a(19647),p=a(74144),g=a(96540);function f({children:e,footerButtons:n}){let{containerRef:a}=(0,s.G)({bindKeys:r.z0.ArrowHorizontal|r.z0.Tab,focusInStrategy:"closest"});return n?(0,l.jsx)(p.l.Footer,{ref:a,children:(0,l.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsx)(o.A,{sx:{display:"flex",flexDirection:"row",gap:2,justifyContent:"flex-end"},children:(0,l.jsx)(p.l.Buttons,{buttons:n})}),e]})}):null}let h={CHANGE_COMMIT_MESSAGE:"CHANGE_COMMIT_MESSAGE",CHANGE_EXTENDED_DESCRIPTION:"CHANGE_EXTENDED_DESCRIPTION"};function y(e,n){switch(n.type){case h.CHANGE_COMMIT_MESSAGE:return{...e,commitMessage:n.payload};case h.CHANGE_EXTENDED_DESCRIPTION:return{...e,extendedDescription:n.payload};default:return console.error("Unknown suggested change action."),e}}function b({authorLogins:e,batchSize:n,onClose:a,onCommit:r}){let s=(0,i.A)(),{sendAnalyticsEvent:b}=(0,t.s)(),[k,x]=(0,g.useState)(!1),[v,C]=(0,g.useState)(),[j,S]=(0,g.useReducer)(y,{commitMessage:1===e.length?`Apply suggestion from @${e[0]}`:1===new Set(e).size?`Apply suggestions from @${e[0]}`:"Apply suggestions from code review",extendedDescription:""}),_=(0,g.useCallback)((e,n,a)=>{if(!s())return;let l="There was an error trying to commit changes";a?l+=`: ${a}`:l+=".",x(!1),C(l)},[s]),I=(0,g.useCallback)(()=>{s()&&(x(!1),v&&C(void 0))},[v,s]),w=(0,g.useCallback)(()=>{k||(x(!0),b("comments.commit_suggestion","COMMIT_SUGGESTION_DIALOG_BUTTON",{batchSize:n}),r(`${j.commitMessage}

${j.extendedDescription}`,_,I))},[n,j.commitMessage,j.extendedDescription,I,_,k,r,b]);return(0,l.jsxs)(p.l,{title:"Apply suggestion",renderFooter:()=>(0,l.jsx)(f,{footerButtons:[{content:"Cancel",onClick:a},{content:(0,l.jsxs)(o.A,{as:"span",sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:["Commit changes",k&&(0,l.jsx)(d.A,{size:"small",sx:{ml:1}})]}),onClick:w,buttonType:"primary"}],children:v&&(0,l.jsx)(c.A.Validation,{sx:{mt:2,pt:1,justifyContent:"flex-end"},variant:"error",children:v})}),onClose:a,children:[(0,l.jsxs)(c.A,{sx:{mb:2},children:[(0,l.jsx)(c.A.Label,{children:"Commit message"}),(0,l.jsx)(u.A,{block:!0,name:"commit_message",onChange:e=>S({type:h.CHANGE_COMMIT_MESSAGE,payload:e.target.value}),value:j.commitMessage})]}),(0,l.jsxs)(c.A,{children:[(0,l.jsx)(c.A.Label,{children:"Extended description (optional)"}),(0,l.jsx)(m.Ay,{block:!0,rows:3,placeholder:"Add an optional description...",onChange:e=>S({type:h.CHANGE_EXTENDED_DESCRIPTION,payload:e.target.value}),value:j.extendedDescription})]})]})}try{f.displayName||(f.displayName="DialogFooter")}catch{}try{b.displayName||(b.displayName="ApplySuggestionDialog")}catch{}},97745:(e,n,a)=>{a.d(n,{S:()=>s});var l=a(74848),t=a(25273),i=a(96540),r=a(38061);let s=(0,i.forwardRef)(({children:e,...n},a)=>{let i=(0,r.n)();return(0,l.jsx)(t.h,{...n,ref:a,placeholder:"Leave a comment",actions:e,subject:i??void 0,showLabel:!1})});s.displayName="ConversationCommentBox"},94493:(e,n,a)=>{a.d(n,{H:()=>g});var l=a(74848),t=a(88771),i=a(47584),r=a(70404),s=a(75177),o=a(96540),d=a(93345),c=a(70283),u=a(22025),m=a(8187),p=a(78869);function g({batchingEnabled:e,batchPending:n,commentAnchorPrefix:a,commentingImplementation:g,commentsConnectionId:f,filePath:h,hideDiffPreview:y,onRefreshThread:b,enterDialogMode:k,repositoryId:x,subject:v,subjectId:C,tabSize:j,thread:S,threadsConnectionId:_,shouldLimitHeight:I=!0,suggestedChangesConfig:w,viewerData:F,ghostUser:N}){let[L,T]=(0,o.useState)(!1),[A,K]=(0,o.useState)(void 0),{sendAnalyticsEvent:D}=(0,r.s)(),{addThreadReply:E}=g,P=(0,o.useRef)(null),R=e=>{K(e),T(!0)};if(null===S.commentsData.comments||S.commentsData.comments.length<1)return null;let M=(0,c.Lm)(S),V="LINE"===S.subjectType?{lineRange:M}:void 0;return(0,l.jsx)("div",{"data-testid":"review-thread",children:(0,l.jsxs)(s.A,{sx:I?{maxHeight:"40vh",overflowY:"auto"}:{},children:[!y&&S.isOutdated&&(0,l.jsx)(p.i,{subject:S.subject,tabSize:j??4}),S.commentsData.comments.map((e,n)=>(0,l.jsx)(m.U,{enterDialogMode:k,isAnchorable:!0,index:n,isFirstComment:0===n,isLastChild:n===S.commentsData.comments.length-1,anchorPrefix:a,comment:e,commentConnectionId:S.commentsData.__id,commentingImplementation:g,filePath:h,isOutdated:S.isOutdated,repositoryId:x,subject:v,subjectId:C,threadId:S.id,onRefreshThread:b,onQuoteReply:R,threadCommentCount:S.commentsData.comments.length,threadsConnectionId:_,isThreadResolved:!!S.isResolved,suggestedChangesConfig:w,applySuggestedChangesValidationData:V,viewerData:F,ghostUser:N},e.id)),S.viewerCanReply&&(0,l.jsxs)(s.A,{sx:{borderBottomLeftRadius:2,borderBottomRightRadius:2,p:2},children:[L&&(0,l.jsx)(u.U,{batchingEnabled:e,batchPending:n,commentBoxConfig:g.commentBoxConfig,condensed:!1,fileLevelComment:!0,filePath:h,focusOnMount:!0,isReplying:!0,onCancelComment:()=>{T(!1),D("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON"),i.cg?.requestAnimationFrame(()=>P.current?.focus())},repositoryId:x,quotedText:A,subjectId:C,threadId:S.id,onAddComment:({commentText:e,onCompleted:n,onError:a,submitBatch:l})=>{let t=[];S.commentsData.__id&&t.push(S.commentsData.__id),f&&t.push(f),E({commentsConnectionIds:t,filePath:h,thread:S,text:e,submitBatch:l,onCompleted:e=>{e&&(0,d.p)(e.toString()),n?.(),b?.(S.id)},onError:a,threadsConnectionId:_}),D("comments.add","ADD_COMMENT_BUTTON")},suggestedChangesConfig:w}),!L&&(0,l.jsx)(t.z,{ref:P,onClick:()=>{D("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),T(!0)},children:"Write a reply"})]})]})})}try{g.displayName||(g.displayName="ReviewThread")}catch{}},8187:(e,n,a)=>{a.d(n,{U:()=>H});var l=a(74848),t=a(25273),i=a(81874),r=a(77433),s=a(52655),o=a(73218),d=a(36172),c=a(16497),u=a(22368),m=a(44968),p=a(47584),g=a(67136),f=a(75177),h=a(74144),y=a(96540),b=a(42242),k=a(93345),x=a(61445),v=a(14614),C=a(97745),j=a(38568),S=a(40961),_=a(70283),I=a(56126),w=a(70404),F=a(55847);function N({commentingImplementation:e,suggestedChange:n}){let{sendAnalyticsEvent:a}=(0,w.s)();return(0,l.jsx)(f.A,{sx:{display:"flex",flexDirection:"row-reverse"},children:(0,l.jsx)(F.Q,{variant:"primary",onClick:()=>{a("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON"),e.addSuggestedChangeToPendingBatch(n)},children:"Add suggestion to batch"})})}try{N.displayName||(N.displayName="AddToExistingBatch")}catch{}var L=a(38621),T=a(91321),A=a(87330),K=a(89323),D=a(8338);let E={addSuggestionToBatch:{text:"Add suggestion to batch"},applySuggestion:{text:"Apply suggestion"}};function P({commentingImplementation:e,onOpenDialog:n,suggestedChange:a}){let{sendAnalyticsEvent:t}=(0,w.s)(),[i,r]=(0,y.useState)(E.addSuggestionToBatch),[s,o]=(0,y.useState)(!1),d=(0,y.useRef)(null),c=(0,y.useRef)(null),u=()=>o(!s),{addSuggestedChangeToPendingBatch:m}=e,p=(0,y.useCallback)(()=>{i===E.addSuggestionToBatch&&(m(a),t("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")),i===E.applySuggestion&&n(c)},[m,n,i,t,a]);return(0,l.jsx)(f.A,{sx:{display:"flex",flexDirection:"row-reverse"},children:(0,l.jsxs)(T.A,{children:[(0,l.jsx)(F.Q,{variant:"primary",onClick:p,ref:c,children:i.text}),(0,l.jsx)(A.K,{unsafeDisableTooltip:!0,ref:d,"aria-haspopup":"true","aria-label":"More suggestion batching options",icon:L.TriangleDownIcon,size:"medium",variant:"primary",onClick:u}),(0,l.jsx)(K.W,{anchorRef:d,open:s,onOpenChange:u,children:(0,l.jsx)(K.W.Overlay,{width:"medium",children:(0,l.jsx)(D.l,{selectionVariant:"single",children:Object.keys(E).map(e=>{let n=E[e];return(0,l.jsx)(D.l.Item,{selected:i===n,onSelect:()=>r(n),children:n.text},e)})})})})]})})}try{P.displayName||(P.displayName="ApplyOrAddToBatch")}catch{}var R=a(80765),M=a(52464);function V({reason:e,sx:n}){return(0,l.jsx)(f.A,{sx:{m:2,...n},children:(0,l.jsx)(M.A,{as:"small",sx:{color:"fg.muted"},children:e})})}try{V.displayName||(V.displayName="CodeSuggestionUnavailable")}catch{}var O=a(47139);function B({commentingImplementation:e,onOpenDialog:n,suggestedChange:a}){let t=(0,y.useRef)(null),i=(0,y.useCallback)(()=>{n(t)},[n]),r=e.pendingSuggestedChangesBatch.length,{sendAnalyticsEvent:s}=(0,w.s)();return(0,l.jsxs)(f.A,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[(0,l.jsx)(O.A,{variant:"attention",sx:{my:"auto"},children:"Pending in batch"}),(0,l.jsxs)(f.A,{sx:{display:"flex",gap:2},children:[(0,l.jsx)(F.Q,{size:"medium",variant:"danger",onClick:()=>{e.removeSuggestedChangeFromPendingBatch(a),s("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},children:"Remove from batch"}),(0,l.jsx)(F.Q,{ref:t,size:"medium",count:r,variant:"primary",onClick:i,children:`Apply suggestion${r>1?"s":""}`})]})]})}try{B.displayName||(B.displayName="CommitOrRemoveFromBatch")}catch{}function U({commentingImplementation:e,suggestedChange:n}){let{setIsDialogOpen:a}=(0,I.W)(),[t,i]=(0,y.useState)(!1),r=(0,y.useRef)(void 0),{pendingSuggestedChangesBatch:s,submitSuggestedChanges:o}=e,d=(0,_.c0)(n,s),c=0===s.length,{isValid:u,reason:m}=(0,_.EJ)(n,s),p=(0,y.useMemo)(()=>d?s:[n],[d,s,n]),g=(0,y.useCallback)(e=>{i(e),a?.(e)},[a]),h=(0,y.useCallback)(()=>{if(g(!1),r.current){let e=r.current.current;setTimeout(()=>e?.focus())}},[g]),b=(0,y.useCallback)(e=>{g(!0),r.current=e},[g,r]),k=(0,y.useCallback)((e,n,a)=>{o({suggestedChanges:p,commitMessage:e,onCompleted:()=>{h(),a()},onError:n})},[h,o,p]);return(0,l.jsxs)(f.A,{sx:{p:2,borderTop:"1px solid",borderColor:"border.default"},children:[d&&(0,l.jsx)(B,{commentingImplementation:e,suggestedChange:n,onOpenDialog:b}),!d&&!u&&m&&(0,l.jsx)(V,{reason:m,sx:{m:0}}),!d&&c&&(0,l.jsx)(P,{commentingImplementation:e,suggestedChange:n,onOpenDialog:b}),!d&&u&&!c&&(0,l.jsx)(N,{commentingImplementation:e,suggestedChange:n}),t&&(0,l.jsx)(R.$,{authorLogins:p.map(e=>e.authorLogin),batchSize:p.length,onClose:h,onCommit:k})]})}try{U.displayName||(U.displayName="CodeSuggestionActions")}catch{}function $({applySuggestedChangesValidationData:e,comment:n,commentBodyRef:a,commentingImplementation:t,filePath:i,isOutdated:r,isThreadResolved:s,subject:o,suggestedChangesConfig:d,threadId:c,viewerData:u}){let m=function(e,n,a,l,t){let[i,r]=(0,y.useState)();return(0,j.N)(()=>{if(!e.current||"LINE"!==n.subjectType)return;let i=[...e.current.getElementsByClassName("js-apply-changes")];if(i.length>0){let e=[];for(let r of i){let i=r?.closest("div.js-suggested-changes-blob");if(!i)continue;let s=[...i.querySelectorAll(".js-blob-code-addition")];t.lineRange&&e.push({authorLogin:n.author?.login??"ghost",commentId:n.id,path:a,ref:r,suggestion:s.map(e=>e.textContent),lineRange:t.lineRange,threadId:l})}r(e)}},[t.lineRange,n.author?.login,n.bodyHTML,n.id,n.subjectType,e,a,l]),i}(a,n,i,c,e);return(0,l.jsx)(l.Fragment,{children:m?.length?m.map(a=>{let{isValid:i,reason:c}=(0,_.o_)({suggestedChange:a,isOutdated:r,isPending:"PENDING"===n.state,isResolved:s,pullRequestIsClosed:o?.state!=="OPEN",pullRequestIsInMergeQueue:!!o?.isInMergeQueue,userCanApplySuggestion:!!u?.viewerCanApplySuggestion,applySuggestedChangesValidationData:e,suggestedChangesConfig:d});return!i&&c?(0,S.createPortal)((0,l.jsx)(V,{reason:c}),a.ref):(0,S.createPortal)((0,l.jsx)(U,{commentingImplementation:t,suggestedChange:a}),a.ref)}):null})}try{$.displayName||($.displayName="SuggestedChangeView")}catch{}function H({isAnchorable:e=!1,index:n=0,isLastChild:a,isOutdated:j,isThreadResolved:S,anchorPrefix:_="r",comment:I,commentingImplementation:w,filePath:F,hideActions:N,isFirstComment:L=!1,enterDialogMode:T=o.l,onRefreshThread:A,onQuoteReply:K=o.l,subjectId:D,subject:E,threadCommentCount:P,threadId:R,threadsConnectionId:M,suggestedChangesConfig:V,applySuggestedChangesValidationData:O,viewerData:B,ghostUser:U=s.t.ghostUser,skipReactions:H=!1}){let{addToast:z}=(0,g.Y6)(),[q,G]=(0,y.useState)(!1),[W,Q]=(0,y.useState)(I.isHidden),[X,Y]=(0,y.useState)(I.body),[J,Z]=(0,y.useState)(!1),[ee,en]=(0,y.useState)(),{persistCommentToStorage:ea,removePersistedCommentFromStorage:el}=(0,x.L)({subjectId:D,filePath:F,fileLevelComment:"FILE"===I.subjectType,threadId:I.id,handlePersistedCommentExists:({text:e})=>{e&&Y(e)}}),{editComment:et,deleteComment:ei,hideComment:er,unhideComment:es,reactToComment:eo,lazyFetchReactionGroups:ed}=w,ec=(0,y.useRef)(null),eu=(0,y.useRef)(null),{isInDialogMode:em}=(0,b.q)(),ep=()=>{ec.current?.focus()};(0,y.useEffect)(()=>{if(q){let e=window.setTimeout(ep);return()=>{window.clearTimeout(e)}}},[q]);let[eg,ef]=(0,y.useState)(!1),eh=(0,y.useCallback)(()=>{Z(!0);let e=(0,v.u)(X,V?.sourceContentFromDiffLines??"");if(!e.isValid){en(e.errorMessage),Z(!1);return}et({text:X,comment:I,onCompleted:()=>{G(!1),Z(!1),el(),A?.(R)},onError:()=>{Z(!1),z({type:"error",message:"Failed to update comment"})}})},[z,X,I,et,A,el,V,R]),ey=I.currentDiffResourcePath?.split("#r").pop(),eb=ey?`${_}${ey}`:void 0,ek=eb&&p.fV?new URL(`${p.fV.pathname}#${eb}`,p.fV.origin).toString():void 0,ex=(0,y.useRef)(null);(0,y.useEffect)(()=>{e&&ey&&eb&&window.location.hash.split("#").pop()===eb&&((0,k.p)(ey,_),T?.(!1),ex.current?.focus())},[_,eb,ey,T,e]);let ev={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},eC=n>0,ej=n>1,eS=w.suggestedChangesEnabled,e_=q?"editing":W?"hidden":"visible",eI={headingProps:{as:"h3"},avatarUrl:I.author?.avatarUrl??U.avatarUrl,comment:{...I,url:ek??"",referenceText:I.reference.text??`#${I.reference.number}`},commentRef:ex,deleteComment:()=>{ef(!0)},editComment:()=>{G(!0)},editHistoryComponent:void 0,hideComment:e=>{er({commentDatabaseId:I.databaseId,reason:e,onCompleted:()=>{A?.(R)},onError:()=>{Z(!1),z({type:"error",message:"Failed to hide comment"})}})},onMinimize:Q,isMinimized:W,commentAuthorLogin:I.author?.login??U.login,navigate:o.l,commentSubjectAuthorLogin:I.reference?.author?.login??"",commentSubjectType:w.commentSubjectType,onReplySelect:K,unhideComment:()=>{es({commentDatabaseId:I.databaseId,onCompleted:()=>{A?.(R)},onError:()=>{Z(!1),z({type:"error",message:"Failed to unhide comment"})}})},hideActions:N,isReply:eC,forceInlineAvatar:!0,containerStyle:{}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(f.A,{ref:ex,id:e?eb:void 0,tabIndex:-1,"data-first-thread-comment":L,sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":ev,":focus":ev,scrollMarginTop:e?"120px":0},children:[ej&&(0,l.jsx)(f.A,{sx:{display:"flex",pl:eC?1:0},children:(0,l.jsx)(f.A,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,l.jsx)(f.A,{sx:{px:3,pt:ej?0:2,pb:0},children:(0,l.jsx)(i.v,{...eI,commentBody:I.body,threadCommentCount:P,isInDialogMode:em,actions:N?void 0:(0,l.jsx)(r.p,{...eI})})}),(0,l.jsxs)(f.A,{sx:{display:"flex",pl:eC?1:0},children:[eC&&(0,l.jsx)(f.A,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...a&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),"editing"===e_&&(0,l.jsx)(f.A,{sx:{pr:2,pl:eC?0:2,pb:2,pt:1,flexGrow:1},children:(0,l.jsxs)(C.S,{ref:ec,label:"Update comment",value:X,onChange:e=>{ea({text:e}),Y(e),en(void 0)},onPrimaryAction:eh,userSettings:w.commentBoxConfig,suggestedChangesConfig:V,markdownErrorMessage:ee,children:[(0,l.jsx)(t.x,{variant:"default",onClick:()=>{G(!1),el(),Y(I.body)},children:"Cancel"}),(0,l.jsx)(t.x,{disabled:J||!X.length,variant:"primary",onClick:eh,children:"Update"})]})}),"visible"===e_&&(0,l.jsx)(f.A,{sx:eC?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:I.bodyHTML&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.oG,{ref:eu,className:"markdown-body","comment-testid":`Comment body html for comment ${I.id}`,html:I.bodyHTML,sx:{mt:1,fontSize:1}}),I.reactionGroups&&eo?(0,l.jsx)("div",{className:"d-flex flex-direction-column mt-2",children:(0,l.jsx)(d.P,{reactionGroups:I.reactionGroups,onReact:(e,n)=>{eo?.({commentDatabaseId:I.databaseId,threadId:R,reaction:e,viewerHasReacted:n,onCompleted:()=>{A?.(R)},onError:()=>{Z(!1),z({type:"error",message:"Failed to react to comment"})}})},canReact:I.viewerCanReact})}):!H&&(0,l.jsx)(f.A,{sx:{display:"flex",flexDirection:"column",mt:3},children:ed?(0,l.jsx)(y.Suspense,{fallback:(0,l.jsx)(c.e,{}),children:(0,l.jsx)(u.ReactionViewerRelayQueryComponent,{id:I.id})}):(0,l.jsx)(u.ReactionViewerRelay,{reactionGroups:I,subjectId:I.id})}),eS&&O&&(0,l.jsx)($,{comment:I,commentBodyRef:eu,commentingImplementation:w,filePath:F,isOutdated:j,isThreadResolved:S,threadId:R,suggestedChangesConfig:V,applySuggestedChangesValidationData:O,subject:E,viewerData:B})]})})]})]}),eg&&(0,l.jsx)(h.l,{width:"small",title:"Delete comment?","aria-labelledby":"delete-comment-dialog-title",returnFocusRef:eu,onClose:()=>ef(!1),footerButtons:[{buttonType:"danger",content:"Delete",onClick:()=>{ei({commentId:I.id,onCompleted:()=>{A?.(R)},onError:()=>{Z(!1),z({type:"error",message:"Failed to delete comment"})},threadCommentCount:P,threadId:R,threadsConnectionId:M,filePath:F}),ef(!1)}},{buttonType:"default",content:"Cancel",onClick:()=>{ef(!1),eu.current?.focus()}}],children:(0,l.jsx)("p",{children:"Are you sure you want to delete this comment?"})})]})}try{H.displayName||(H.displayName="ReviewThreadComment")}catch{}},78869:(e,n,a)=>{a.d(n,{i:()=>o});var l=a(74848),t=a(67220),i=a(73974),r=a(75177),s=a(52464);function o({subject:e,sx:n,tabSize:a,hideHeaderDetails:o,diffTableSx:d}){if(!e?.diffLines||e?.diffLines.length<1)return null;let c=(0,t.c7)(e.diffLines);return(0,l.jsxs)(r.A,{sx:{m:3,border:0,borderBottomWidth:6,borderStyle:"solid",borderColor:"border.muted",borderBottomLeftRadius:2,borderBottomRightRadius:2,...n},children:[!o&&(0,l.jsx)(r.A,{sx:{borderWidth:1,borderStyle:"solid",borderTopLeftRadius:2,borderTopRightRadius:2,borderColor:"border.muted",color:"fg.muted",px:2,py:1},children:(0,l.jsxs)(s.A,{sx:{fontSize:0,color:"fg.muted"},children:["Line"," ",(0,i.Ah)({originalStartLine:e.originalStartLine,originalEndLine:e.originalEndLine,startDiffSide:e.startDiffSide,endDiffSide:e.endDiffSide}),", commit ",(0,l.jsx)("code",{children:e.pullRequestCommit?.commit.abbreviatedOid})]})}),(0,l.jsx)(i.l4,{lineWidth:c,lines:e.diffLines,tabSize:a,sx:d})]})}try{o.displayName||(o.displayName="StaticUnifiedDiffPreview")}catch{}},38061:(e,n,a)=>{a.d(n,{n:()=>i,u:()=>r});var l=a(96540);let t=(0,l.createContext)(null),i=()=>(0,l.useContext)(t),r=t.Provider;try{t.displayName||(t.displayName="ConversationMarkdownSubjectContext")}catch{}},56126:(e,n,a)=>{a.d(n,{W:()=>s,j:()=>r});var l=a(74848),t=a(96540);let i=(0,t.createContext)({});function r({children:e}){let[n,a]=(0,t.useState)(!1),r=(0,t.useMemo)(()=>({isDialogOpen:n,setIsDialogOpen:a}),[n,a]);return(0,l.jsx)(i.Provider,{value:r,children:e})}let s=()=>(0,t.useContext)(i);try{i.displayName||(i.displayName="DialogStateContext")}catch{}try{r.displayName||(r.displayName="DialogStateProvider")}catch{}},42242:(e,n,a)=>{a.d(n,{f:()=>r,q:()=>s});var l=a(74848),t=a(96540);let i=(0,t.createContext)({isInDialogMode:!1,enableInlineCommentDialogMode:()=>{},disableInlineCommentDialogMode:()=>{}});function r({enableDiffGridMode:e,children:n}){let[a,r]=(0,t.useState)(!1),s=(0,t.useCallback)(()=>{r(!0),e?.(!1)},[e]),o=(0,t.useCallback)(()=>{r(!1),e?.(!0)},[e]),d=(0,t.useMemo)(()=>({isInDialogMode:a,enableInlineCommentDialogMode:s,disableInlineCommentDialogMode:o}),[a,s,o]);return(0,l.jsx)(i.Provider,{value:d,children:n})}let s=()=>(0,t.useContext)(i);try{i.displayName||(i.displayName="InlineCommentDialogModeContext")}catch{}try{r.displayName||(r.displayName="InlineCommentDialogModeProvider")}catch{}},96590:(e,n,a)=>{a.d(n,{$:()=>s});var l=a(74848),t=a(38621),i=a(8338),r=a(39298);let s=e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.l.Divider,{}),(0,l.jsx)(r.t,{eventContext:{prx:!0},leadingVisual:(0,l.jsx)(t.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{s.displayName||(s.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},35149:(e,n,a)=>{a.d(n,{i:()=>o});var l=a(74848),t=a(91618),i=a(46988),r=a(67136),s=a(8338);let o=({fileDiffReference:e,eventContext:n,afterSelect:a})=>{let{addToast:o}=(0,r.Y6)();return(0,l.jsx)(s.l.Item,{onSelect:()=>{(0,t.Oc)(e),o({message:"Reference added to thread",type:"success"}),(0,i.BI)("copilot.file-diff.add",n),a?.()},children:"Attach to current thread"})};try{o.displayName||(o.displayName="DiffLinesAttachMenuItem")}catch{}},39298:(e,n,a)=>{a.d(n,{t:()=>o});var l=a(74848),t=a(91618),i=a(77342),r=a(46988),s=a(8338);let o=({fileDiffReference:e,leadingVisual:n,eventContext:a,afterSelect:o})=>(0,l.jsxs)(s.l.Item,{onSelect:()=>{(0,t.qR)({intent:i.wh.conversation,references:[e]}),(0,r.BI)("copilot.file-diff.discuss",a),o?.()},children:[n&&(0,l.jsx)(s.l.LeadingVisual,{children:n}),"Ask about this diff"]});try{o.displayName||(o.displayName="DiffLinesDiscussMenuItem")}catch{}},5993:(e,n,a)=>{a.d(n,{e:()=>o});var l=a(74848),t=a(91618),i=a(77342),r=a(46988),s=a(8338);let o=({fileDiffReference:e,eventContext:n,afterSelect:a})=>(0,l.jsx)(s.l.Item,{onSelect:()=>{(0,t.qR)({content:"Explain",intent:i.wh.explainFileDiff,references:[e]}),(0,r.BI)("copilot.file-diff.explain",n),a?.()},children:"Explain"});try{o.displayName||(o.displayName="DiffLinesExplainMenuItem")}catch{}},17908:(e,n,a)=>{a.d(n,{d:()=>s,t:()=>o});var l=a(74848),t=a(21728),i=a(96540);let r=i.createContext({});function s(e){let n;let a=(0,t.c)(3),{repository:i,children:s}=e;return a[0]!==s||a[1]!==i?(n=(0,l.jsxs)(r.Provider,{value:i,children:[" ",s," "]}),a[0]=s,a[1]=i,a[2]=n):n=a[2],n}function o(){return i.useContext(r)}try{r.displayName||(r.displayName="CurrentRepositoryContext")}catch{}try{s.displayName||(s.displayName="CurrentRepositoryProvider")}catch{}},46636:(e,n,a)=>{a.d(n,{Q:()=>s,i:()=>o});var l=a(74848),t=a(21728),i=a(96540);let r=i.createContext(void 0);function s(e){let n;let a=(0,t.c)(3),{user:i,children:s}=e;return a[0]!==s||a[1]!==i?(n=(0,l.jsxs)(r.Provider,{value:i,children:[" ",s," "]}),a[0]=s,a[1]=i,a[2]=n):n=a[2],n}function o(){return i.useContext(r)}try{r.displayName||(r.displayName="CurrentUserContext")}catch{}try{s.displayName||(s.displayName="CurrentUserProvider")}catch{}},10712:(e,n,a)=>{a.d(n,{oj:()=>v});var l=a(74848),t=a(21728),i=a(38621),r=a(96540),s=a(12719),o=a(34614),d=a(7284),c=a(26920),u=a(58599),m=a(28448),p=a(29063),g=a(47584);let f={"file-tree-row":"DiffFileTree-module__file-tree-row--yr73E"},h=(0,r.memo)(function(e){let n;let a=(0,t.c)(2),{changeType:i}=e;return a[0]!==i?(n=(0,l.jsx)(u.E,{status:i}),a[0]=i,a[1]=n):n=a[1],n});h.displayName="FileStatusIconItem";let y=(0,r.memo)(function(e){let n,a,c,u,p,y,b,k,x,v;let C=(0,t.c)(44),{file:j,depth:S,hash:_,onSelect:I}=e,w=(0,r.useRef)(null),F=(0,r.useRef)(null),N=`#diff-${j.diff.pathDigest}`;C[0]===Symbol.for("react.memo_cache_sentinel")?(n={focusRowRef:w,mouseRowRef:w},C[0]=n):n=C[0];let L=(0,m.Z)(n),T=j.diff.totalCommentsCount??0,A=j.diff.highestAnnotationLevel,K=null,D=null;switch(A){case"WARNING":{let e,n;let a=T>0?"and ":"";C[1]!==a?(e=(0,l.jsxs)("span",{className:"sr-only",children:[a," has warning annotations"]}),C[1]=a,C[2]=e):e=C[2],D=e,C[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,l.jsx)(i.AlertIcon,{})}),C[3]=n):n=C[3],K=n;break}case"NOTICE":{let e,n;let a=T>0?"and ":"";C[4]!==a?(e=(0,l.jsxs)("span",{className:"sr-only",children:[a," has notice annotations"]}),C[4]=a,C[5]=e):e=C[5],D=e,C[6]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("div",{className:"pl-1 fgColor-default",children:(0,l.jsx)(i.InfoIcon,{})}),C[6]=n):n=C[6],K=n;break}case"FAILURE":{let e,n;let a=T>0?"and ":"";C[7]!==a?(e=(0,l.jsxs)("span",{className:"sr-only",children:[a," has failure annotations"]}),C[7]=a,C[8]=e):e=C[8],D=e,C[9]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,l.jsx)(i.XCircleFillIcon,{})}),C[9]=n):n=C[9],K=n}}C[10]!==j.diff.pathDigest||C[11]!==_?(a=()=>{if(w.current&&j.diff.pathDigest===_){let e=window.setTimeout(()=>{let e=g.XC?.getElementById("diff_file_tree")?.parentElement,n=w.current.offsetTop,a=g.cg?.innerHeight??0;e&&(e.scrollTop=n-a/2)},0);return()=>{window.clearTimeout(e)}}},c=[j.diff.pathDigest,_],C[10]=j.diff.pathDigest,C[11]=_,C[12]=a,C[13]=c):(a=C[12],c=C[13]),(0,r.useEffect)(a,c),C[14]!==N||C[15]!==j.diff||C[16]!==I?(u=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(w?.current!==document.activeElement){e.preventDefault();return}if("Enter"===e.key||" "===e.key){e.preventDefault(),I?.(j.diff),F?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(N,"_blank");return}I?.(j.diff),F?.current?.click()}},C[14]=N,C[15]=j.diff,C[16]=I,C[17]=u):u=C[17];let E=u,P=j.diff.pathDigest===_;return C[18]!==j.diff.changeType?(p=(0,l.jsx)(s.G.LeadingVisual,{children:(0,l.jsx)(h,{changeType:j.diff.changeType})}),C[18]=j.diff.changeType,C[19]=p):p=C[19],C[20]!==N||C[21]!==j.fileName?(y=(0,l.jsx)(o.A,{href:N,muted:!0,ref:F,role:"presentation",className:"fgColor-default",tabIndex:-1,"data-analytics-opt-out":!0,children:j.fileName}),C[20]=N,C[21]=j.fileName,C[22]=y):y=C[22],C[23]!==j.fileName||C[24]!==L?(b=L&&(0,l.jsx)(d.m,{"data-testid":`${j.fileName}-item-tooltip`,id:`${j.fileName}-item-tooltip`,contentRef:w,"aria-label":j.fileName,open:!0,direction:"ne"}),C[23]=j.fileName,C[24]=L,C[25]=b):b=C[25],C[26]!==T?(k=!!T&&(0,l.jsxs)("span",{className:"sr-only",children:["has ",T<10?T:"9+"," ",T>1?"comments":"comment"]}),C[26]=T,C[27]=k):k=C[27],C[28]!==K||C[29]!==A||C[30]!==T?(x=(!!T||A)&&(0,l.jsx)(s.G.TrailingVisual,{children:(0,l.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!T&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.CommentIcon,{}),(0,l.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:T<10?T:"9+"})]}),K]})}),C[28]=K,C[29]=A,C[30]=T,C[31]=x):x=C[31],C[32]!==D||C[33]!==S||C[34]!==j.diff.path||C[35]!==j.diff.pathDigest||C[36]!==E||C[37]!==x||C[38]!==P||C[39]!==p||C[40]!==y||C[41]!==b||C[42]!==k?(v=(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(s.G.Item,{defaultExpanded:!0,"aria-level":S,current:P,id:j.diff.path,onSelect:E,ref:w,className:f["file-tree-row"],children:[p,y,b,k,D,x]},j.diff.pathDigest)}),C[32]=D,C[33]=S,C[34]=j.diff.path,C[35]=j.diff.pathDigest,C[36]=E,C[37]=x,C[38]=P,C[39]=p,C[40]=y,C[41]=b,C[42]=k,C[43]=v):v=C[43],v});function b(e){let n,a,i,o,c,u,p,g,f,h,y,v;let C=(0,t.c)(43);C[0]!==e?({directory:n,renderPattern:i,depth:o,leadingPath:c,...a}=e,C[0]=e,C[1]=n,C[2]=a,C[3]=i,C[4]=o,C[5]=c):(n=C[1],a=C[2],i=C[3],o=C[4],c=C[5]);let j=void 0===o?0:o,S=void 0===c?"":c,_=S?`${S}/`:"",I=r.useRef(null),w=r.useRef(null);C[6]===Symbol.for("react.memo_cache_sentinel")?(u={focusRowRef:w,mouseRowRef:I},C[6]=u):u=C[6];let F=(0,m.Z)(u);if(!n.files.length&&1===n.directories.length){let e,t;if(C[7]!==j||C[8]!==n.directories||C[9]!==n.name||C[10]!==a||C[11]!==_||C[12]!==i){let t;C[14]!==j||C[15]!==n.name||C[16]!==a||C[17]!==_||C[18]!==i?(t=e=>(0,l.jsx)(b,{depth:0===j?1:j,directory:e,leadingPath:`${_}${n.name}`,renderPattern:i,...a},e.path),C[14]=j,C[15]=n.name,C[16]=a,C[17]=_,C[18]=i,C[19]=t):t=C[19],e=n.directories.map(t),C[7]=j,C[8]=n.directories,C[9]=n.name,C[10]=a,C[11]=_,C[12]=i,C[13]=e}else e=C[13];return C[20]!==e?(t=(0,l.jsx)(l.Fragment,{children:e}),C[20]=e,C[21]=t):t=C[21],t}C[22]!==j||C[23]!==n||C[24]!==a||C[25]!==i?(p=function(){return"traditional"===i?(0,l.jsx)(k,{directory:n,depth:j,renderPattern:i,...a}):(0,l.jsx)(x,{directory:n,depth:j,renderPattern:i,...a})},C[22]=j,C[23]=n,C[24]=a,C[25]=i,C[26]=p):p=C[26];let N=p;if(0===j){let e;return C[27]!==N?(e=N(),C[27]=N,C[28]=e):e=C[28],e}C[29]===Symbol.for("react.memo_cache_sentinel")?(g=(0,l.jsx)(s.G.LeadingVisual,{children:(0,l.jsx)(s.G.DirectoryIcon,{})}),C[29]=g):g=C[29];let L=`${_}${n.name}`;return C[30]!==L?(f=(0,l.jsx)("span",{ref:I,children:L}),C[30]=L,C[31]=f):f=C[31],C[32]!==n.name||C[33]!==_||C[34]!==F?(h=F&&(0,l.jsx)(d.m,{"data-testid":`${n.name}-directory-item-tooltip`,id:`${n.name}-directory-item-tooltip`,contentRef:w,"aria-label":`${_}${n.name}`,open:!0,direction:"ne"}),C[32]=n.name,C[33]=_,C[34]=F,C[35]=h):h=C[35],C[36]!==N?(y=(0,l.jsx)(s.G.SubTree,{children:N()}),C[36]=N,C[37]=y):y=C[37],C[38]!==n.path||C[39]!==f||C[40]!==h||C[41]!==y?(v=(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(s.G.Item,{ref:w,defaultExpanded:!0,id:n.path,children:[g,f,h,y]},n.path)}),C[38]=n.path,C[39]=f,C[40]=h,C[41]=y,C[42]=v):v=C[42],v}let k=(0,r.memo)(function(e){let n,a,i,r,s,o;let d=(0,t.c)(17);d[0]!==e?({directory:n,renderPattern:i,depth:r,...a}=e,d[0]=e,d[1]=n,d[2]=a,d[3]=i,d[4]=r):(n=d[1],a=d[2],i=d[3],r=d[4]);let c=void 0===r?0:r;if(d[5]!==c||d[6]!==n.directories||d[7]!==n.files||d[8]!==a||d[9]!==i){let e;let t=n.files.map(C).concat(n.directories.map(j));t.sort(S),d[11]!==c||d[12]!==a||d[13]!==i?(e=e=>"file"===e.pathType?(0,l.jsx)(y,{depth:c+1,file:e.node,...a},e.path):(0,l.jsx)(b,{depth:c+1,directory:e.node,renderPattern:i,...a},e.path),d[11]=c,d[12]=a,d[13]=i,d[14]=e):e=d[14],s=t.map(e),d[5]=c,d[6]=n.directories,d[7]=n.files,d[8]=a,d[9]=i,d[10]=s}else s=d[10];return d[15]!==s?(o=(0,l.jsx)(l.Fragment,{children:s}),d[15]=s,d[16]=o):o=d[16],o});function x(e){let n,a,i,r,s,o;let d=(0,t.c)(21);d[0]!==e?({directory:n,depth:i,...a}=e,d[0]=e,d[1]=n,d[2]=a,d[3]=i):(n=d[1],a=d[2],i=d[3]);let c=void 0===i?0:i;if(d[4]!==c||d[5]!==n.files||d[6]!==a){let e;d[8]!==c||d[9]!==a?(e=e=>(0,l.jsx)(y,{depth:c+1,file:e,...a},e.filePath),d[8]=c,d[9]=a,d[10]=e):e=d[10],r=n.files.map(e),d[4]=c,d[5]=n.files,d[6]=a,d[7]=r}else r=d[7];if(d[11]!==c||d[12]!==n.directories||d[13]!==a){let e;d[15]!==c||d[16]!==a?(e=e=>(0,l.jsx)(b,{depth:c+1,directory:e,...a},e.path),d[15]=c,d[16]=a,d[17]=e):e=d[17],s=n.directories.map(e),d[11]=c,d[12]=n.directories,d[13]=a,d[14]=s}else s=d[14];return d[18]!==r||d[19]!==s?(o=(0,l.jsxs)(l.Fragment,{children:[r,s]}),d[18]=r,d[19]=s,d[20]=o):o=d[20],o}let v=(0,r.memo)(function(e){let n,a,i,o,d,u,m,f,h,y;let k=(0,t.c)(18);k[0]!==e?({diffs:a,renderPattern:o,className:n,...i}=e,k[0]=e,k[1]=n,k[2]=a,k[3]=i,k[4]=o):(n=k[1],a=k[2],i=k[3],o=k[4]),k[5]!==a?(d=(0,c.xY)(a),k[5]=a,k[6]=d):d=k[6];let x=d,[v,C]=r.useState("");k[7]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{C(((0,p.pd)(g.fV.hash??"")??"").replace("diff-",""))},k[7]=u):u=k[7];let j=u;return k[8]===Symbol.for("react.memo_cache_sentinel")?(m=()=>(window.addEventListener("hashchange",j),j(),()=>{window.removeEventListener("hashchange",j)}),f=[j],k[8]=m,k[9]=f):(m=k[8],f=k[9]),(0,r.useEffect)(m,f),k[10]!==i||k[11]!==x||k[12]!==v||k[13]!==o?(h=(0,l.jsx)(b,{directory:x,renderPattern:o,...i,hash:v}),k[10]=i,k[11]=x,k[12]=v,k[13]=o,k[14]=h):h=k[14],k[15]!==n||k[16]!==h?(y=(0,l.jsx)(s.G,{"aria-label":"File Tree",className:n,children:h}),k[15]=n,k[16]=h,k[17]=y):y=k[17],y});try{y.displayName||(y.displayName="File")}catch{}try{b.displayName||(b.displayName="Directory")}catch{}try{k.displayName||(k.displayName="TraditionalDirectoryRendering")}catch{}try{x.displayName||(x.displayName="GroupedDirectoryRendering")}catch{}try{v.displayName||(v.displayName="DiffFileTree")}catch{}function C(e){return{path:e.filePath,pathType:"file",node:e}}function j(e){return{path:e.path,pathType:"directory",node:e}}function S(e,n){return(0,c.wH)(e.path,n.path)}},3240:(e,n,a)=>{a.d(n,{kF:()=>h,F7:()=>f});var l,t=a(74848),i=a(21728),r=a(38621),s=a(67138),o=a(89323),d=a(87330),c=a(63867),u=a(8338),m=a(96540),p=a(34164);let g={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--cW8BP",filterMaxHeight:"FileFilter-module__filterMaxHeight--TgM5t"},f="No extension";function h({filterSize:e="medium",filterText:n,onFilterTextChange:a,fileExtensions:l,unselectedFileExtensions:i,onFilterChange:c,additionalFilterGroups:h}){l=l??{},i=i??new Set;let[y,b]=(0,m.useState)(n),k=(e,n)=>{c?.(e?"selectFileExtension":"unselectFileExtension",{extension:n})},x=Object.keys(l).filter(e=>e!==f).sort(),v=e=>!i.has(e),C=!!l[f];return(0,t.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[(0,t.jsx)(s.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:r.SearchIcon,placeholder:"Filter files\u2026",size:e,className:(0,p.$)("small"===e&&g.filterMaxHeight),value:y,onChange:e=>{b(e.target.value),a?.(e.target.value)}}),(0,t.jsxs)(o.W,{children:[(0,t.jsx)(o.W.Anchor,{children:(0,t.jsx)(d.K,{"aria-label":"Filter options",icon:r.SlidersIcon,className:"flex-shrink-0",size:e})}),(0,t.jsx)(o.W.Overlay,{children:(0,t.jsxs)(u.l,{children:[(0,t.jsxs)(u.l.Group,{selectionVariant:"multiple",children:[(0,t.jsx)(u.l.GroupHeading,{children:"File extensions"}),x.map(e=>{let n=v(e);return(0,t.jsx)(u.l.Item,{selected:n,onSelect:()=>k(!n,e),children:`${e} (${l[e]})`},e)}),C&&(0,t.jsx)(u.l.Item,{selected:v(f),onSelect:()=>k(!v(f),f),children:`${f} (${l[f]})`},f)]}),h]})})]})]})}try{(l=function(e){let n,a,l,u,m;let f=(0,i.c)(9),{filterText:h,onFilterTextChange:y}=e;return f[0]!==y?(n=e=>y?.(e.target.value),f[0]=y,f[1]=n):n=f[1],f[2]!==h||f[3]!==n?(a=(0,t.jsx)(s.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:r.SearchIcon,placeholder:"Filter files\u2026",value:h,onChange:n}),f[2]=h,f[3]=n,f[4]=a):a=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(o.W.Anchor,{children:(0,t.jsx)(d.K,{"aria-label":"Filter options",icon:r.SlidersIcon,className:"flex-shrink-0"})}),f[5]=l):l=f[5],f[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsxs)(o.W,{children:[l,(0,t.jsx)(o.W.Overlay,{className:(0,p.$)(g.filterLoadingHeight),children:(0,t.jsx)("div",{className:(0,p.$)("d-flex","flex-column","flex-justify-center","flex-items-center",g.filterLoadingHeight),children:(0,t.jsx)(c.A,{size:"medium"})})})]}),f[6]=u):u=f[6],f[7]!==a?(m=(0,t.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[a,u]}),f[7]=a,f[8]=m):m=f[8],m}).displayName||(l.displayName="FileFilterLoading")}catch{}try{h.displayName||(h.displayName="FileFilterShared")}catch{}},58599:(e,n,a)=>{a.d(n,{E:()=>r});var l=a(74848),t=a(21728),i=a(38621);function r(e){let n=(0,t.c)(4),{status:a}=e;switch(a){case"ADDED":case"COPIED":{let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(i.FileAddedIcon,{size:16,className:"fgColor-success"}),n[0]=e):e=n[0],e}case"DELETED":case"REMOVED":{let e;return n[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(i.FileRemovedIcon,{size:16,className:"fgColor-danger"}),n[1]=e):e=n[1],e}case"RENAMED":{let e;return n[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(i.FileMovedIcon,{size:16,className:"fgColor-attention"}),n[2]=e):e=n[2],e}default:{let e;return n[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(i.FileDiffIcon,{size:16,className:"fgColor-muted"}),n[3]=e):e=n[3],e}}}try{r.displayName||(r.displayName="FileStatusIcon")}catch{}},57442:(e,n,a)=>{a.d(n,{G:()=>R});var l=a(74848),t=a(21728),i=a(38621),r=a(89323),s=a(8338),o=a(34164),d=a(84217),c=a(55847),u=a(98939),m=a(96540),p=a(56176),g=a(5796),f=a(86365),h=a(57572);function y(e){return!e.dismissed}function b(e){return 0===(function(){let e,n;let a=(0,t.c)(5),l=(0,f.B)();if(!l){let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],a[0]=e):e=a[0],e}a[1]!==l.userNotices?(e=l.userNotices??[],a[1]=l.userNotices,a[2]=e):e=a[2];let i=e;return a[3]!==i?(n=i.filter(y),a[3]=i,a[4]=n):n=a[4],n})().filter(n=>n.name===e).length}var k=a(80934);let x="compact_diff_lines";function v(){let e,n,a,i,r,s,o,f,y,v,S,_,I;let w=(0,t.c)(22),F=b(x),{dismissNotice:N}=function(e){let n,a;let l=(0,t.c)(5),i=b(e);l[0]!==i||l[1]!==e?(n=()=>{(0,p.M3)()&&!i&&(0,h.DI)((0,g.VB1)({noticeName:e}),{method:"POST"})},l[0]=i,l[1]=e,l[2]=n):n=l[2];let r=n;return l[3]!==r?(a={dismissNotice:r},l[3]=r,l[4]=a):a=l[4],a}(x);w[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:j,onError:C},w[0]=e):e=w[0];let{mutate:L}=(0,k.U)(e),[T,A]=(0,m.useState)(!0);w[1]!==N||w[2]!==L?(n=()=>{L({lineSpacing:"compact"}),A(!1),N()},w[1]=N,w[2]=L,w[3]=n):n=w[3];let K=n;w[4]!==N?(a=()=>{A(!1),N()},w[4]=N,w[5]=a):a=w[5];let D=a;return F?null:(w[6]===Symbol.for("react.memo_cache_sentinel")?(i={top:"60px",right:"-4px"},w[6]=i):i=w[6],w[7]===Symbol.for("react.memo_cache_sentinel")?(r={minWidth:"260px",width:"40%"},w[7]=r):r=w[7],w[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)(d.A,{sx:{fontSize:2},as:"h2",children:"Customizable line height"}),o=(0,l.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),w[8]=s,w[9]=o):(s=w[8],o=w[9]),w[10]===Symbol.for("react.memo_cache_sentinel")?(f={flexShrink:0,flexGrow:1},w[10]=f):f=w[10],w[11]!==K?(y=(0,l.jsx)(c.Q,{onClick:K,sx:f,children:"Enable compact line height"}),w[11]=K,w[12]=y):y=w[12],w[13]===Symbol.for("react.memo_cache_sentinel")?(v={color:"accent.fg",flexGrow:1},w[13]=v):v=w[13],w[14]!==D?(S=(0,l.jsx)(c.Q,{onClick:D,variant:"invisible",sx:v,alignContent:"center",children:"Dismiss"}),w[14]=D,w[15]=S):S=w[15],w[16]!==S||w[17]!==y?(_=(0,l.jsxs)(u.A.Content,{className:"d-flex flex-column gap-2",sx:r,children:[s,o,(0,l.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[y,S]})]}),w[16]=S,w[17]=y,w[18]=_):_=w[18],w[19]!==T||w[20]!==_?(I=(0,l.jsx)(u.A,{open:T,caret:"top-right",sx:i,children:_}),w[19]=T,w[20]=_,w[21]=I):I=w[21],I)}function C(){}function j(){}try{v.displayName||(v.displayName="DiffCompactLinesPopover")}catch{}var S=a(86617),_=a(97665);function I(e){let n,a,i,r,o;let d=(0,t.c)(15),{lineSpacingPreferenceAvailable:c,reloadOnChange:u}=e,m=void 0===c||c,p=void 0!==u&&u,{data:g}=(0,S.Pe)();d[0]===Symbol.for("react.memo_cache_sentinel")?(n={onSuccess:F,onError:w},d[0]=n):n=d[0];let{mutate:f}=(0,k.U)(n),h=(0,_.jE)();d[1]!==g||d[2]!==h||d[3]!==p?(a=()=>{g&&(h.setQueryData((0,S.nZ)(),e=>({...e,hideWhitespace:!g.hideWhitespace})),(0,S.bJ)("w",g.hideWhitespace?"0":"1"),p&&window.location.reload())},d[1]=g,d[2]=h,d[3]=p,d[4]=a):a=d[4];let y=a;return g?(d[5]!==g.hideWhitespace||d[6]!==y?(i=(0,l.jsx)(s.l.Item,{selected:g.hideWhitespace,onSelect:y,children:"Hide whitespace"}),d[5]=g.hideWhitespace,d[6]=y,d[7]=i):i=d[7],d[8]!==g.lineSpacing||d[9]!==m||d[10]!==f?(r=m&&(0,l.jsx)(s.l.Item,{selected:"compact"===g.lineSpacing,onSelect:()=>f({lineSpacing:"compact"===g.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),d[8]=g.lineSpacing,d[9]=m,d[10]=f,d[11]=r):r=d[11],d[12]!==i||d[13]!==r?(o=(0,l.jsxs)(s.l.Group,{selectionVariant:"multiple",variant:"subtle",children:[i,r]}),d[12]=i,d[13]=r,d[14]=o):o=d[14],o):null}function w(){}function F(){}try{I.displayName||(I.displayName="DiffLinePresentationToggles")}catch{}function N(e){let n,a,i,r,o,d,c;let u=(0,t.c)(17),{reloadOnChange:m}=e,p=void 0!==m&&m,{data:g}=(0,S.Pe)(),f=g?.splitPreference;u[0]===Symbol.for("react.memo_cache_sentinel")?(n={onSuccess:T,onError:L},u[0]=n):n=u[0];let{mutate:h}=(0,k.U)(n);u[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(s.l.GroupHeading,{children:"Layout"}),u[1]=a):a=u[1];let y="unified"===f;u[2]!==p||u[3]!==h?(i=()=>{h({splitPreference:"unified"}),(0,S.bJ)("diff","unified"),p&&window.location.reload()},u[2]=p,u[3]=h,u[4]=i):i=u[4],u[5]!==y||u[6]!==i?(r=(0,l.jsx)(s.l.Item,{selected:y,onSelect:i,children:"Unified"}),u[5]=y,u[6]=i,u[7]=r):r=u[7];let b="split"===f;return u[8]!==p||u[9]!==h?(o=()=>{h({splitPreference:"split"}),(0,S.bJ)("diff","split"),p&&window.location.reload()},u[8]=p,u[9]=h,u[10]=o):o=u[10],u[11]!==b||u[12]!==o?(d=(0,l.jsx)(s.l.Item,{selected:b,onSelect:o,children:"Split"}),u[11]=b,u[12]=o,u[13]=d):d=u[13],u[14]!==r||u[15]!==d?(c=(0,l.jsxs)(s.l.Group,{selectionVariant:"single",children:[a,r,d]}),u[14]=r,u[15]=d,u[16]=c):c=u[16],c}function L(){}function T(){}try{N.displayName||(N.displayName="DiffViewPreferenceToggle")}catch{}var A=a(46584),K=a(79658);function D(){let e,n,a,i;let r=(0,t.c)(8),{diff_inline_comments:o,prx_files:d}=(0,A.h)(),{data:c}=(0,S.Pe)();r[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:P,onError:E},r[0]=e):e=r[0];let{mutate:u}=(0,k.U)(e);if(!c||!(o||d))return null;let m=c.commentsPreference===K.s.Collapsed;return r[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)(s.l.Divider,{}),r[1]=n):n=r[1],r[2]!==m||r[3]!==u?(a=()=>u({commentsPreference:m?K.s.Visible:K.s.Collapsed}),r[2]=m,r[3]=u,r[4]=a):a=r[4],r[5]!==m||r[6]!==a?(i=(0,l.jsxs)(l.Fragment,{children:[n,(0,l.jsx)(s.l.Group,{selectionVariant:"single",children:(0,l.jsx)(s.l.Item,{role:"menuitemcheckbox",selected:m,onSelect:a,children:"Minimize comments"})})]}),r[5]=m,r[6]=a,r[7]=i):i=r[7],i}function E(){}function P(){}try{D.displayName||(D.displayName="DiffCommentsPreferenceToggle")}catch{}function R(e){let n,a,d,c,u,m,p,g,f,h,y;let b=(0,t.c)(22),{invisible:k,lineSpacingPreferenceAvailable:x,reloadOnSplitPreferenceChange:C,reloadOnWhitespaceChange:j,small:S}=e,_=void 0===x||x,w=void 0!==C&&C,F=void 0!==j&&j,L=void 0===k||k?"Button--invisible":"Button--secondary",T=S&&"Button--small";return b[0]!==L||b[1]!==T?(n=(0,o.$)("Button Button--iconOnly",L,T),b[0]=L,b[1]=T,b[2]=n):n=b[2],b[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(i.GearIcon,{}),b[3]=a):a=b[3],b[4]!==n?(d=(0,l.jsx)(r.W.Anchor,{children:(0,l.jsx)("button",{className:n,"aria-label":"Open diff view settings",children:a})}),b[4]=n,b[5]=d):d=b[5],b[6]!==w?(c=(0,l.jsx)(N,{reloadOnChange:w}),b[6]=w,b[7]=c):c=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(D,{}),m=(0,l.jsx)(s.l.Divider,{}),b[8]=u,b[9]=m):(u=b[8],m=b[9]),b[10]!==_||b[11]!==F?(p=(0,l.jsx)(I,{lineSpacingPreferenceAvailable:_,reloadOnChange:F}),b[10]=_,b[11]=F,b[12]=p):p=b[12],b[13]!==c||b[14]!==p?(g=(0,l.jsx)(r.W.Overlay,{children:(0,l.jsxs)(s.l,{children:[c,u,m,p]})}),b[13]=c,b[14]=p,b[15]=g):g=b[15],b[16]!==g||b[17]!==d?(f=(0,l.jsxs)(r.W,{children:[d,g]}),b[16]=g,b[17]=d,b[18]=f):f=b[18],b[19]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsx)(v,{}),b[19]=h):h=b[19],b[20]!==f?(y=(0,l.jsxs)(l.Fragment,{children:[f,h]}),b[20]=f,b[21]=y):y=b[21],y}try{R.displayName||(R.displayName="DiffViewSettings")}catch{}},29982:(e,n,a)=>{a.d(n,{x:()=>d});var l=a(74848),t=a(70255),i=a(83876),r=a(96540),s=a(10986);let o=[];function d({tone:e,...n}){let{calculateSuggestions:a,trigger:d}=(0,i.x)(s.v,{tone:e}),[c,u]=(0,r.useState)(null),m=async({query:e})=>{u("loading");try{let n=await a(e);u(n)}catch{u(o)}};return(0,l.jsx)(t.a,{triggers:[d],suggestions:c,onShowSuggestions:m,onHideSuggestions:()=>u(null),...n})}try{d.displayName||(d.displayName="EmojiAutocomplete")}catch{}},30793:(e,n,a)=>{a.d(n,{h:()=>d});var l=a(74848),t=a(38621),i=a(75177),r=a(52464),s=a(34614),o=a(30729);function d({message:e,retry:n,sx:a}){return(0,l.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1,...a},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.A,{icon:t.AlertFillIcon,sx:{color:"attention.fg"},className:"mr-1"}),(0,l.jsx)(r.A,{sx:{fontSize:0,color:"fg.muted"},children:e})]}),(0,l.jsx)(s.A,{as:"button",underline:!0,onClick:n,sx:{fontSize:0},children:(0,l.jsx)(r.A,{sx:{fontSize:0},children:"Try again"})})]})}try{d.displayName||(d.displayName="ErrorWithRetry")}catch{}},8877:(e,n,a)=>{a.r(n),a.d(n,{default:()=>p});var l=a(74848),t=a(94232),i=a(65481),r=a(75177),s=a(63867),o=a(52464),d=a(96540);let c={ERROR:"ERROR",LOADING:"LOADING",LOADED:"LOADED",READY:"READY"};function u(e){e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function m(e,n){e&&e.postMessage&&e.postMessage(JSON.stringify(n),"*")}function p({identityUuid:e,size:n,type:a,url:o}){let[p]=(0,t.I)(()=>window.location.origin,"https://www.github.com",[]),f=new URL(o,p).origin,{renderState:h,errorMsg:y,iFrameRef:b,containerRef:k}=function(e){let[n,a]=function(e){let[n,a]=(0,d.useState)(e),l=(0,d.useRef)(n);return[l,e=>{l.current=e,a(e)}]}(c.LOADING),l=(0,d.useRef)(null),t=(0,d.useRef)(null),i=(0,d.useRef)(null),r=(0,d.useRef)({untimed:!0}),s=(0,d.useCallback)(n=>(function(e,n,a,l,t,i,r){if(e.origin!==n)return;let s=function(e){var n;let a=e.data;if(!a)return null;if("string"==typeof a)try{a=JSON.parse(a)}catch{return null}return"object"==typeof(n=a)&&n&&"render"===n.type&&"string"==typeof n.body&&"object"==typeof n.payload?a:null}(e);if(!s){i(c.ERROR);return}let o=s.body,d=null!=s.payload?s.payload:void 0,u=a.current?.contentWindow;switch(o){case"hello":(t.current??{untimed:!0}).hello=Date.now(),m(u,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),m(u,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":d&&r(d.error??null),i(c.ERROR);break;case"loading":i(c.LOADING);break;case"loaded":i(c.LOADED);break;case"ready":d&&"number"==typeof d.height&&l.current&&(l.current.style.height=`${d.height}px`),i(c.READY);break;case"resize":d&&"number"==typeof d.height&&l.current&&(l.current.style.height=`${d.height}px`);break;case"code_rendering_service:container:get_size":m(u,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:l.current?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!a.current||!l.current)return;!function(e,n){let a=e.getAttribute("data-content");if(!a)return;let l={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(a).data,width:n.getBoundingClientRect().width}}};m(e.contentWindow,l)}(a.current,l.current)}})(n,e,t,i,r,a,e=>l.current=e),[e,a]);return(0,d.useEffect)(()=>{u(r.current);let e=e=>{(n.current===c.LOADING||n.current===c.LOADED)&&(!e||r.current.hello)&&a(c.ERROR)};return r.current={load:Date.now(),hello:null,helloTimer:window.setTimeout(e,1e4,!0),loadTimer:window.setTimeout(e,45e3)},()=>{u(r.current)}},[n,a]),(0,d.useEffect)(()=>(window.addEventListener("message",s),()=>window.removeEventListener("message",s)),[s]),{renderState:n.current,errorMsg:l.current,iFrameRef:t,containerRef:i}}(f);if("ipynb"===a&&n>3e7||n>2e8)return(0,l.jsx)(i.A,{variant:"danger",children:"Sorry, this is too big to display."});let x=h!==c.READY?{height:"1px",width:"1px",position:"fixed",bottom:0,right:0}:{height:"100%",width:"100%"};return(0,l.jsx)(r.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,l.jsxs)(r.A,{"data-hpc":!0,"data-host":f,"data-type":a,ref:k,sx:{width:1024,...h!==c.ERROR?{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",lineHeight:"0",padding:5,textAlign:"center"}:{},...h===c.READY?{height:"500px",padding:0,background:"none"}:{}},children:[h===c.ERROR?(0,l.jsx)(g,{error:y}):h!==c.READY?(0,l.jsx)(s.A,{size:"large",sx:{mx:"auto"}}):null,h!==c.ERROR&&(0,l.jsx)(r.A,{as:"iframe",ref:b,src:`${o}#${e}`,sandbox:"allow-scripts allow-same-origin allow-top-navigation",sx:{border:0,display:"block",...x},name:e,title:"File display",children:"Viewer requires iframe."})]})})}function g({error:e}){if(!e)return(0,l.jsx)(i.A,{variant:"danger",children:"Unable to render code block"});let n=e.split("\n");return(0,l.jsxs)(i.A,{variant:"danger",children:[(0,l.jsx)(o.A,{as:"p",sx:{fontWeight:"bold"},children:"Error rendering embedded code"}),(0,l.jsx)("p",{children:n.map((e,n)=>(0,l.jsxs)(d.Fragment,{children:[e,(0,l.jsx)("br",{})]},`error-line-${n}`))})]})}try{p.displayName||(p.displayName="FileRendererBlob")}catch{}try{g.displayName||(g.displayName="FileRendererErrorMessage")}catch{}},22418:(e,n,a)=>{a.d(n,{l:()=>v});var l=a(74848),t=a(75177),i=a(52464),r=a(73451),s=a(65607),o=a(34614),d=a(55847),c=a(30729),u=a(10273),m=a(69145),p=a(52625),g=a(14150),f=a(5796),h=a(96540),y=a(38621),b=a(11499);let k={container:"CreateIssueFooter-module__container--QNodp",Checkbox:"CreateIssueFooter-module__Checkbox--l4pYZ"};var x=a(34164);let v=({className:e,sx:n,hideCreateMore:a=!1,onClose:v})=>{let{createMore:C,setCreateMore:j,createMoreCreatedPath:S,onCreateAction:_,isSubmitting:I,isFileUploading:w,isSubIssue:F,optionConfig:{insidePortal:N}}=(0,g.a)(),[L,T]=(0,h.useState)(!1),A=(0,h.useRef)(null),K=()=>!I&&(!w||(T(!0),!1)),D=async()=>{K()&&_?.current?.onCreate(I,C)};(0,h.useEffect)(()=>{A.current&&!w&&!I&&L&&(T(!1),A.current.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0})))},[w,I,L]);let E={"github:submit-form":D};return a||(E["issue-create:submit-and-create-more"]=()=>{j(!0),K()&&_?.current?.onCreate(I,!0)}),(0,l.jsxs)(t.A,{className:(0,x.$)(k.container,e),sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsx)(b.ak,{commands:E}),L&&(0,l.jsxs)(t.A,{sx:{color:"fg.muted",display:"flex",alignItems:"center",gap:1,mb:2,justifyContent:"flex-end"},children:[(0,l.jsx)(c.A,{icon:y.InfoIcon,size:16}),(0,l.jsx)(i.A,{sx:{font:"var(--text-body-shorthand-medium)"},children:p.k.fileUploadWarning})]}),(0,l.jsxs)(t.A,{sx:{width:"100%",display:"flex",justifyContent:"flex-end",columnGap:4,rowGap:3,alignItems:"center",flexWrap:"wrap",...n},children:[!a&&(0,l.jsxs)(t.A,{sx:{display:"flex",gap:2,alignItems:"center",ml:N?0:2,flexGrow:1,justifyContent:["flex-start","flex-start","flex-end","flex-end"],flexWrap:"wrap",rowGap:1},children:[(0,l.jsxs)(r.A,{sx:{display:"flex",alignItems:"center","> :first-child":{display:"contents"}},children:[(0,l.jsx)(s.A,{"data-testid":m.Y.createMoreIssuesCheckbox,checked:C,onChange:()=>{j(!C)},className:k.Checkbox}),(0,l.jsx)(r.A.Label,{children:F?u.l.createMoreSubIssues:u.l.createMore})]}),(0,l.jsx)("div",{"data-testid":m.Y.issueCreatedAnnouncement,className:"sr-only","aria-live":"polite","aria-atomic":"true",role:"status",children:S.number?p.k.lastIssueCreated(S.number):null}),S.number?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{sx:{color:"fg.muted",display:["none","block","block","block"]},children:"\xb7"}),(0,l.jsx)(o.A,{href:(0,f.dRG)({owner:S.owner,repo:S.repo,issueNumber:S.number}),"data-testid":m.Y.issueCreatedLink,children:p.k.lastIssueCreated(S.number)})]}):null]}),(0,l.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[v&&(0,l.jsx)(d.Q,{onClick:()=>v(),children:u.l.cancel}),(0,l.jsx)(b.cQ,{commandId:"github:submit-form",variant:"primary",inactive:I||w,"data-testid":m.Y.createIssueButton,ref:A,showKeybindingHint:!0,children:u.l.create})]})]})]})};try{v.displayName||(v.displayName="CreateIssueFooter")}catch{}},1301:(e,n,a)=>{a.d(n,{e:()=>eR});var l=a(74848),t=a(63510),i=a(42445),r=a(25273),s=a(67136),o=a(65481),d=a(75177),c=a(30729),u=a(96540),m=a(18312),p=a(71137),g=a(52625);let f=function(){var e={defaultValue:!1,kind:"LocalArgument",name:"fetchParent"},n={defaultValue:null,kind:"LocalArgument",name:"input"},a=[{kind:"Variable",name:"input",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c=[{kind:"Literal",name:"first",value:100}],u={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},m=[u],p={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[g,r,t],storageKey:null};return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"createIssueMutation",selections:[{alias:null,args:a,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,t,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[r],storageKey:null}],storageKey:null},s,o,t,d,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[t,{alias:null,args:c,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:m,storageKey:"subIssues(first:100)"},{args:null,kind:"FragmentSpread",name:"SubIssuesListView"}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[p],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"createIssueMutation",selections:[{alias:null,args:a,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,t,i,f],storageKey:null},s,o,t,d,{condition:"fetchParent",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"parent",plural:!1,selections:[t,{alias:null,args:c,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:[u,{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:[{kind:"Literal",name:"enableDuplicate",value:!0}],kind:"ScalarField",name:"stateReason",storageKey:"stateReason(enableDuplicate:true)"},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[u,{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[t,r,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},d,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i,f,t],storageKey:null},l,s,o,{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[t,i,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SubIssuesSummary",kind:"LinkedField",name:"subIssuesSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completed",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:0},{kind:"Literal",name:"includeClosedPrs",value:!0}],concreteType:"PullRequestConnection",kind:"LinkedField",name:"closedByPullRequestsReferences",plural:!1,selections:m,storageKey:"closedByPullRequestsReferences(first:0,includeClosedPrs:true)"},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}],storageKey:null}],storageKey:"subIssues(first:100)"},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i,t],storageKey:null},{alias:"subIssuesConnection",args:null,concreteType:"IssueConnection",kind:"LinkedField",name:"subIssues",plural:!1,selections:m,storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"errors",plural:!0,selections:[g,p],storageKey:null}],storageKey:null}]},params:{id:"0c202ff06c8b13ded4c078a1440a8a58",metadata:{},name:"createIssueMutation",operationKind:"mutation",text:null}}}();f.hash="52d12f0951eb99b4e97acd8c5026e0f0";var h=a(10037);let y={kind:"InlineDataFragment",name:"IssueFormElements_templateElements"};y.hash="ede4ed0621414b21a6281552d5ac0ffe";let b={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownElement_input",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null};b.hash="bcf5223d492443ecf5db4594632948d9";var k=a(57536),x=a(49720);let v=()=>(0,l.jsx)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:(0,l.jsx)(x.Q,{borderRadius:"pill",height:"lg",width:"400px"})});try{v.displayName||(v.displayName="FormElementLoading")}catch{}let C=({elementRef:e})=>{let n=(0,m.useFragment)(b,e);return(0,l.jsx)(j,{verifiedHTML:n.contentHTML,type:"markdown"})},j=({verifiedHTML:e})=>(0,l.jsx)(u.Suspense,{fallback:(0,l.jsx)(v,{}),children:(0,l.jsx)(k.G,{verifiedHTML:e})});try{C.displayName||(C.displayName="MarkdownElement")}catch{}try{j.displayName||(j.displayName="MarkdownElementInternal")}catch{}let S={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DropdownElement_input",selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementDropdown",abstractKey:null};S.hash="44d51e88c97a03e4f143416f7b66ef7b";var _=a(89323),I=a(42522),w=a(8338),F=a(44968),N=a(73451);function L({children:e,label:n,required:a,description:t,validationResult:i,sx:r}){let s=(0,u.useId)(),o=(0,u.useId)(),c=(0,u.useId)();return(0,l.jsxs)(d.A,{sx:{my:2,...r},children:[(0,l.jsxs)(N.A,{required:a??!1,children:[(0,l.jsx)(N.A.Label,{id:s,sx:{color:"var(--fgColor-default, var(--color-fg-default))",fontSize:"14px","> span > span:last-of-type":{color:"var(--fgColor-danger, var(--color-danger-fg))"},mb:t?0:2},children:n}),t&&(0,l.jsx)(N.A.Caption,{id:o,sx:{color:"var(--fgColor-muted, var(--color-fg-subtle))",mt:0},children:(0,l.jsx)(F.oG,{html:t,className:"markdown-body note text-small mb-2"})})]}),e({labelId:s,descriptionIds:`${o} ${c}`}),i&&(0,l.jsx)(N.A.Validation,{id:c,variant:"error",sx:{mt:2},children:i})]})}try{L.displayName||(L.displayName="ElementWrapper")}catch{}let T="_No response_";function A(e,n){return(0===n.length&&(n=T),e)?`### ${e}

${n}`:n}var K=a(26677);let D=(e,n,a)=>"markdown"===n.type?"":E(e,n.type,n.label,a),E=(e,n,a,l)=>{if("markdown"===n)return"";let t=""===n?a:`${n}-${a}`;return`${e}-${t}-${l}`},P={dropdownButtonText:"DropdownElement-module__dropdownButtonText--gyY6a"},R=(0,u.forwardRef)(({elementRef:e,sessionStorageKey:n},a)=>{let t=(0,m.useFragment)(S,e);if(!t.options)return null;let i=E(n,"",t.label,t.__id);return(0,l.jsx)(M,{...t,ref:a,type:"dropdown",sessionStorageKey:i})}),M=(0,u.forwardRef)(({sessionStorageKey:e,label:n,options:a,descriptionHTML:i,required:r,multiple:s,defaultOptionIndex:o},d)=>{let c=(0,u.useRef)(null),m=(0,u.useRef)(null),p=null!=o,g=(0,u.useMemo)(()=>s||r||p?a:["None",...a],[p,s,a,r]),f=(0,u.useMemo)(()=>p&&o>=0&&o<g.length?[g[o]]:s||0===g.length?[]:[g[0]],[o,p,s,g]),[h,y]=(0,K.F)(e,f),[b,k]=(0,u.useState)(void 0),x=(0,u.useCallback)(e=>()=>{h.includes(e)?s&&y(h.filter(n=>n!==e)):s?y([...h,e]):y([e])},[s,h,y]);(0,u.useImperativeHandle)(d,()=>({focus:()=>c.current?.focus(),markdown:()=>A(n,h.join(", ")),validate:()=>!r||0!==h.length||(k(t.wY.missingDropdownSelection),!1),reset:()=>{y(f),k(void 0)},hasChanges:()=>{if(h.length!==f.length)return!0;for(let e of h)if(!f.includes(e))return!0;return!1},getSessionStorageKey:()=>e}),[f,n,r,h,e,y]),(0,u.useEffect)(()=>{h.length>0&&k(void 0)},[h]);let[v,C]=(0,u.useState)(!1),j=0===h.length?"None":h.join(", ");return(0,u.useEffect)(()=>{m.current&&C(m.current.scrollWidth>m.current.clientWidth)},[m,C]),(0,l.jsx)(L,{label:n,description:i,required:r,validationResult:b,sx:{alignItems:"start"},children:({labelId:e,descriptionIds:n})=>(0,l.jsxs)(_.W,{anchorRef:c,children:[v?(0,l.jsx)(I.m,{text:j,children:(0,l.jsx)(_.W.Button,{"aria-labelledby":e,"aria-describedby":n,children:(0,l.jsx)("span",{ref:m,className:P.dropdownButtonText,children:j})})}):(0,l.jsx)(_.W.Button,{"aria-labelledby":e,"aria-describedby":n,children:(0,l.jsx)("span",{ref:m,className:P.dropdownButtonText,children:j})}),(0,l.jsx)(_.W.Overlay,{width:"medium",side:"outside-top",maxHeight:"medium",sx:{overflow:"scroll"},children:(0,l.jsx)(w.l,{selectionVariant:s?"multiple":"single",children:g.map((e,n)=>(0,l.jsx)(w.l.Item,{selected:h.includes(e),onSelect:x(e),children:e},n))})})]})})});R.displayName="DropdownElement",M.displayName="DropdownElementInternal";let V={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextAreaElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementTextarea",abstractKey:null};V.hash="77263c4a3e8e6f76c8ddc25b88931e27";var O=a(19647);let B=({id:e,value:n,defaultValuesById:a})=>(a&&e?a[e]:void 0)??n??"",U=(0,u.forwardRef)(({elementRef:e,sessionStorageKey:n,...a},t)=>{let i=(0,m.useFragment)(V,e),r=E(n,"",i.label,i.__id);return(0,l.jsx)($,{...i,...a,ref:t,type:"textarea",sessionStorageKey:r})}),$=(0,u.forwardRef)(({itemId:e,sessionStorageKey:n,label:a,descriptionHTML:i,placeholder:s,required:o,value:d,render:c,subject:m,defaultValuesById:p,commentBoxConfig:g,onSave:f,setIsFileUploading:h},y)=>{let b=(0,u.useMemo)(()=>B({id:e,value:d,defaultValuesById:p}),[e,d,p]),[k,x]=(0,K.F)(n,b),v=(0,u.useRef)(null),[C,j]=(0,u.useState)(void 0);return(0,u.useImperativeHandle)(y,()=>({focus:()=>v.current?.focus(),markdown:()=>A(a,function(e,n){return n&&e!==T?`\`\`\`${n}
${e.replace(/(```)(\w+)/g,"").replace(/(```)/g,"").trim()}
\`\`\``:e}(k,c)),validate:()=>{let e=(0,t.sT)(k,o??!1);return j(e.errorMessage),e.isValid},reset:()=>{x(b),j(void 0)},hasChanges:()=>k!==b,getSessionStorageKey:()=>n}),[b,a,c,o,n,x,k]),(0,u.useEffect)(()=>{C&&(0,t.sT)(k,o??!1).isValid&&j(void 0)},[o,k,C]),(0,l.jsx)(L,{label:a,required:o,description:i,validationResult:C,sx:{alignItems:"stretch"},children:({labelId:e,descriptionIds:n})=>c?(0,l.jsx)(O.Ay,{"aria-labelledby":e,"aria-describedby":n,ref:v,placeholder:s??void 0,value:k,onChange:e=>x(e.target.value),sx:{fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",width:"100%"}}):(0,l.jsx)(r.h,{"aria-labelledby":e,"aria-describedby":n,ref:v,placeholder:s??void 0,value:k,onChange:x,onSave:f,saveButtonTrailingIcon:!1,userSettings:g,subject:m,setIsFileUploading:h})})});U.displayName="TextAreaElement",$.displayName="TextAreaElementInternal";let H=function(){var e={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CheckboxesElement_input",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementCheckboxes",abstractKey:null}}();H.hash="6adb2197bcbe499d724fbc05a751be1d";var z=a(19797),q=a(65607);let G=(0,u.forwardRef)(({elementRef:e,sessionStorageKey:n},a)=>{let t=(0,m.useFragment)(H,e);if(!t.checkboxOptions)return null;let i=E(n,"",t.label,t.__id);return(0,l.jsx)(W,{...t,type:"checkboxes",ref:a,sessionStorageKey:i})}),W=(0,u.forwardRef)(({sessionStorageKey:e,label:n,descriptionHTML:a,checkboxOptions:i},r)=>{let s=(0,u.useRef)(null),o=(0,u.useMemo)(()=>Array(i.length).fill(!1),[i.length]),[d,c]=(0,K.F)(e,o),[m,p]=(0,u.useState)(void 0);return(0,u.useImperativeHandle)(r,()=>({focus:()=>s.current?.focus(),markdown:()=>A(n,i.map((e,n)=>{var a,l;return a=e.label,l=d[n],`- [${l?"x":" "}] ${a}`}).join("\n")),validate:()=>{for(let[e,n]of i.entries())if(n.required&&!d[e])return p(t.wY.checkboxInAGroupMustBeSelected),!1;return!0},reset:()=>{c(o),p(void 0)},hasChanges:()=>!o.every((e,n)=>e===d[n]),getSessionStorageKey:()=>e}),[i,o,n,d,e,c]),(0,l.jsxs)(z.A,{sx:{color:"var(--fgColor-default, var(--color-fg-default))",my:"15px"},children:[(0,l.jsx)(z.A.Label,{sx:{color:"var(--fgColor-default, var(--color-fg-default))",fontSize:["14px"],fontWeight:600},children:n}),a&&(0,l.jsx)(z.A.Caption,{sx:{color:"var(--fgColor-muted, var(--color-fg-subtle))",fontSize:"12px"},children:(0,l.jsx)(F.oG,{html:a,className:"markdown-body note text-small mb-2"})}),i.map((e,n)=>(0,l.jsxs)(N.A,{required:e.required??!1,children:[(0,l.jsx)(q.A,{ref:0===n?s:void 0,checked:d[n],onChange:()=>{e.required&&!d[n]&&p(void 0),c(d.map((e,a)=>a===n?!e:e))}}),(0,l.jsx)(N.A.Label,{sx:{fontWeight:400,"> span > span:last-of-type":{color:"var(--fgColor-danger, var(--color-danger-fg))"}},children:(0,l.jsx)(F.yx,{html:e.labelHTML})})]},n)),m&&(0,l.jsx)(z.A.Validation,{variant:"error",children:m})]})});G.displayName="CheckboxesElement",W.displayName="CheckboxesElementInternal";let Q={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextInputElement_input",selections:[{alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"IssueFormElementInput",abstractKey:null};Q.hash="20ef068a2834313afaaf43e8b01d0d49";var X=a(67138);let Y=(0,u.forwardRef)(({elementRef:e,sessionStorageKey:n,...a},t)=>{let i=(0,m.useFragment)(Q,e),r=E(n,"",i.label,i.__id);return(0,l.jsx)(J,{ref:t,...i,...a,type:"input",sessionStorageKey:r})}),J=(0,u.forwardRef)(({sessionStorageKey:e,itemId:n,label:a,descriptionHTML:i,placeholder:r,required:s,value:o,defaultValuesById:d},c)=>{let m=(0,u.useMemo)(()=>B({id:n,value:o,defaultValuesById:d}),[n,o,d]),[p,g]=(0,K.F)(e,m),f=(0,u.useRef)(null),[h,y]=(0,u.useState)(void 0);return(0,u.useImperativeHandle)(c,()=>({focus:()=>f.current?.focus(),markdown:()=>A(a,p),validate:()=>{let e=(0,t.sT)(p,s??!1);return y(e.errorMessage),e.isValid},reset:()=>{g(m),y(void 0)},hasChanges:()=>p!==m,getSessionStorageKey:()=>e}),[m,a,s,e,g,p]),(0,u.useEffect)(()=>{h&&(0,t.sT)(p,s??!1).isValid&&y(void 0)},[s,p,h]),(0,l.jsx)(L,{label:a,description:i,required:s,validationResult:h,children:({labelId:e,descriptionIds:n})=>(0,l.jsx)(X.A,{ref:f,"aria-labelledby":e,"aria-describedby":n,placeholder:r??void 0,value:p,onChange:e=>g(e.target.value),sx:{maxWidth:"44em",width:"100%"}})})});Y.displayName="TextInputElement",J.displayName="TextInputElementInternal";let Z=e=>"elements"in e?(0,l.jsx)(ee,{...e}):(0,l.jsx)(en,{...e}),ee=({elements:e,outputRef:n,sessionStorageKey:a,...t})=>{let i=ea(e.length,n);return(0,l.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:e.map((e,n)=>{let r=D(a,e,n);switch(e.type){case"markdown":return(0,l.jsx)(j,{...e},n);case"textarea":return(0,l.jsx)($,{...e,ref:i[n],sessionStorageKey:r,...t},n);case"input":return(0,l.jsx)(J,{...e,ref:i[n],sessionStorageKey:r,...t},n);case"dropdown":return(0,l.jsx)(M,{...e,ref:i[n],sessionStorageKey:r},n);case"checkboxes":return(0,l.jsx)(W,{...e,ref:i[n],sessionStorageKey:r},n)}})})},en=({issueFormRef:e,outputRef:n,...a})=>{let t=(0,m.readInlineData)(y,e),i=ea(t.elements.length,n);return(0,l.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:t.elements.map((e,n)=>{switch(e.__typename){case"IssueFormElementMarkdown":return(0,l.jsx)(d.A,{sx:{mb:3},children:(0,l.jsx)(C,{elementRef:e})},n);case"IssueFormElementInput":return(0,l.jsx)(Y,{elementRef:e,ref:i[n],...a},n);case"IssueFormElementDropdown":return(0,l.jsx)(R,{elementRef:e,ref:i[n],...a},n);case"IssueFormElementTextarea":return(0,l.jsx)(U,{elementRef:e,ref:i[n],...a},n);case"IssueFormElementCheckboxes":return(0,l.jsx)(G,{elementRef:e,ref:i[n],...a},n);default:return null}})})},ea=(e,n)=>{let a=(0,u.useMemo)(()=>Array.from({length:e},()=>(0,u.createRef)()),[e]);return(0,u.useImperativeHandle)(n,()=>({markdown:()=>a.map(e=>e.current?.markdown()??"").filter(e=>e.length>0).join("\n\n"),getInvalidInputs:()=>a.map(e=>e.current).filter(e=>null!==e&&!e.validate()),validateInputs:()=>!a.map(e=>e.current?.validate()??!0).some(e=>!e),resetInputs:()=>{for(let e of a)e.current?.reset();n.current?.clearSessionStorage()},hasChanges:()=>a.some(e=>e.current?.hasChanges()??!1),clearSessionStorage:()=>{let e=a.map(e=>e.current?.getSessionStorageKey()).filter(e=>null!==e);(0,K.D)(e)}}),[a,n]),a};try{Z.displayName||(Z.displayName="IssueFormElements")}catch{}try{ee.displayName||(ee.displayName="IssueFormElementsViaPayload")}catch{}try{en.displayName||(en.displayName="IssueFormElementsViaQuery")}catch{}var el=a(38621),et=a(14150),ei=a(94144),er=a(35312),es=a(70404),eo=a(4576),ed=a(28339),ec=a(62456),eu=a(5796),em=a(16553),ep=a(5979),eg=a(55295);let ef=(0,u.forwardRef)(({assignees:e,anchorProps:n,displayHotkey:a,MAX_DISPLAYED_ASSIGNEES:t=2,readonly:i},r)=>(0,l.jsx)(eg._,{leadingIconElement:e.slice(0,t).map(e=>(0,l.jsx)(eh,{assignee:e},e.login)),anchorText:e.length>1?ep.k.assignees:ep.k.noAssignees,anchorProps:n,sharedPickerMainValue:e.slice(0,t).map(e=>e.isCopilot?"Copilot":e.login).join(", ").concat(e.length>t?`, ${e.length-t}+`:""),ariaLabel:ep.k.selectAssignees,readonly:i,leadingIcon:el.PeopleIcon,hotKey:!i&&a?em.w.assigneePicker.toUpperCase():void 0,ref:r}));function eh({assignee:e}){return e.isCopilot?(0,l.jsx)(el.CopilotIcon,{}):(0,l.jsx)(ec.r,{"data-hovercard-url":(0,eu.dCN)({owner:e.login}),src:e.avatarUrl,size:16,alt:`@${e.login}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))"}})}ef.displayName="CompressedAssigneeAnchor";try{eh.displayName||(eh.displayName="AssigneeLeadingVisual")}catch{}let ey=(0,u.forwardRef)(({assignees:e,readonly:n,anchorProps:a},t)=>(0,l.jsx)(ef,{assignees:e,displayHotkey:!1,anchorProps:n?void 0:a,readonly:n,ref:t}));ey.displayName="DefaultAssigneePickerAnchor";let eb=()=>(0,l.jsx)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:(0,l.jsx)(x.Q,{borderRadius:"pill",height:"lg",width:"400px"})});try{eb.displayName||(eb.displayName="MetadataFooterLoading")}catch{}var ek=a(12152),ex=a(21878),ev=a(71783),eC=a(55724),ej=a(9935);let eS=({repo:e,owner:n,setMilestoneCallback:a,canAssign:t,canLabel:i,canMilestone:r,canProject:s,canType:o,setIssueTypeCallback:c,issueTypesEnabled:m})=>{let{optionConfig:p}=(0,et.a)(),{repository:g,labels:f,setLabels:h,assignees:y,setAssignees:b,projects:k,setProjects:x,milestone:v,issueType:C}=(0,eo.u)(),j={insidePortal:p.insidePortal,shortcutEnabled:p.singleKeyShortcutsEnabled},S=k[0]?.title||"",_=g&&(t||y.length>0)&&!p.scopedAssignees?{repo:g.name,owner:g.owner.login,readonly:!t,includeAuthorableBots:!1,includeAssignableBots:!0,assignees:y,assigneeTokens:[],anchorElement:(e,n)=>(0,l.jsx)(ey,{assignees:y,readonly:!t,anchorProps:e,ref:n,...j}),onSelectionChange:b,maximumAssignees:g.planFeatures.maximumAssignees,...j}:null,I=null;return _&&(I=(0,l.jsx)(ed._g,{..._})),(0,l.jsx)(u.Suspense,{fallback:(0,l.jsx)(eb,{}),children:(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",gap:2,flexWrap:"wrap"},children:[I,p.scopedAssignees&&(0,l.jsx)(ef,{assignees:p.scopedAssignees,displayHotkey:!1,anchorProps:void 0,readonly:!0}),(i||f.length>0)&&(0,l.jsx)(ex.tJ,{repo:e,owner:n,readonly:!i,labels:f,anchorElement:(e,n)=>(0,l.jsx)(ex.vF,{readonly:!i,labels:f,anchorProps:e,ref:n,...j}),onSelectionChanged:h,...j}),m&&(o||null!==C)&&!p.scopedIssueType&&(0,l.jsx)(ej.uF,{repo:e,owner:n,onSelectionChange:c,anchorElement:e=>(0,l.jsx)(ej.ZQ,{readonly:!o,activeIssueType:C,anchorProps:e,...j}),readonly:!o,activeIssueType:C??null,width:"medium",...j}),p.scopedIssueType&&(0,l.jsx)(eg._,{anchorText:p.scopedIssueType,leadingIcon:el.IssueOpenedIcon,readonly:!0}),g&&!p.scopedProjectTitle&&(s||k.length>0)&&(0,l.jsx)(ek.t,{fallback:(0,l.jsx)(eg._,{anchorText:"Projects are unavailable",leadingIcon:el.AlertIcon,readonly:!0}),children:(0,l.jsx)(eC.wX,{pickerId:"create-issue-projects-picker",readonly:!s,onSave:x,selectedProjects:k,firstSelectedProjectTitle:S,owner:g.owner.login,repo:g.name,anchorElement:e=>(0,l.jsx)(eC.Ci,{nested:!1,readonly:!r,anchorProps:e,firstSelectedProjectTitle:S,...j}),...j})}),p.scopedProjectTitle&&(0,l.jsx)(eg._,{anchorText:p.scopedProjectTitle,leadingIcon:el.TableIcon,readonly:!0}),(r||null!==v)&&!p.scopedMilestone&&(0,l.jsx)(ev.De,{repo:e,owner:n,readonly:!r,activeMilestone:v,anchorElement:(e,n)=>(0,l.jsx)(ev.xJ,{nested:!1,readonly:!r,activeMilestone:v,anchorProps:e,ref:n,...j}),onSelectionChanged:a,...j}),p.scopedMilestone&&(0,l.jsx)(eg._,{anchorText:p.scopedMilestone,leadingIcon:el.MilestoneIcon,readonly:!0})]})})};try{eS.displayName||(eS.displayName="MetadataFooter")}catch{}var e_=a(75334),eI=a(8740),ew=a(30112),eF=a(25953),eN=a(72995);let eL=({setMilestoneCallback:e,setIssueTypeCallback:n,canAssign:a,canLabel:t,canMilestone:i,canProject:r,canType:s,issueTypesEnabled:o})=>{let{optionConfig:c}=(0,et.a)(),{repository:u,labels:m,setLabels:p,assignees:g,setAssignees:f,projects:h,setProjects:y,milestone:b,issueType:k}=(0,eo.u)(),x={insidePortal:c.insidePortal,shortcutEnabled:c.singleKeyShortcutsEnabled};return u?(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:2,flexWrap:"wrap"},children:[(0,l.jsx)("h2",{className:"sr-only",children:"Metadata"}),u&&(0,l.jsx)(eI.b2,{sx:{flexGrow:1},repo:u.name,owner:u.owner.login,readonly:!a,assignees:g,onSelectionChange:f,maximumAssignees:u.planFeatures.maximumAssignees,...x}),(0,l.jsx)(ew.qn,{repo:u.name,owner:u.owner.login,readonly:!t,labels:m,onSelectionChange:p,...x}),o&&(0,l.jsx)(eN.pf,{owner:u.owner.login,repo:u.name,...x,viewerCanType:s,type:k,onSelectionChange:n}),(0,l.jsx)(eF.PH,{owner:u.owner.login,repo:u.name,projects:h,readonly:!r,onSelectionChange:y,...x}),(0,l.jsx)(e_.C5,{sx:{flexGrow:1},repo:u.name,owner:u.owner.login,milestone:b,onSelectionChange:e,viewerCanSetMilestone:i??!1,...x})]}):null};try{eL.displayName||(eL.displayName="MetadataSidebar")}catch{}let eT=()=>{let{optionConfig:e}=(0,et.a)(),n=!e.insidePortal,{repository:a,setMilestone:t,setIssueType:i}=(0,eo.u)(),r=(0,u.useCallback)(e=>{t(e?.[0]||null)},[t]),s=(0,u.useCallback)(e=>{i(e?.[0]||null)},[i]),o=a?.viewerIssueCreationPermissions?.assignable,d=a?.viewerIssueCreationPermissions?.labelable,c=a?.viewerIssueCreationPermissions?.milestoneable,m=a?.viewerIssueCreationPermissions?.triageable,p=a?.viewerIssueCreationPermissions?.typeable,g=a?.owner?.issueTypesEnabled,f={repo:a?.name||"",owner:a?.owner.login||"",setMilestoneCallback:r,setIssueTypeCallback:s,canAssign:o??!1,canLabel:d??!1,canMilestone:c??!1,canProject:m??!1,canType:p??!1,issueTypesEnabled:g??!1};return n?(0,l.jsx)(eL,{...f}):(0,l.jsx)(eS,{...f})};try{eT.displayName||(eT.displayName="MetadataSelectors")}catch{}var eA=a(41515),eK=a(29982);let eD={container:"CreateIssueFormTitle-module__container--jYx17",formControl:"CreateIssueFormTitle-module__formControl--ApLEf",formControlLabel:"CreateIssueFormTitle-module__formControlLabel--KnkRW",subcontainer:"CreateIssueFormTitle-module__subcontainer--Wfifq"},eE=({title:e,titleValidationResult:n,titleInputRef:a,handleTitleChange:t,emojiTone:i})=>{let r=(0,l.jsx)(X.A,{ref:a,"aria-label":g.k.issueCreateTitleLabel,placeholder:g.k.issueCreateTitlePlaceholder,"aria-describedby":"issue-create-pane-title title-validation",value:e,onChange:t,onInput:t,"data-hpc":!0,autoFocus:!0,"data-react-autofocus":!0});return(0,l.jsx)("div",{className:eD.container,children:(0,l.jsxs)(N.A,{className:eD.formControl,required:!0,children:[(0,l.jsx)(N.A.Label,{className:eD.formControlLabel,children:g.k.issueCreateTitleLabel}),(0,l.jsxs)("div",{className:eD.subcontainer,children:[(0,l.jsx)(u.Suspense,{fallback:r,children:(0,l.jsx)(eK.x,{tone:i,children:r})}),n&&(0,l.jsx)("span",{role:"alert","aria-live":"assertive",children:(0,l.jsx)(N.A.Validation,{variant:"error",id:"title-validation",children:n})})]})]})})};try{eE.displayName||(eE.displayName="CreateIssueFormTitle")}catch{}let eP={commentBox:"CreateIssueForm-module__commentBox--yWrlH"},eR=({repository:e,title:n,setTitle:a,body:y,setBody:b,resetTitleAndBody:k,clearOnCreate:x,onCreateSuccess:v,onCreateError:C,selectedTemplate:j,footer:S,issueFormRef:_,onBeforeCreate:I})=>{let{optionConfig:w,createMore:F,createMoreCreatedPath:N,setCreateMoreCreatedPath:L,isSubmitting:T,setIsSubmitting:A,onCreateAction:K,setIsFileUploading:D}=(0,et.a)(),E=!w.insidePortal,P=(0,u.useRef)(null),[R,M]=(0,u.useState)("edit"),[V,O]=(0,u.useState)(void 0),[B,U]=(0,u.useState)(void 0),{addToast:$}=(0,s.Y6)(),H=(0,m.useRelayEnvironment)(),{sendAnalyticsEvent:z}=(0,es.s)(),{labels:q,assignees:G,projects:W,milestone:Q,issueType:X,parentIssue:Y,usedStorageKeyPrefix:J}=(0,eo.u)(),ee={pasteUrlsAsPlainText:w.pasteUrlsAsPlainText,useMonospaceFont:w.useMonospaceFont,emojiSkinTonePreference:w.emojiSkinTonePreference},en=(0,u.useCallback)(()=>{k(),_.current?.resetInputs()},[_,k]),ea=e.viewerIssueCreationPermissions.typeable;(0,u.useImperativeHandle)(K,()=>({onCreate:async(a,l)=>{let r,s;if(a)return;let o=(0,t.O_)(n);O(o.errorMessage),!o.isValid&&P.current&&(r=P.current);let d=j&&(0,h.GQ)(j.data),c=y;if(d&&_.current){let e=_.current.getInvalidInputs();e.length>0?r=r||e[0]:c=_.current.markdown()??""}if(r||void 0!==V||0===(n??"").trim().length||void 0===e||void 0!==B){r?.focus();return}A(!0),I&&(c=await I(c)),j&&(j.kind===h.t7.IssueTemplate||j.kind===h.t7.IssueForm)&&(s=j.name),function({environment:e,input:{title:n,body:a,repositoryId:l,labelIds:t,milestoneId:i,assigneeIds:r,issueTemplate:s,issueTypeId:o,parentIssueId:d},onError:c,onCompleted:u}){let p={title:n,body:a,repositoryId:l,labelIds:t,milestoneId:i,assigneeIds:r,issueTemplate:s,issueTypeId:o,parentIssueId:d};(0,m.commitMutation)(e,{mutation:f,variables:{input:p,fetchParent:!!p.parentIssueId},onError:e=>c&&c(e),onCompleted:e=>u&&u(e)})}({environment:H,input:{repositoryId:e.id,title:n?n.trim():"",body:c,labelIds:q.length>0?q.map(e=>e.id):void 0,assigneeIds:G.length>0?G.map(e=>e.id):void 0,milestoneId:Q?.id,issueTypeId:ea||s?X?.id:null,issueTemplate:s,parentIssueId:Y?Y.id:null},onError:e=>{(0,i.N7)(eM(e.message)),C(e),A(!1),$({type:"error",message:p.S.createIssueError})},onCompleted:e=>{if(A(!1),!e.createIssue?.issue){e.createIssue?.errors.map(e=>i.N7(eM(e.message))),$({type:"error",message:p.S.createIssueError});return}let n=e.createIssue.issue;z("analytics.click","ISSUE_CREATE_NEW_ISSUE_BUTTON",{issueId:n.id,issueNumber:n.number,issueNWO:`${n.repository.owner.login}/${n.repository.name}`}),W.length>0&&function(e,n,a){for(let l of n)(0,eA.Z)({environment:a,issueId:e,projectId:l.id})}(n.id,W,H),l?(M("edit"),L({...N,number:n.number}),en()):x(),v({issue:n,createMore:l})}})}}),[n,j,y,_,V,e,B,A,q,G,Q?.id,ea,X?.id,Y,H,C,$,z,W,en,v,L,N,x,I]);let ed=e=>{(0,t.O_)(e).isValid&&O(void 0),a(e)},ec=e=>{U((0,t.QK)(e).errorMessage),b(e)},eu=j&&(0,h.GQ)(j.data),em=(0,u.useMemo)(()=>{if(e)return{type:"issue",repository:{databaseId:e.databaseId,nwo:`${e.owner.login}/${e.name}`,slashCommandsEnabled:e.slashCommandsEnabled}}},[e]),ep=(0,u.useId)(),eg=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eE,{title:n,titleInputRef:P,handleTitleChange:e=>{ed(e.currentTarget.value)},titleValidationResult:V,emojiTone:w.emojiSkinTonePreference}),em&&!eu&&(0,l.jsxs)("div",{className:eP.commentBox,children:[(0,l.jsx)(r.h,{subject:em,label:g.k.issueCreateBodyLabel,showLabel:!0,placeholder:g.k.issueBodyPlaceholder,viewMode:R,onChangeViewMode:M,value:y,onSave:()=>K?.current?.onCreate(T,F),onChange:e=>{ec(e)},saveButtonTrailingIcon:!1,userSettings:ee,minHeightLines:w.insidePortal?14:20,"aria-describedby":B?ep:void 0,setIsFileUploading:D}),B&&(0,l.jsxs)(o.A,{variant:"danger",id:ep,children:[(0,l.jsx)(c.A,{icon:el.AlertIcon}),B]})]}),em&&eu&&(0,h.GQ)(j.data)&&(0,l.jsx)(Z,{outputRef:_,issueFormRef:j.data,subject:em,commentBoxConfig:ee,sessionStorageKey:J,defaultValuesById:(0,er.Zi)(),onSave:()=>K?.current?.onCreate(T,F),setIsFileUploading:D})]}),ef=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eT,{}),(0,l.jsx)(ei.t,{supportFileUrl:e.supportFileUrl??void 0,codeOfConductFileUrl:e.codeOfConductFileUrl??void 0,securityPolicyUrl:e.securityPolicyUrl??void 0,contributingFileUrl:e.contributingFileUrl??void 0})]}),eh=(0,l.jsx)(l.Fragment,{children:S&&(0,l.jsx)(d.A,{sx:{gridArea:"footer",mt:[4,4,eu?2:0]},children:S})});return E?(0,l.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:4},children:(0,l.jsxs)(d.A,{className:"width-fit",sx:{display:["flex","flex","grid","grid"],gridTemplateColumns:["auto","auto","minmax(0, 1fr) 256px","minmax(0, 1fr) 296px"],flexDirection:"column",gridTemplateAreas:`
              "body metadata"
              "footer nil"
            `,flexGrow:1,columnGap:4,rowGap:0},children:[(0,l.jsx)(d.A,{sx:{gridArea:"body",display:"flex",flexDirection:"column",gap:3},children:eg}),(0,l.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",gridArea:"metadata"},children:ef}),eh]})}):(0,l.jsxs)(l.Fragment,{children:[eg,ef,eh]})};function eM(e){return Error(`Issue create mutation failed with error: ${e}`)}try{eR.displayName||(eR.displayName="CreateIssueForm")}catch{}},95653:(e,n,a)=>{a.d(n,{e:()=>U,N:()=>B});var l,t,i=a(74848);let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"TemplateListPaneQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TemplateListPane"}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"TemplateListPaneQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[a,l,t,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[a,l,t,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[t,i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},{alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateTreeUrl",storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"c739bec6116882308dacac9407f33d18",metadata:{},name:"TemplateListPaneQuery",operationKind:"query",text:null}}}();r.hash="5dadac35bdaf3b2e2a4358933358fa9f";let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateListPane",selections:[{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"TemplateList"}],type:"Repository",abstractKey:null};s.hash="881cdbdb34820ab9cdf5b5c8e6409bb0";var o=a(18312);let d=function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateList",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[e,n,{args:null,kind:"FragmentSpread",name:"IssueFormRow"}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[e,n,{args:null,kind:"FragmentSpread",name:"IssueTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExternalLinkTemplateRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},{args:null,kind:"FragmentSpread",name:"TemplateListPaneFooter"}],type:"Repository",abstractKey:null}}();d.hash="ff77852c41d55955f6c4944176031c5a";var c=a(8338),u=a(52625),m=a(69145),p=a(14150),g=a(90628),f=a(35752);let h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueFormRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueForm",abstractKey:null};h.hash="4707734c7aff8e836f17a948f0fc6e8d",a(69487);var y=a(38621);let b={actionListTitle:"IssueTemplateItem-module__actionListTitle--mKoCB",templateItemContainer:"IssueTemplateItem-module__templateItemContainer--_dwDr"};var k=a(17774);let x=({filename:e,onTemplateSelected:n,name:a,about:l,link:t,externalLink:r,trailingIcon:s})=>(0,i.jsxs)(c.l.LinkItem,{as:k.N,to:t??"#",target:r?"_blank":void 0,onClick:a=>{a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||(r||t||(a.preventDefault(),a.stopPropagation()),n(e))},className:b.templateItemContainer,children:[(0,i.jsx)("span",{className:b.actionListTitle,children:a}),(0,i.jsx)(c.l.Description,{variant:"block",children:l}),(0,i.jsx)(c.l.TrailingVisual,{children:s??(0,i.jsx)(y.ArrowRightIcon,{})})]},e);try{x.displayName||(x.displayName="IssueTemplateItem")}catch{}var v=a(35312),C=a(10037);let j=({nameWithOwner:e,form:n,onTemplateSelected:a})=>{let l=(0,o.useFragment)(h,n);return(0,i.jsx)(x,{filename:l.filename,onTemplateSelected:e=>a?.(e,C.t7.IssueForm),name:l.name,about:l.description,link:a?void 0:(0,v.Qy)(e,l.filename)})};try{j.displayName||(j.displayName="IssueFormRow")}catch{}let S={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null}],type:"IssueTemplate",abstractKey:null};S.hash="2047157ce521e245c1030871b4d976b7";let _=({nameWithOwner:e,template:n,onTemplateSelected:a})=>{let l=(0,o.useFragment)(S,n);return(0,i.jsx)(x,{filename:l.filename,onTemplateSelected:e=>a?.(e,C.t7.IssueTemplate),name:l.name,about:l.about,link:a?void 0:(0,v.Qy)(e,l.filename)})};try{_.displayName||(_.displayName="IssueTemplateRow")}catch{}let I={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExternalLinkTemplateRow",selections:[{alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"RepositoryContactLink",abstractKey:null};I.hash="89d8106fd30fe009b4d13c1f4908f32e";var w=a(73218);let F=({repositoryContactLink:e})=>{let n=(0,o.useFragment)(I,e);return(0,i.jsx)(x,{filename:n.name,onTemplateSelected:w.l,name:n.name,link:n.url,about:n.about,externalLink:!0,trailingIcon:(0,i.jsx)(y.LinkExternalIcon,{})})};try{F.displayName||(F.displayName="ExternalLinkTemplateRow")}catch{}let N=({nameWithOwner:e,onTemplateSelected:n})=>(0,i.jsx)(x,{filename:C.$K,onTemplateSelected:()=>n?.(C.$K,C.t7.BlankIssue),name:u.k.blankIssueName,about:u.k.blankIssueDescription,link:n?void 0:(0,v.Qy)(e,C.$K)});try{N.displayName||(N.displayName="BlankIssueItem")}catch{}let L=({link:e})=>(0,i.jsx)(x,{filename:"default-security-policy",link:e,externalLink:!0,onTemplateSelected:w.l,name:u.k.securityPolicyName,about:u.k.securityPolicyDescription,trailingIcon:(0,i.jsx)(y.ShieldIcon,{})});try{L.displayName||(L.displayName="SecurityPolicyRow")}catch{}let T={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplateListPaneFooter",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},{alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateTreeUrl",storageKey:null}],type:"Repository",abstractKey:null};T.hash="943795ed93c0cc63517ba03d2fa08b5d";let A={fullscreen:"TemplateListPaneFooter-module__fullscreen--HM0wl",link:"TemplateListPaneFooter-module__link--RiA0A",templateFooterWrapper:"TemplateListPaneFooter-module__templateFooterWrapper--huFle",insidePortal:"TemplateListPaneFooter-module__insidePortal--cgY33"};var K=a(34614),D=a(34164);let E=({repository:e})=>{let n=(0,o.useFragment)(T,e),{optionConfig:a}=(0,p.a)(),l=n.viewerIssueCreationPermissions.typeable&&n.viewerIssueCreationPermissions.triageable,t=n.viewerCanPush?u.k.editTemplates:u.k.viewTemplates;return(0,i.jsx)("div",{className:(0,D.$)({[A.insidePortal]:a.insidePortal}),children:(0,i.jsxs)("div",{className:(0,D.$)({[A.fullscreen]:!a.insidePortal,[A.templateFooterWrapper]:!0}),children:[l&&(0,i.jsx)("span",{children:"You can now add issue types to your forms and templates! "}),(0,i.jsx)(K.A,{href:n.templateTreeUrl,className:A.link,children:t})]})})};try{E.displayName||(E.displayName="TemplateListPaneFooter")}catch{}var P=a(49720),R=a(47584);function M({repository:e,onTemplateSelected:n,className:a,setIsNavigatingToNew:l}){let{optionConfig:t,displayMode:r}=(0,p.a)(),s=(0,o.useFragment)(d,e);if(!s.hasAnyTemplates&&!s.isBlankIssuesEnabled)return(0,i.jsx)("span",{children:u.k.noTemplates});if(t.canBypassTemplateSelection){let e=function(e){if(e.contactLinks&&e.contactLinks.length>0||e.isSecurityPolicyEnabled&&e.securityPolicyUrl||e.isBlankIssuesEnabled)return null;let n=null;if(e.issueForms){if(1===e.issueForms.length)n=e.issueForms[0].filename;else if(e.issueForms.length>1)return null}if(e.issueTemplates){if(n){if(e.issueTemplates.length>0)return null}else 1===e.issueTemplates.length&&(n=e.issueTemplates[0].filename)}if(!n)return null;let a=R.fV?.origin??"",l=`${a}/${e.nameWithOwner}`;return(0,v.RG)({repositoryAbsolutePath:l,fileName:n})}(s);if(e)return l?.(!0),t.navigate?.(e),null;l?.(!1)}let h=[...s.issueForms||[],...s.issueTemplates||[]].sort((e,n)=>e.filename.localeCompare(n.filename)).map(e=>"IssueForm"===e.__typename?(0,i.jsx)(j,{onTemplateSelected:n,form:e,nameWithOwner:s.nameWithOwner},e.filename):(0,i.jsx)(_,{onTemplateSelected:n,template:e,nameWithOwner:s.nameWithOwner},e.filename)),y=(0,i.jsxs)(i.Fragment,{children:[h,s.isBlankIssuesEnabled&&(0,i.jsx)(N,{onTemplateSelected:n,nameWithOwner:s.nameWithOwner},C.$K),s.isSecurityPolicyEnabled&&(0,i.jsx)(L,{link:s.securityPolicyUrl},"security_policy"),s.contactLinks&&s.contactLinks.map(e=>(0,i.jsx)(F,{repositoryContactLink:e},`contact_links.${e.name}`))]});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.l,{className:a,"data-testid":m.Y.templateList,showDividers:!0,variant:"inset",children:t.showRepositoryPicker&&r===g.q.TemplatePicker?(0,i.jsxs)(c.l.Group,{children:[(0,i.jsx)(c.l.GroupHeading,{as:"h2",variant:"filled",className:`position-sticky top-0 x ${!t.insidePortal&&"border-top-0"} ${f.A.templateHeader}`,children:u.k.templatesFormsTitle}),y]}):y}),(0,i.jsx)(E,{repository:s})]})}let V=["220px","250px","290px","210px"].map((e,n)=>({id:`skeleton-${n}`,width:e}));try{M.displayName||(M.displayName="TemplateList")}catch{}try{(l=function(){let{optionConfig:e}=(0,p.a)();return(0,i.jsx)("div",{className:`${f.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:V.map(({id:e,width:n})=>(0,i.jsx)(P.Q,{height:"xl",width:n},e))})}).displayName||(l.displayName="TemplateListLoading")}catch{}try{(t=function({id:e}){return(0,i.jsx)("span",{id:e,children:u.k.noTemplates})}).displayName||(t.displayName="NoTemplates")}catch{}let O={disabledStateGap:"TemplateListPane-module__disabledStateGap--zgpWw"};function B({repositoryId:e,...n}){let a=(0,o.useLazyLoadQuery)(r,{id:e});return a.node?(0,i.jsx)(U,{repository:a.node,...n}):null}function U({repository:e,descriptionId:n,...a}){let{optionConfig:l}=(0,p.a)(),{insidePortal:t}=l,r=(0,o.useFragment)(s,e);return(0,i.jsx)("div",{children:r.hasIssuesEnabled?(0,i.jsx)(M,{repository:r,...a,className:`${t?"":`border borderColor-muted rounded-2 overflow-hidden
                ${l.showRepositoryPicker?"pt-0 mt-0":"py-2 mt-2"}`}`}):(0,i.jsxs)("div",{className:`${O.disabledStateGap} d-flex flex-row flex-items-center m-3`,children:[(0,i.jsx)(y.InfoIcon,{}),(0,i.jsx)("span",{id:n,children:u.k.issuesDisabledForRepo})]})})}try{B.displayName||(B.displayName="TemplateListPaneFromRepo")}catch{}try{U.displayName||(U.displayName="TemplateListInternal")}catch{}},14150:(e,n,a)=>{a.d(n,{a:()=>d,o:()=>o});var l=a(74848),t=a(96540),i=a(8776),r=a(26677);let s=(0,t.createContext)(null);function o({optionConfig:e,overrideFallbackDisplaymode:n,children:a}){let{issueCreateMore:o}=i.tT.localStorageKeys,[d,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)(!1),[p,g]=(0,r.F)(`config.${o(e.storageKeyPrefix)}`,!1),[f,h]=(0,t.useState)({owner:"",repo:"",number:void 0}),y=e.getDefaultDisplayMode(n),[b,k]=(0,t.useState)(y),x=(0,t.useRef)(null),v=(0,t.useMemo)(()=>({optionConfig:e,createMore:p,setCreateMore:g,createMoreCreatedPath:f,setCreateMoreCreatedPath:h,displayMode:b,setDisplayMode:k,initialDefaultDisplayMode:y,isSubmitting:d,isFileUploading:u,setIsFileUploading:m,setIsSubmitting:c,onCreateAction:x,isSubIssue:!!e.issueCreateArguments?.parentIssue?.id}),[e,p,g,f,h,b,y,d,u]);return(0,l.jsx)(s.Provider,{value:v,children:a})}let d=()=>{let e=(0,t.useContext)(s);if(!e)throw Error("useIssueCreateConfigContext must be used within a IssueCreateConfigContextProvider.");return e};try{s.displayName||(s.displayName="IssueCreateContext")}catch{}try{o.displayName||(o.displayName="IssueCreateConfigContextProvider")}catch{}},64704:(e,n,a)=>{a.d(n,{S:()=>r});var l=a(74848),t=a(4576),i=a(14150);function r({children:e,...n}){return(0,l.jsx)(i.o,{...n,children:(0,l.jsx)(t.s,{...n,children:e})})}try{r.displayName||(r.displayName="IssueCreateContextProvider")}catch{}},4576:(e,n,a)=>{a.d(n,{s:()=>f,u:()=>h});var l=a(74848),t=a(96540),i=a(26677),r=a(8776),s=a(9935),o=a(10037),d=a(47584),c=a(28339),u=a(69487),m=a(21878),p=a(55724);let g=(0,t.createContext)(null);function f({optionConfig:e,preselectedData:n,children:a}){let{storageKeyPrefix:f,issueCreateArguments:h}=e,{issueLabels:y,issueAssignees:b,issueProjects:k,issueMilestone:x,issueIssueType:v,issueTitle:C,issueBody:j}=r.tT.localStorageKeys,[S,_]=(0,t.useState)(n?.repository),[I,w]=(0,t.useState)(n?.template),[F,N]=(0,t.useState)(`${f}.${I?.fileName||o.$K}`),L="";if(h?.initialValues?.discussion)L=h?.initialValues?.discussion.title;else if(h?.initialValues?.title)L=h?.initialValues?.title;else if(I){let e;let n=(e="",I?.data&&(e=I?.data.title||""),e),a="";h?.initialValues?.appendTitleToTemplate&&(a=` ${h?.initialValues?.appendTitleToTemplate}`),L=[n,a].join("").trimStart()}else h?.initialValues?.appendTitleToTemplate&&(L=h?.initialValues?.appendTitleToTemplate);let[T,A,K]=(0,i.F)(C(F),L),D="";if(h?.initialValues?.discussion)D=h?.initialValues?.discussion.formattedBody;else if(h?.initialValues?.body)D=h?.initialValues?.body;else if(I){let e;e="",I?.data&&(0,o.Al)(I?.data)&&(e=I?.data.body||""),D=e}let[E,P,R]=(0,i.F)(j(F),D),M=[];if(h?.initialValues?.discussion)M=h?.initialValues?.discussion?.labels||[];else if(h?.initialValues?.labels)M=h?.initialValues?.labels;else if(I){let e;e=[],I?.data&&(e=I?.data.labels?.edges?.flatMap(e=>e?.node?[u.readInlineData(m.l_,e?.node)]:[])||[]),M=e}let[V,O,B]=(0,i.F)(y(F),M),U=[];if(h?.initialValues?.assignees)U=h?.initialValues?.assignees;else if(I){let e;e=[],I?.data&&(e=I?.data.assignees?.edges?.flatMap(e=>e?.node?[u.readInlineData(c.G1,e?.node)]:[])||[]),U=e}let[$,H,z]=(0,i.F)(b(F),U),q=[];if(h?.initialValues?.projects)q=h?.initialValues?.projects;else if(I){let e;e=[],I?.data&&(0,o.GQ)(I?.data)&&(e=I.data.projects?.edges?.flatMap(e=>e?.node?[u.readInlineData(p.dW,e?.node)]:[])||[]),q=e}let[G,W,Q]=(0,i.F)(k(F),q),X=null;h?.initialValues?.milestone&&(X=h?.initialValues?.milestone);let[Y,J,Z]=(0,i.F)(x(F),X),ee=null;if(h?.initialValues?.type)ee=h?.initialValues?.type;else if(I){let e;e=null,I?.data&&((0,o.GQ)(I?.data)||(0,o.Al)(I?.data))&&(e=(0,u.readInlineData)(s.sH,I?.data.type)??null),ee=e}let[en,ea,el]=(0,i.F)(v(F),ee),[et,ei]=(0,t.useState)(T),[er,es]=(0,t.useState)(E),eo=(0,t.useCallback)(e=>{A(e),ei(e)},[A,ei]),ed=(0,t.useCallback)(e=>{P(e),es(e)},[P,es]),ec=(0,t.useCallback)(()=>{eo(et),ed(er)},[eo,et,ed,er]),eu=(0,t.useCallback)(()=>{H([]),O([]),W([]),J(null)},[H,O,J,W]),em=(0,t.useCallback)(()=>{(0,i.D)((0,r.wK)(F))},[F]),ep=d.fV?.origin??"",eg=S?.nameWithOwner??"",ef=(0,t.useMemo)(()=>`${ep}/${eg}`,[ep,eg]),eh=n?.parentIssue??null,ey=(0,t.useCallback)(e=>{w(e),N(`${f}.${e?.fileName||o.$K}`)},[f]),eb=(0,t.useMemo)(()=>({reinitTitle:K,reinitBody:R,reinitAssignees:z,reinitLabels:B,reinitProjects:Q,reinitMilestone:Z,reinitIssueType:el,usedStorageKeyPrefix:F,clearSessionData:em,clearMetadata:eu,setNewTitle:eo,setNewBody:ed,resetTitleAndBody:ec,originalTitle:et,setOriginalTitle:ei,originalBody:er,setOriginalBody:es,title:T,setTitle:A,body:E,setBody:P,repository:S,setRepository:_,repositoryAbsolutePath:ef,template:I,setTemplate:ey,preselectedRepository:n?.repository,preselectedTemplate:n?.template,labels:V,setLabels:O,assignees:$,setAssignees:H,projects:G,setProjects:W,milestone:Y,setMilestone:J,issueType:en,setIssueType:ea,parentIssue:eh}),[K,R,z,B,Q,Z,el,F,em,eu,eo,ed,ec,et,er,T,A,E,P,S,ef,I,ey,n?.repository,n?.template,V,O,$,H,G,W,Y,J,en,ea,eh]);return(0,l.jsx)(g.Provider,{value:eb,children:a})}let h=()=>{let e=(0,t.useContext)(g);if(!e)throw Error("useIssueCreateDataContext must be used within a IssueCreateDataContextProvider.");return e};try{g.displayName||(g.displayName="IssueCreateDataContext")}catch{}try{f.displayName||(f.displayName="IssueCreateDataContextProvider")}catch{}},3541:(e,n,a)=>{a.d(n,{or:()=>Z,vN:()=>ee});var l=a(74848);let t=function(){var e={defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"},n={defaultValue:null,kind:"LocalArgument",name:"name"},a={defaultValue:null,kind:"LocalArgument",name:"owner"},l=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],t={alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isSecurityPolicyEnabled",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},m={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},x={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},I={alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"about",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[t,i,{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[r,s,o,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[s,c,u,m],storageKey:null},p,g,f,h,y,b,k,x,v,C,j,S,_,I],args:null,argumentDefinitions:[]},{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssueDialog"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,e],kind:"Operation",name:"CreateIssueDialogEntryQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[t,i,r,s,o,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[w,s,c,u,m,r],storageKey:null},p,g,f,h,y,b,k,x,v,C,j,S,_,I,{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"IssueForm",kind:"LinkedField",name:"issueForms",plural:!0,selections:[w,F,o,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplates",plural:!0,selections:[w,F,o,N],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,concreteType:"RepositoryContactLink",kind:"LinkedField",name:"contactLinks",plural:!0,selections:[o,N,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateTreeUrl",storageKey:null}]}],storageKey:null}]},params:{id:"b1d0b86530a8b831c3eb6018ebd4d5d9",metadata:{},name:"CreateIssueDialogEntryQuery",operationKind:"query",text:null}}}();t.hash="c3b374f48658ec3e008d096bf0739fc8";var i=a(10833),r=a(96540),s=a(18312),o=a(73218),d=a(8776),c=a(41686),u=a(5796);let m={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssueDialog",selections:[{args:[{kind:"Variable",name:"includeTemplates",variableName:"includeTemplates"}],kind:"FragmentSpread",name:"CreateIssue"}],type:"Repository",abstractKey:null};m.hash="2462dd98bf9bee7cbb97c2e845715e7c";var p=a(16255),g=a(15033),f=a(74144),h=a(14150),y=a(38621),b=a(75177),k=a(26514),x=a(35312),v=a(52625),C=a(10273),j=a(90628),S=a(4576),_=a(10037),I=a(11499);let w=({navigate:e,dialogLabelId:n,onClose:a})=>{let{displayMode:t,optionConfig:i,isSubIssue:s}=(0,h.a)(),{repository:d,repositoryAbsolutePath:c,template:u}=(0,S.u)(),m=(0,r.useCallback)(()=>{a("close-button")},[a]),p=(0,r.useMemo)(()=>(0,x.jk)(c),[c]),g=t===j.q.TemplatePicker&&void 0!==d,w=t===j.q.IssueCreation&&i.showFullScreenButton&&e!==o.l&&void 0!==d,F=(0,r.useMemo)(()=>{if(t===j.q.TemplatePicker||!d?.nameWithOwner){let e=i.issueCreateArguments?.initialValues?.title;return v.k.issueCreateDialogTitleTemplatePane+(e?` - "${e}"`:"")}let e=u&&u.kind!==_.t7.BlankIssue?u.name:void 0,n=s?"sub-issue":"issue";return t===j.q.IssueDuplication?v.k.issueCreateDialogTitleDuplicationPane(d.nameWithOwner,n):v.k.issueCreateDialogTitleCreationPane(d.nameWithOwner,e,n)},[t,s,d?.nameWithOwner,u,i]);return(0,l.jsxs)(f.l.Header,{children:[(0,l.jsx)(I.ak,{commands:{"issue-create:open-fullscreen":()=>{if(!w)return;let n=`/${d.nameWithOwner}/issues/new`,a=u&&u.kind!==_.t7.BlankIssue?u.fileName:void 0;e(a?`${n}?template=${encodeURIComponent(a)}`:n)}}}),(0,l.jsxs)(b.A,{sx:{display:"flex"},children:[(0,l.jsx)(b.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,l.jsx)(f.l.Title,{id:n,children:F})}),g&&(0,l.jsx)(k.T,{sx:{pt:"2px",borderRadius:"4px"},textToCopy:p,ariaLabel:C.l.copyUrl,icon:y.CopyIcon,tooltipProps:{direction:"n"}}),w&&(0,l.jsx)(I.N5,{sx:{pt:"2px",borderRadius:"4px"},variant:"invisible",commandId:"issue-create:open-fullscreen",icon:y.ScreenFullIcon}),(0,l.jsx)(f.l.CloseButton,{onClose:m})]})]})};try{w.displayName||(w.displayName="CreateIssueDialogHeader")}catch{}var F=a(22418);a(69487);let N=function(){var e={defaultValue:null,kind:"LocalArgument",name:"filename"},n={defaultValue:null,kind:"LocalArgument",name:"repoId"},a=[{kind:"Variable",name:"id",variableName:"repoId"}],l=[{kind:"Variable",name:"filename",variableName:"filename"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={kind:"Literal",name:"first",value:20},c=[d,{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f=[u,m,i,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},p,g],h={alias:null,args:c,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:f,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},y=[{kind:"Literal",name:"first",value:10}],b={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},x={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},v={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},C={alias:null,args:y,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:[{kind:"InlineFragment",selections:[t,u,b,i,k,x,v],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},j=[u,i,{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},p,m],S={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueType",selections:j,args:null,argumentDefinitions:[]}],storageKey:null},_={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},I=[d],w=[u,o,{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},t],F={alias:null,args:c,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:f,storageKey:null}],storageKey:null}],storageKey:'labels(first:20,orderBy:{"direction":"ASC","field":"NAME"})'},N={alias:null,args:y,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[u,{kind:"InlineFragment",selections:[t,b,i,k,x,v],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:null}],storageKey:"assignees(first:10)"},L={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"type",plural:!1,selections:j,storageKey:null},T={alias:"itemId",args:null,kind:"ScalarField",name:"id",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null};return{fragment:{argumentDefinitions:[e,n],kind:"Fragment",metadata:null,name:"CreateIssueQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChange",selections:[{alias:null,args:l,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueTemplate",selections:[t,i,r,s,o,h,C,S,_],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:l,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useHandleTemplateChangeIssueForm",selections:[t,i,r,o,{kind:"InlineDataFragmentSpread",name:"IssueFormElements_templateElements",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextInputElement_input"}],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TextAreaElement_input"}],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownElement_input"}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"DropdownElement_input"}],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CheckboxesElement_input"}],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[]},h,C,{alias:null,args:I,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projects",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"ProjectPickerProject",selections:w,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:"projects(first:20)"},S,_],args:null,argumentDefinitions:[]}],storageKey:null}],args:l,argumentDefinitions:[{defaultValue:"",kind:"LocalArgument",name:"filename"}]}],type:"Repository",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e],kind:"Operation",name:"CreateIssueQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[t,u,{kind:"InlineFragment",selections:[{alias:null,args:l,concreteType:"IssueTemplate",kind:"LinkedField",name:"issueTemplate",plural:!1,selections:[t,i,r,s,o,F,N,L,_],storageKey:null},{alias:null,args:l,concreteType:"IssueForm",kind:"LinkedField",name:"issueForm",plural:!1,selections:[t,i,r,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"elements",plural:!0,selections:[t,{kind:"InlineFragment",selections:[T,A,K,D,E,P,_],type:"IssueFormElementInput",abstractKey:null},{kind:"InlineFragment",selections:[T,A,K,D,E,P,{alias:null,args:null,kind:"ScalarField",name:"render",storageKey:null},_],type:"IssueFormElementTextarea",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentHTML",storageKey:null}],type:"IssueFormElementMarkdown",abstractKey:null},{kind:"InlineFragment",selections:[A,K,{alias:null,args:null,kind:"ScalarField",name:"options",storageKey:null},P,{alias:null,args:null,kind:"ScalarField",name:"multiple",storageKey:null},{alias:"defaultOptionIndex",args:null,kind:"ScalarField",name:"default",storageKey:null},_],type:"IssueFormElementDropdown",abstractKey:null},{kind:"InlineFragment",selections:[A,K,{alias:"checkboxOptions",args:null,concreteType:"IssueFormElementCheckboxOption",kind:"LinkedField",name:"options",plural:!0,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"labelHTML",storageKey:null},P],storageKey:null},_],type:"IssueFormElementCheckboxes",abstractKey:null}],storageKey:null},F,N,{alias:null,args:I,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projects",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:w,storageKey:null}],storageKey:null}],storageKey:"projects(first:20)"},L,_],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"4ffbcb331b611999ef714eedde0b3d0b",metadata:{},name:"CreateIssueQuery",operationKind:"query",text:null}}}();N.hash="cb09c336bdc691d8eb1e3f9f631f7c21";let L={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeTemplates"}],kind:"Fragment",metadata:null,name:"CreateIssue",selections:[{condition:"includeTemplates",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"TemplatePickerButton"},{args:null,kind:"FragmentSpread",name:"TemplateListPane"}]}],type:"Repository",abstractKey:null};L.hash="6bac26855f609043b950b952fed1e254";var T=a(1301);let A={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TemplatePickerButton",selections:[{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAnyTemplates",storageKey:null}],type:"Repository",abstractKey:null};A.hash="fc9ace64aa764ca00db0ea2f61b67a2b";var K=a(55847),D=a(52464);function E({repository:e,template:n}){let a=(0,s.useFragment)(A,e),{setDisplayMode:t}=(0,h.a)(),i=n?n.name:v.k.blankIssueName,o=(0,r.useRef)(null);return((0,r.useEffect)(()=>{o.current?.focus()},[]),a.hasAnyTemplates)?(0,l.jsx)(b.A,{sx:{width:"content"},"data-testid":"template-picker-button",children:(0,l.jsxs)(K.Q,{"data-testid":"template-picker-button-el",onClick:()=>t(j.q.TemplatePicker),leadingVisual:y.RepoIcon,trailingVisual:y.PencilIcon,ref:o,children:[a&&(0,l.jsxs)("span",{children:[i," ",(0,l.jsx)(D.A,{sx:{fontWeight:"light"},children:"in"})," ",a.nameWithOwner]}),!e&&(0,l.jsx)(l.Fragment,{children:"Select a repository"})]})}):null}try{E.displayName||(E.displayName="TemplatePickerButton")}catch{}var P=a(95653),R=a(49720),M=a(35752);let V=["220px","250px","290px","210px"].map((e,n)=>({id:`skeleton-${n}`,width:e}));function O(){let{optionConfig:e}=(0,h.a)();return(0,l.jsx)("div",{className:`${M.A.skeletonContainer} ${e.insidePortal&&"ml-3"}`,children:V.map(({id:e,width:n})=>(0,l.jsx)(R.Q,{height:"xl",width:n},e))})}try{O.displayName||(O.displayName="TemplateListLoading")}catch{}var B=a(69145);function U({repository:e,setRepository:n,topReposQueryRef:a,organization:t,onTemplateSelected:s}){let{optionConfig:o}=(0,h.a)(),d=(0,r.useId)(),c=o.insidePortal?"ml-3":"ml-0";return(0,l.jsxs)("div",{className:o.insidePortal?"pt-2":"","data-testid":B.Y.repositoryAndTemplateDialog,children:[(0,l.jsx)($,{className:c,name:"Repository"}),(0,l.jsx)("div",{className:`${o.insidePortal?"mb-2":"mb-3"} ${c}`,children:(0,l.jsx)(i.f0,{"aria-describedby":d,initialRepository:e,onSelect:n,organization:t,topReposQueryRef:a,focusRepositoryPicker:!0,enforceAtleastOneSelected:!0,options:{hasIssuesEnabled:!0}})}),(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(O,{}),children:e&&(0,l.jsx)(P.N,{repositoryId:e.id,onTemplateSelected:s,descriptionId:d})})]})}function $({name:e,className:n}){return(0,l.jsxs)("div",{className:`pt-1 pb-1 ${n}`,children:[(0,l.jsx)("span",{className:"text-bold",children:e}),(0,l.jsx)("span",{className:"ml-1 mb-1 fgColor-danger",children:"*"})]})}try{U.displayName||(U.displayName="RepositoryAndTemplatePickerDialog")}catch{}try{$.displayName||($.displayName="Field")}catch{}var H=a(45336),z=a(71137),q=a(67136);let G=({topReposQueryRef:e,navigate:n,currentRepository:a,onCreateSuccess:t,issueFormRef:i,...o})=>{let d=(0,s.useFragment)(L,a),{addToast:c}=(0,q.Y6)(),u=(0,s.useRelayEnvironment)(),{title:m,body:p,setBody:g,repository:f,setRepository:y,template:k,setNewTitle:x,resetTitleAndBody:v,clearMetadata:C,clearSessionData:I}=(0,S.u)(),{optionConfig:w,displayMode:F,initialDefaultDisplayMode:A,setDisplayMode:K,setCreateMoreCreatedPath:D}=(0,h.a)(),R=(0,r.useCallback)(e=>{e&&(f?.id!==e.id&&C(),y(e),D({owner:e.owner.login,repo:e.name,number:void 0}))},[C,f?.id,D,y]),M=(0,H.wT)({optionConfig:w,repository:f,navigate:n,setDisplayMode:K}),V=(0,r.useCallback)((e,n)=>{let a;if(f&&n!==_.t7.ContactLink){if(w.issueCreateArguments?.initialValues?.appendTitleToTemplate&&(a={appendTitleToTemplate:w.issueCreateArguments.initialValues.appendTitleToTemplate}),n===_.t7.BlankIssue){M((0,_.AI)(),a,!0);return}(0,s.fetchQuery)(u,N,{repoId:f.id,filename:e}).subscribe({next:e=>{if(!e.node)return;let n=(0,H.EV)(e.node);n&&M(n,a,!0)},error:()=>{reportError(Error(z.S.unableToLoadSelectedTemplate)),c({type:"error",message:z.S.unableToLoadSelectedTemplate})}})}},[f,u,w.issueCreateArguments?.initialValues?.appendTitleToTemplate,M,c]),O=(0,r.useCallback)(({issue:e,createMore:n})=>{t&&t({issue:e,createMore:n}),i.current?.clearSessionStorage(),I(),n&&(k?(i.current?.resetInputs(),M(k)):(C(),v()))},[C,I,M,i,t,v,k]);if((0,r.useEffect)(()=>{f&&D({owner:f.owner?.login||"",repo:f.name||"",number:void 0})},[f,D]),!d&&!f)return(0,l.jsx)(W,{repository:f,onRepositorySelected:R,topReposQueryRef:e,organization:w.scopedOrganization,onTemplateSelected:V});let B=A===j.q.IssueCreation;return(0,l.jsxs)(b.A,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:2},tabIndex:-1,children:[(F===j.q.IssueCreation||F===j.q.IssueDuplication)&&(0,l.jsxs)(l.Fragment,{children:[B&&d&&(0,l.jsx)(E,{repository:d,template:k}),f&&(0,l.jsx)(T.e,{...o,issueFormRef:i,onCreateSuccess:O,selectedTemplate:k,repository:f,title:m,setTitle:x,body:p,setBody:g,resetTitleAndBody:v,clearOnCreate:I,focusTitleInput:!B,footer:void 0})]}),w.showRepositoryPicker&&F===j.q.TemplatePicker&&e&&(0,l.jsx)(U,{repository:f,setRepository:R,topReposQueryRef:e,organization:w.scopedOrganization,onTemplateSelected:V}),!w.showRepositoryPicker&&F===j.q.TemplatePicker&&d&&(0,l.jsx)("div",{"data-hpc":!0,children:(0,l.jsx)(P.e,{repository:d,onTemplateSelected:V,...o})})]})};function W({repository:e,onRepositorySelected:n,topReposQueryRef:a,organization:t,onTemplateSelected:i}){return a?(0,l.jsx)(b.A,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:2},tabIndex:-1,children:(0,l.jsx)(U,{repository:e,setRepository:n,topReposQueryRef:a,organization:t,onTemplateSelected:i})}):null}try{G.displayName||(G.displayName="CreateIssue")}catch{}try{W.displayName||(W.displayName="CreateIssueWithoutRepo")}catch{}var Q=a(82939);let X=({onCreateSuccess:e,onCancel:n,navigate:a,currentRepository:t,isNavigatingToNew:i,returnFocusRef:o,...d})=>{let{optionConfig:c,initialDefaultDisplayMode:u,setDisplayMode:y,displayMode:b,setCreateMore:k}=(0,h.a)(),{usedStorageKeyPrefix:x}=(0,S.u)(),v=(0,s.useFragment)(m,t),C=(0,r.useCallback)(()=>{k(!1),y(u),n()},[u,n,k,y]),{onSafeClose:_}=(0,Q.Z)({storageKeyPrefix:x,issueFormRef:d.issueFormRef,onCancel:C}),I=(0,r.useCallback)(({issue:n,createMore:a})=>{e({issue:n,createMore:a}),a||y(u)},[u,e,y]),N={...d,onCancel:_},L=(0,r.useMemo)(()=>!i||!c.canBypassTemplateSelection,[i,c.canBypassTemplateSelection]);return(0,l.jsx)(p.Z,{children:(0,l.jsx)(g.g,{flags:{primer_react_select_panel_with_modern_action_list:!0},children:(0,l.jsx)(f.l,{returnFocusRef:o,renderHeader:e=>(0,l.jsx)(w,{navigate:a,...e}),renderFooter:()=>b===j.q.IssueCreation||b===j.q.IssueDuplication?(0,l.jsx)(f.l.Footer,{children:(0,l.jsx)(F.l,{onClose:()=>_(),...d})}):null,renderBody:()=>(0,l.jsx)("div",{className:`${b===j.q.IssueCreation||b===j.q.IssueDuplication?"p-3":"p-0"}`,children:(0,l.jsx)(G,{onCreateSuccess:I,navigate:a,currentRepository:v,...N})}),onClose:_,width:"xlarge",height:"auto",sx:{width:"100%",margin:4,maxWidth:"800px",maxHeight:"clamp(300px, 80vh, 800px)",visibility:L?"visible":"hidden"}})})})};try{X.displayName||(X.displayName="CreateIssueDialog")}catch{}var Y=a(64704),J=a(65308);let Z=({...e})=>(0,l.jsx)(r.Suspense,{children:(0,l.jsx)(ee,{...e})}),ee=({navigate:e,isCreateDialogOpen:n,setIsCreateDialogOpen:a,onCancel:o,onCreateSuccess:m,onCreateError:p,optionConfig:g,isNavigatingToNew:f,setIsNavigatingToNew:h,returnFocusRef:y})=>{let[b,k,x]=(0,s.useQueryLoader)(i.m),[v,C,j]=(0,s.useQueryLoader)(t),S=(0,c.S)(g),_=S.showRepositoryPicker;(0,r.useEffect)(()=>{if(_)return k({topRepositoriesFirst:d.tT.repositoriesPreloadCount,hasIssuesEnabled:!0,owner:null},{fetchPolicy:"store-or-network"}),()=>{x()}},[x,k,_]);let I=(0,r.useMemo)(()=>S.issueCreateArguments?.repository?{owner:S.issueCreateArguments.repository.owner,name:S.issueCreateArguments.repository.name}:null,[S.issueCreateArguments?.repository]);(0,r.useEffect)(()=>(I&&C({...I,includeTemplates:!0},{fetchPolicy:"store-or-network"}),()=>j()),[j,I,C]);let w=()=>{o?.(),a(!1)};return n&&(!_||b)&&(v||!I)?(0,l.jsx)(en,{createIssueProps:{topReposQueryRef:b??void 0,onCreateSuccess:({issue:n,createMore:a})=>{m?m({issue:n,createMore:a}):a||(w(),e((0,u.dRG)({owner:n.repository.owner.login,repo:n.repository.name,issueNumber:n.number})))},onCreateError:e=>p?.(e),onCancel:w,navigate:e,isNavigatingToNew:f,setIsNavigatingToNew:h},config:S,currentRepoQueryRef:v??null,returnFocusRef:y}):null},en=({currentRepoQueryRef:e,...n})=>e?(0,l.jsx)(ea,{currentRepoQueryRef:e,...n}):(0,l.jsx)(el,{currentRepoData:null,...n}),ea=({currentRepoQueryRef:e,...n})=>{let a=(0,s.usePreloadedQuery)(t,e);return(0,l.jsx)(el,{currentRepoData:a,...n})},el=({createIssueProps:e,config:n,currentRepoData:a,returnFocusRef:t})=>{let d=e.navigate??o.l,c=a&&void 0!==a.repository?(0,s.readInlineData)(i.R6,a.repository):null,u=(0,r.useRef)(null),m={repository:c??void 0,template:void 0,parentIssue:n.issueCreateArguments?.parentIssue},p={...e,issueFormRef:u},g=d!==o.l&&c&&!a?.repository?.isSecurityPolicyEnabled&&!a?.repository?.hasAnyTemplates;return((0,r.useEffect)(()=>{if(g){let e=(0,J.H_)({includeRepository:!1,repository:c,templateFileName:void 0,title:n.issueCreateArguments?.initialValues?.title,body:n.issueCreateArguments?.initialValues?.body,assignees:n.issueCreateArguments?.initialValues?.assignees,labels:n.issueCreateArguments?.initialValues?.labels,projects:n.issueCreateArguments?.initialValues?.projects,milestone:n.issueCreateArguments?.initialValues?.milestone,type:n.issueCreateArguments?.initialValues?.type});d(`/${c.nameWithOwner}/issues/new${e?`?${e}`:""}`)}},[n.issueCreateArguments?.initialValues?.assignees,n.issueCreateArguments?.initialValues?.body,n.issueCreateArguments?.initialValues?.labels,n.issueCreateArguments?.initialValues?.milestone,n.issueCreateArguments?.initialValues?.projects,n.issueCreateArguments?.initialValues?.title,n.issueCreateArguments?.initialValues?.type,d,g,c]),g)?null:(0,l.jsx)(Y.S,{optionConfig:n,overrideFallbackDisplaymode:j.q.TemplatePicker,preselectedData:m,children:(0,l.jsx)(X,{currentRepository:a?.repository,...p,returnFocusRef:t})})};try{Z.displayName||(Z.displayName="CreateIssueDialogEntry")}catch{}try{ee.displayName||(ee.displayName="CreateIssueDialogEntryInternal")}catch{}try{en.displayName||(en.displayName="CreateIssueEntry")}catch{}try{ea.displayName||(ea.displayName="CreateIssueEntryWithRepo")}catch{}try{el.displayName||(el.displayName="CreateIssueEntryInternal")}catch{}},95641:(e,n,a)=>{a.d(n,{h:()=>i});var l=a(74848),t=a(6715);function i({title:e,headingProps:{...n}={},...a}){return(0,l.jsx)(t.X,{title:e,headingProps:n,...a,readonly:!0})}try{i.displayName||(i.displayName="ReadonlySectionHeader")}catch{}},35436:(e,n,a)=>{a.d(n,{w:()=>r});var l=a(74848),t=a(75177),i=a(52464);function r({children:e,emptyText:n,sectionHeader:a,hideDivider:r,id:s,sx:o}){return(0,l.jsxs)(t.A,{"data-testid":s??"sidebar-section",sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingTop:1,marginBottom:r?0:3,position:"relative",width:"100%",":after":r?void 0:{content:'""',position:"absolute",height:"1px",bottom:"-8px",left:"8px",bg:"border.muted",width:"calc(100% - 8px)"},...o},children:[(0,l.jsxs)(t.A,{sx:{width:"100%"},children:[a,n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{sx:{fontSize:0,px:2,mb:2,mt:1,color:"fg.muted",display:"block"},children:n}),(0,l.jsx)(t.A,{sx:{height:"0px",p:0,m:0,border:"0",visibility:"hidden"},children:e})]})]}),!n&&(0,l.jsx)(t.A,{sx:{width:"100%",p:0},children:e})]})}try{r.displayName||(r.displayName="Section")}catch{}},6715:(e,n,a)=>{a.d(n,{X:()=>d});var l=a(74848),t=a(38621),i=a(75177),r=a(84217),s=a(55847),o=a(52464);let d=(0,a(96540).forwardRef)(({id:e,title:n,buttonProps:a,headingProps:{as:d="h3",...c}={},readonly:u,...m},p)=>{let g=u?{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",pb:"8px",...m.sx}:{width:"100%",position:"relative",...m.sx};return(0,l.jsxs)(i.A,{sx:g,children:[(0,l.jsx)(r.A,{id:e,as:d,sx:{top:1,left:2,fontSize:0,color:"fg.muted",position:u?"relative":"absolute",pointerEvents:"none",...c},children:n}),!u&&(0,l.jsx)(s.Q,{ref:p,...a,variant:"invisible",size:"small",trailingAction:t.GearIcon,block:!0,sx:{alignContent:"start"},children:(0,l.jsx)(o.A,{className:"sr-only",sx:{fontWeight:600,fontSize:0,lineHeight:"20px",color:"fg.muted"},children:`Edit ${n}`})})]})});d.displayName="SectionHeader"},8740:(e,n,a)=>{a.d(n,{b2:()=>D,rC:()=>R,sC:()=>E,Qq:()=>P});var l=a(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionLazyFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:"suggestedActors(first:10)"}],type:"Issue",abstractKey:null};t.hash="77699d3071f1d2b6f7b487e15a280ee8";let i=function(){var e=[{kind:"Literal",name:"first",value:20}],n=[{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionAssignees",selections:[{alias:null,args:e,concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:n,storageKey:null}],storageKey:"assignees(first:20)"},{alias:null,args:e,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:n,storageKey:null}],storageKey:"assignedActors(first:20)"}],type:"Issue",abstractKey:null}}();i.hash="1f183d96cbcc2a6cb1d696105a3730c1";let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AssigneesSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"AssigneesSectionAssignees"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdateNext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanAssign",storageKey:null}],type:"Issue",abstractKey:null};r.hash="f0941787e3a0595d3f1cde06af4d2e01";var s=a(8338),o=a(75177),d=a(38621),c=a(57814),u=a(62456);function m({login:e,id:n,avatarUrl:a}){return(0,c.vM)(e)?(0,l.jsx)(d.CopilotIcon,{}):(0,l.jsx)(u.r,{src:a,size:20,alt:`@${e}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))"}},n)}try{m.displayName||(m.displayName="AssigneeVisual")}catch{}var p=a(19296);let g={copilot:{displayName:"Copilot"}};function f({assignees:e,testId:n}){return(0,l.jsx)(s.l,{sx:{py:0},variant:"full",children:e.sort(h).map(e=>{let{login:a,avatarUrl:t,profileResourcePath:i}=e,r=(0,c.vM)(a)?g.copilot.displayName:a;return(0,l.jsxs)(s.l.LinkItem,{href:i??void 0,target:"_blank",...(0,p.S)(a,{isCopilot:(0,c.vM)(a)}),children:[(0,l.jsx)(s.l.LeadingVisual,{children:(0,l.jsx)(m,{login:a,id:e.id,avatarUrl:t})}),(0,l.jsx)(o.A,{sx:{mx:0,width:"100%",fontSize:0,fontWeight:"600"},"data-testid":n,children:r})]},e.id)})})}function h(e,n){return e.login===n.login?0:e.login>n.login?1:-1}try{f.displayName||(f.displayName="Assignees")}catch{}var y=a(19335);let b=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l=[{kind:"Literal",name:"first",value:20}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},o={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},c=[{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:[{kind:"InlineFragment",selections:[t,a,i,r,s,o,d],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],u=[{kind:"Literal",name:"first",value:10}],m={kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"replaceActorsForAssignableMutation",selections:[{alias:null,args:n,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:l,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:c,storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:u,concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:c,storageKey:null}],storageKey:"participants(first:10)"}],type:"Issue",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"replaceActorsForAssignableMutation",selections:[{alias:null,args:n,concreteType:"ReplaceActorsForAssignablePayload",kind:"LinkedField",name:"replaceActorsForAssignable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"assignable",plural:!1,selections:[t,{kind:"InlineFragment",selections:[a,{alias:null,args:l,concreteType:"AssigneeConnection",kind:"LinkedField",name:"assignedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{kind:"InlineFragment",selections:[a,i,r,s,o,d],type:"Actor",abstractKey:"__isActor"},m],storageKey:null}],storageKey:"assignedActors(first:20)"},{alias:null,args:u,concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{kind:"InlineFragment",selections:[t,i,r,s,o,d],type:"Actor",abstractKey:"__isActor"}],storageKey:null}],storageKey:"participants(first:10)"}],type:"Issue",abstractKey:null},m],storageKey:null}],storageKey:null}]},params:{id:"09dadc4001d02695ae13e106fb7c5922",metadata:{},name:"replaceActorsForAssignableMutation",operationKind:"mutation",text:null}}}();b.hash="12d556d70408ae000bd470f18b461ed1";var k=a(18312),x=a(28339),v=a(2595),C=a(67136),j=a(96540),S=a(34784),_=a(51782),I=a(95641),w=a(6715),F=a(35436),N=a(55847),L=a(3310),T=a(73218);let A=()=>(0,l.jsx)(I.h,{title:_.k.sectionTitles.assignees}),K=({sectionHeader:e,onSelfAssignClick:n,assignees:a,readonly:t})=>{let i=t?_.k.emptySections.assignees(!1):(0,l.jsxs)(l.Fragment,{children:[_.k.emptySections.assignees(!0),(0,l.jsx)(N.Q,{variant:"link",onClick:n,sx:{color:"fg.accent",fontWeight:400,cursor:"pointer","&:hover":{textDecoration:"none"}},children:_.k.emptySections.selfAssign})]});return(0,l.jsx)(F.w,{sectionHeader:e,emptyText:a.length>0?void 0:i,children:(0,l.jsx)(f,{assignees:a,testId:L.Y.assignees})})};function D({repo:e,owner:n,readonly:a,assignees:t,onSelectionChange:i,maximumAssignees:r,sx:s,...o}){let d=(0,v.u)(),c={repo:e,owner:n,readonly:a,includeAuthorableBots:!1,includeAssignableBots:!0,assigneeTokens:[],assignees:t,onSelectionChange:i,anchorElement:(e,n)=>(0,l.jsx)(w.X,{title:_.k.sectionTitles.assignees,buttonProps:e,ref:n}),maximumAssignees:r,...o},u=a?(0,l.jsx)(A,{}):(0,l.jsx)(x._g,{...c});return(0,l.jsx)(K,{sectionHeader:u,onSelfAssignClick:()=>i(d?[d]:[]),assignees:t,readonly:a,sx:s})}let E=i,P=r;function R({issue:e,viewer:n,lazyKey:a,onIssueUpdate:i,singleKeyShortcutsEnabled:r,insideSidePanel:s}){let o=(0,S.useFragment)(P,e),{repository:{owner:{login:d},name:c,isArchived:u,planFeatures:m},number:p}=o,g=m?.maximumAssignees||10,f=(0,S.useFragment)(E,o),h=(0,k.readInlineData)(x.G1,n),{id:v,viewerCanAssign:I}=o,F=(0,S.useFragment)(t,a),N=(0,j.useMemo)(()=>(F?.suggestedActors?.nodes||[]).flatMap(e=>e?[(0,k.readInlineData)(x.G1,e)]:[]),[F?.suggestedActors?.nodes]),L=(0,j.useMemo)(()=>(f.assignedActors?.nodes||[]).flatMap(e=>e?[(0,k.readInlineData)(x.G1,e)]:[]),[f.assignedActors?.nodes]),{addToast:D}=(0,C.Y6)(),R=(0,k.useRelayEnvironment)(),M=(0,j.useCallback)(e=>{!function({environment:e,input:{issueId:n,assignedActors:a,participants:l},onError:t,onCompleted:i}){let r=[...new Map([...a,...l].filter(e=>!e.isCopilot).map(e=>[e.login,e])).values()].slice(0,5);(0,k.commitMutation)(e,{mutation:b,variables:{input:{assignableId:n,actorIds:a.map(e=>e.id)}},optimisticResponse:{replaceActorsForAssignable:{assignable:{__typename:"Issue",__isNode:"Issue",id:n,assignedActors:{nodes:a.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",__isNode:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,isCopilot:e.isCopilot||!1}:{__typename:"User",__isActor:"User",__isNode:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})},participants:{nodes:r.map(e=>"Bot"===e.__typename?{__typename:"Bot",__isActor:"Bot",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath,isCopilot:e.isCopilot||!1}:{__typename:"User",__isActor:"User",id:e.id,login:e.login,name:e.name??null,avatarUrl:e.avatarUrl,profileResourcePath:e.profileResourcePath})}}}},onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}({environment:R,input:{issueId:v,assignedActors:e,participants:N},onError:()=>D({type:"error",message:y.S.couldNotUpdateAssignees}),onCompleted:i})},[D,R,v,i,N]),V=!I||u,O=(0,j.useMemo)(()=>V?(0,l.jsx)(A,{}):(0,l.jsx)(x.Ir,{repo:c,owner:d,number:p,anchorElement:(e,n)=>(0,l.jsx)(w.X,{title:_.k.sectionTitles.assignees,buttonProps:e,ref:n}),readonly:V,shortcutEnabled:r,assignees:L,onSelectionChange:e=>M(e),maximumAssignees:g,insidePortal:s,suggestions:N}),[V,c,d,p,r,L,N,g,s,M]);return(0,l.jsx)(K,{sectionHeader:O,assignees:L,onSelfAssignClick:()=>h?M([h]):T.l,readonly:V})}try{A.displayName||(A.displayName="ReadonlyAssigneesSectionHeader")}catch{}try{K.displayName||(K.displayName="AssigneesSection")}catch{}try{D.displayName||(D.displayName="CreateIssueAssigneesSection")}catch{}try{R.displayName||(R.displayName="EditIssueAssigneesSection")}catch{}},30112:(e,n,a)=>{a.d(n,{qn:()=>P,ku:()=>V,Wj:()=>M,Pv:()=>R});var l=a(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LabelsSectionFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanLabel",storageKey:null}],type:"Issue",abstractKey:null};t.hash="89d173296b36dd6c47d64eaffcd8fa74";let i=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelsSectionAssignedLabelsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,l,{kind:"InlineFragment",selections:[{alias:null,args:t,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:t,filters:["orderBy"],handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"3f223f279562986721373d3a32894caa",metadata:{},name:"LabelsSectionAssignedLabelsQuery",operationKind:"query",text:null}}}();i.hash="d02c16e470c17cf4b7318894d9aaf592";let r=function(){var e=["labels"],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:i,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelsSectionAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__MetadataSectionAssignedLabels_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__MetadataSectionAssignedLabels_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[n],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}}();r.hash="d02c16e470c17cf4b7318894d9aaf592";var s=a(21878),o=a(96540),d=a(18312),c=a(34784),u=a(75632),m=a(46988),p=a(19335);let g=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l=[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i=["orderBy"];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"setLabelsForLabelableMutation",selections:[{alias:null,args:n,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelPickerAssignedLabels"},{args:null,kind:"FragmentSpread",name:"LabelsSectionAssignedLabels"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"setLabelsForLabelableMutation",selections:[{alias:null,args:n,concreteType:"SetLabelsForLabelablePayload",kind:"LinkedField",name:"setLabelsForLabelable",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"labelableRecord",plural:!1,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isLabelable"},{alias:null,args:l,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{alias:null,args:l,filters:i,handle:"connection",key:"LabelPicker_labels",kind:"LinkedHandle",name:"labels"},{alias:null,args:l,filters:i,handle:"connection",key:"MetadataSectionAssignedLabels_labels",kind:"LinkedHandle",name:"labels"},{kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"1a9b64da5b2e0647df87635409c321a8",metadata:{},name:"setLabelsForLabelableMutation",operationKind:"mutation",text:null}}}();g.hash="33a830ba5b9ce06282b14d356c1e10d1";var f=a(14546),h=a(51782),y=a(3310),b=a(95641),k=a(35436),x=a(6715),v=a(67136),C=a(84730),j=a(50260),S=a(38621),_=a(87330),I=a(47139),w=a(25661);let F={copilotDraftLabelsContainer:"CopilotLabelsSection-module__copilotDraftLabelsContainer--LIuBi",copilotDraftLabel:"CopilotLabelsSection-module__copilotDraftLabel--jBO0f",copilotLoadingText:"CopilotLabelsSection-module__copilotLoadingText--ozWxc",copilotDraftIndividualLabel:"CopilotLabelsSection-module__copilotDraftIndividualLabel--Z5yCr",copilotIcon:"CopilotLabelsSection-module__copilotIcon--wFGkI"};function N({issueId:e,sectionHeader:n,setShouldShowCopilotComponent:a,suggestedLabels:t,labelsStatus:i,onConfirmLabels:r,onErrorRetry:s}){let[d,c]=(0,o.useTransition)(),u=(0,o.useCallback)(()=>{c(()=>{a(!1),(0,m.BI)("copilot_suggested_labels.dismiss",{labels:t.map(e=>e.name).join(","),issueId:e}),(0,w.ff)(e)})},[t,e,a,c]),p=(0,o.useCallback)(()=>{c(()=>{a(!1),(0,m.BI)("copilot_suggested_labels_error.cancel")})},[a,c]);return(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)(L,{}),children:(0,l.jsxs)(k.w,{sectionHeader:n,children:["loading"===i&&(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-live":"polite","aria-busy":d,children:[(0,l.jsx)(S.CopilotIcon,{className:F.copilotIcon}),(0,l.jsx)(j.b,{children:(0,l.jsx)("span",{className:F.copilotLoadingText,children:"Copilot is thinking \u2026"})})]}),"success"===i&&(0,l.jsx)(T,{labels:t,onConfirm:r,onCancel:u,setShouldShowCopilotComponent:a,startContentTransition:c,issueId:e}),"error"===i&&(0,l.jsx)(A,{onRetry:s,onCancel:p})]})})}function L(){return(0,l.jsx)(k.w,{sectionHeader:(0,l.jsx)(x.X,{title:h.k.sectionTitles.labels,readonly:!0}),children:(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,l.jsx)(S.CopilotIcon,{className:F.copilotIcon}),(0,l.jsx)(j.b,{children:(0,l.jsx)("span",{className:F.copilotLoadingText,children:"Copilot is thinking \u2026"})})]})})}function T({labels:e,onConfirm:n,onCancel:a,setShouldShowCopilotComponent:t,startContentTransition:i,issueId:r}){let[s,d]=(0,o.useState)(e);return((0,o.useEffect)(()=>{(0===e.length||0===s.length)&&i(()=>{t(!1)})},[e,t,i,s]),0===e.length)?null:((0,m.BI)("copilot_suggested_labels.shown",{issueId:r}),(0,l.jsxs)("span",{className:"d-flex flex-items-start flex-justify-between pl-0",children:[(0,l.jsx)("div",{className:F.copilotDraftLabelsContainer,children:s.map(e=>(0,l.jsx)(K,{name:e.name,onRemove:()=>d(s.filter(n=>n.id!==e.id))},e.id))}),(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,l.jsx)(_.K,{variant:"invisible",size:"small",icon:S.CheckIcon,onClick:()=>n(s),"aria-label":"Accept suggestions"}),(0,l.jsx)(_.K,{variant:"invisible",size:"small",icon:S.XIcon,onClick:a,"aria-label":"Dismiss suggestions"})]})]}))}function A({onRetry:e,onCancel:n}){return(0,l.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-1",children:[(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-1 py-1",children:[(0,l.jsx)(S.CopilotErrorIcon,{className:F.copilotIcon}),(0,l.jsx)("span",{className:F.copilotLoadingText,children:"Error. Please try again."})]}),(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,l.jsx)(_.K,{variant:"invisible",size:"small",icon:S.SyncIcon,onClick:e,"aria-label":"Retry"}),(0,l.jsx)(_.K,{variant:"invisible",size:"small",icon:S.XIcon,onClick:n,"aria-label":"Dismiss"})]})]})}function K({onRemove:e,name:n}){let a=(0,l.jsx)(_.K,{variant:"invisible",size:"small",icon:S.XIcon,onClick:e,"aria-label":`Dismiss ${n}`,style:{color:"var(--fgColor-muted)"},unsafeDisableTooltip:!0});return(0,l.jsx)("div",{className:F.copilotDraftLabel,children:(0,l.jsxs)(I.A,{className:F.copilotDraftIndividualLabel,children:[n," ",a]})})}try{N.displayName||(N.displayName="CopilotLabelsSection")}catch{}try{L.displayName||(L.displayName="CopilotLabelsSectionLoading")}catch{}try{T.displayName||(T.displayName="CopilotLabelsSectionSuccess")}catch{}try{A.displayName||(A.displayName="CopilotLabelsSectionError")}catch{}try{K.displayName||(K.displayName="CopilotDraftLabels")}catch{}let D=()=>(0,l.jsx)(b.h,{title:h.k.sectionTitles.labels}),E=({sectionHeader:e,labels:n})=>(0,l.jsx)(k.w,{sectionHeader:e,emptyText:n.length>0?void 0:h.k.emptySections.labels,children:(0,l.jsx)(f.w,{labels:n,testId:y.Y.issueLabels})}),P=({repo:e,owner:n,readonly:a,labels:t,onSelectionChange:i,...r})=>{let o=a?(0,l.jsx)(D,{}):(0,l.jsx)(s.tJ,{repo:e,owner:n,readonly:a,labels:t,onSelectionChanged:i,showNoMatchItem:!0,anchorElement:(e,n)=>(0,l.jsx)(x.X,{title:h.k.sectionTitles.labels,buttonProps:e,ref:n}),...r});return(0,l.jsx)(E,{sectionHeader:o,labels:t})},R=t,M=r;function V({issue:e,onIssueUpdate:n,singleKeyShortcutsEnabled:a,insideSidePanel:t}){let i=(0,c.useFragment)(R,e),{repository:{owner:{login:r},name:f,isArchived:y}}=i,{data:b}=(0,c.usePaginationFragment)(M,i),{id:k,viewerCanLabel:j}=i,S=(0,o.useMemo)(()=>b.labels?.edges?.flatMap(e=>e?.node?[d.readInlineData(s.l_,e?.node)]:[])||[],[b]),{getSuggestions:_,suggestedLabels:I,labelsStatus:F}=(0,C.G)(),L=(0,c.useRelayEnvironment)(),T=(0,u.G7)("copilot_auto_assign_metadata"),[A,K]=(0,o.useState)(T&&j&&0===S.length&&!(0,w.nS)(k));(0,o.useEffect)(()=>{A&&_({issueId:k,environment:L,issueTitle:i.title,issueBody:i.body,repositoryName:f,repositoryOwner:r,type:"labels"})},[A,k,L,i.title,i.body,f,r,_]);let P=!j||y,{addToast:V}=(0,v.Y6)(),O=(0,o.useCallback)(e=>{A&&e.length>0&&(K(!1),(0,m.BI)("copilot_suggested_labels.skipped",{issueId:k})),A&&0===e.length&&K(!0),function({environment:e,input:{labelableId:n,labels:a,labelableTypeName:l},onError:t,onCompleted:i}){(0,d.commitMutation)(e,{mutation:g,variables:{input:{labelableId:n,labelIds:a.map(e=>e.id)}},optimisticResponse:{setLabelsForLabelable:{labelableRecord:{__typename:l,__isNode:"true",__isLabelable:"true",id:n,labels:{pageInfo:{hasNextPage:!1,endCursor:null},edges:a.map(e=>({cursor:e.id,node:{__typename:"Label",id:e.id,name:e.name,nameHTML:e.nameHTML,color:e.color,url:e.url,description:e.description}}))}}}},onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}({environment:L,input:{labelableId:k,labels:e,labelableTypeName:"Issue"},onError:()=>V({type:"error",message:p.S.couldNotUpdateLabels}),onCompleted:n})},[V,L,k,n,A]),B=(0,o.useCallback)(e=>{O(e),K(!1),(0,m.BI)("copilot_suggested_labels.confirm",{pickedLabels:e.map(e=>e.name).join(","),suggestedLabels:I.map(e=>e.name).join(","),pickedCount:e.length,suggestedCount:I.length,issueId:k})},[I,k,O]),U=(0,o.useCallback)(()=>{_({issueId:k,environment:L,issueTitle:i.title,issueBody:i.body,repositoryName:f,repositoryOwner:r,type:"labels"}),(0,m.BI)("copilot_suggested_labels_error.retry",{issueId:k})},[_,k,L,i.title,i.body,f,r]),$=(0,o.useMemo)(()=>P?(0,l.jsx)(D,{}):(0,l.jsx)(s.tJ,{repo:f,owner:r,readonly:P,shortcutEnabled:a,labels:S,copilotSuggestedLabels:I,onSelectionChanged:O,anchorElement:(e,n)=>(0,l.jsx)(x.X,{title:h.k.sectionTitles.labels,buttonProps:e,ref:n}),insidePortal:t,showNoMatchItem:!0}),[P,f,r,a,S,I,O,t]);return A?(0,l.jsx)(N,{issueBody:i.body,issueId:k,issueTitle:i.title,repositoryName:f,repositoryOwner:r,sectionHeader:$,setShouldShowCopilotComponent:K,suggestedLabels:I,labelsStatus:F,onConfirmLabels:B,onErrorRetry:U}):(0,l.jsx)(E,{sectionHeader:$,labels:S})}try{D.displayName||(D.displayName="ReadonlyLabelsSectionHeader")}catch{}try{E.displayName||(E.displayName="LabelsSection")}catch{}try{P.displayName||(P.displayName="CreateIssueLabelsSection")}catch{}try{V.displayName||(V.displayName="EditIssueLabelsSection")}catch{}},75334:(e,n,a)=>{a.d(n,{C5:()=>I,eJ:()=>N,Bk:()=>F,zD:()=>w});var l=a(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionMilestone",selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Issue",abstractKey:null};t.hash="d2746ea22e8922796964d26b977262e7";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MilestonesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MilestonesSectionMilestone"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanSetMilestone",storageKey:null}],type:"Issue",abstractKey:null};i.hash="72b43b6f8433e4a47b0321cf2aa3c5ea";var r=a(71783),s=a(8338),o=a(96540),d=a(18312),c=a(51782),u=a(73218),m=a(75177),p=a(3310);let g=({progress:e})=>(0,l.jsxs)("svg",{role:"presentation",width:"16",height:"16","data-target":"tracked-issues-progress.progress","data-circumference":"38",style:{transform:"rotate(-90deg)"},"data-testid":p.Y.milestoneProgressIcon,children:[e<1?null:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0206 11.1074C9.68518 11.3949 9.18014 11.3561 8.8926 11.0206L5.8926 7.52061C5.62055 7.20322 5.63873 6.72989 5.93432 6.4343L7.43432 4.9343C7.74674 4.62188 8.25327 4.62188 8.56569 4.9343C8.87811 5.24672 8.87811 5.75325 8.56569 6.06567L7.58953 7.04182L10.1074 9.97935C10.3949 10.3148 10.3561 10.8198 10.0206 11.1074Z",fill:"var(--fgColor-done, var(--color-done-fg))"}),(0,l.jsx)("circle",{stroke:"var(--borderColor-default, var(--color-border-default))",strokeWidth:"2",fill:"transparent",cx:"50%",cy:"50%",r:"6"}),(0,l.jsx)("circle",{style:{transition:"stroke-dashoffset 0.35s"},stroke:"var(--fgColor-done, var(--color-done-fg))",strokeWidth:"2",strokeDasharray:38,strokeDashoffset:38-38*e,strokeLinecap:"round",fill:"transparent",cx:"50%",cy:"50%",r:"6"})]});try{g.displayName||(g.displayName="ProgressIcon")}catch{}var f=a(11645);function h({milestone:e,anchorProps:n}){return(0,l.jsx)(l.Fragment,{children:e?(0,l.jsxs)(s.l.LinkItem,{href:e.url||"#",target:"_blank","data-testid":p.Y.milestoneContainer,...n,onClick:u.l,children:[(0,l.jsx)(s.l.LeadingVisual,{children:(0,l.jsx)(g,{progress:e.progressPercentage/100})}),e.title,(0,l.jsx)(s.l.Description,{variant:"block",children:(0,l.jsx)(f.R,{closed:e.closed,closedAt:e.closedAt,progressPercentage:e.progressPercentage,dueOn:e.dueOn,showProgressPercentage:!0})})]},e.id):(0,l.jsx)(m.A,{sx:{height:"0px",p:0,m:0,border:"0",visibility:"hidden"},...n})})}try{h.displayName||(h.displayName="Milestone")}catch{}var y=a(95641),b=a(35436),k=a(6715),x=a(67136),v=a(19335);let C=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l=[a,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMilestoneMutation",selections:[{alias:null,args:n,concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:l,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMilestoneMutation",selections:[{alias:null,args:n,concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:l,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"816c5a915fa9ac873e161bc88c6c7cd7",metadata:{},name:"updateIssueMilestoneMutation",operationKind:"mutation",text:null}}}();C.hash="7302553b3cbaeec71894985dcc50a52b";var j=a(75632);let S=()=>(0,l.jsx)(y.h,{title:c.k.sectionTitles.milestones}),_=({sectionHeader:e,milestone:n,sx:a})=>(0,l.jsx)(b.w,{sx:a,sectionHeader:e,emptyText:n?void 0:c.k.emptySections.milestones,children:(0,l.jsx)(s.l,{variant:"full",children:(0,l.jsx)(h,{milestone:n})})});function I({milestone:e,onSelectionChange:n,viewerCanSetMilestone:a,sx:t,...i}){let s=a?(0,l.jsx)(r.De,{onSelectionChanged:e=>{n(e)},readonly:a,activeMilestone:e,anchorElement:(e,n)=>(0,l.jsx)(k.X,{title:c.k.sectionTitles.milestones,buttonProps:e,ref:n}),showMilestoneDescription:!0,...i}):(0,l.jsx)(S,{});return(0,l.jsx)(_,{sx:t,sectionHeader:s,milestone:e})}let w=t,F=i;function N({issue:e,onIssueUpdate:n,singleKeyShortcutsEnabled:a,insideSidePanel:t}){let i=(0,d.useFragment)(F,e),{repository:{owner:{login:s},name:u},id:m,viewerCanSetMilestone:p}=i,{milestone:g}=(0,d.useFragment)(w,i),f=(0,j.G7)("issues_react_create_milestone"),h=void 0!==g?(0,d.readInlineData)(r.xm,g):null,{addToast:y}=(0,x.Y6)(),b=(0,d.useRelayEnvironment)(),I=(0,o.useCallback)(e=>{!function({environment:e,input:{issueId:n,milestone:a},onError:l,onCompleted:t}){(0,d.commitMutation)(e,{mutation:C,variables:{input:{id:n,milestoneId:a?a.id:null}},optimisticResponse:{updateIssue:{issue:{id:n,milestone:a?{id:a.id,title:a.title,closed:a.closed,dueOn:a.dueOn,progressPercentage:a.progressPercentage,url:a.url,closedAt:a.closedAt}:null}}},onError:e=>l&&l(e),onCompleted:e=>t&&t(e)})}({environment:b,input:{issueId:m,milestone:e.length>0?e.at(-1):null},onError:()=>y({type:"error",message:v.S.couldNotUpdateMilestone}),onCompleted:n})},[y,b,m,n]),N=(0,o.useMemo)(()=>p?(0,l.jsx)(r.De,{repo:u,owner:s,onSelectionChanged:I,anchorElement:(e,n)=>(0,l.jsx)(k.X,{title:c.k.sectionTitles.milestones,buttonProps:e,ref:n}),readonly:!p,shortcutEnabled:a,activeMilestone:h??null,insidePortal:t,showMilestoneDescription:!0,showNoMatchItem:f}):(0,l.jsx)(S,{}),[p,u,s,I,a,h,t,f]);return(0,l.jsx)(_,{sectionHeader:N,milestone:h??null})}try{S.displayName||(S.displayName="ReadonlyMilestonesSectionHeader")}catch{}try{_.displayName||(_.displayName="MilestonesSection")}catch{}try{I.displayName||(I.displayName="CreateIssueMilestonesSection")}catch{}try{N.displayName||(N.displayName="EditIssueMilestonesSection")}catch{}},25953:(e,n,a)=>{a.d(n,{PH:()=>eU,le:()=>eH,ym:()=>eB,nf:()=>e$});var l=a(74848);let t=function(){var e={count:null,cursor:null,direction:"forward",path:["projectItemsNext"]},n={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},a={alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Variable",name:"allowedOwner",variableName:"allowedOwner"}],i={args:null,kind:"FragmentSpread",name:"ProjectItemSection"},r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={kind:"InlineDataFragmentSpread",name:"ProjectPickerProject",selections:[l,r,s,n,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},d],args:null,argumentDefinitions:[]},u={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},m={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"allowedOwner"}],kind:"Fragment",metadata:{connection:[e,e]},name:"ProjectsSectionFragment",selections:[{kind:"InlineFragment",selections:[n,a,l,{alias:"projectItemsNext",args:t,concreteType:"ProjectV2ItemConnection",kind:"LinkedField",name:"__ProjectSection_projectItemsNext_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[l,i,{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[c,s,r,l],storageKey:null},d],storageKey:null},u],storageKey:null},m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdateMetadata",storageKey:null}],type:"Issue",abstractKey:null},{kind:"InlineFragment",selections:[n,a,l,{alias:"projectItemsNext",args:t,concreteType:"ProjectV2ItemConnection",kind:"LinkedField",name:"__ProjectSection_projectItemsNext_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[l,i,{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[s,c,r,l],storageKey:null},d],storageKey:null},u],storageKey:null},m],storageKey:null},o],type:"PullRequest",abstractKey:null}],type:"IssueOrPullRequest",abstractKey:"__isIssueOrPullRequest"}}();t.hash="b0be06543ecd1d954094de888faf8ec6";var i=a(67136),r=a(96540),s=a(18312),o=a(69487),d=a(51782);let c={couldNotUpdateProjects:"Could not update projects",projectsUnavailable:"Projects are currently unavailable",tryAgainLater:"Please try again later"},u=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"deletedItemId",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteIssueProjectsMutation",selections:[{alias:null,args:n,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[a],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteIssueProjectsMutation",selections:[{alias:null,args:n,concreteType:"DeleteProjectV2ItemPayload",kind:"LinkedField",name:"deleteProjectV2Item",plural:!1,selections:[a,{alias:null,args:null,filters:null,handle:"deleteEdge",key:"",kind:"ScalarHandle",name:"deletedItemId",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"cdc2c4b69492faa142269c6a6a60df92",metadata:{},name:"deleteIssueProjectsMutation",operationKind:"mutation",text:null}}}();u.hash="b546b455603fb197fd8347b4cec2351a";let m=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSection",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionView"}],type:"ProjectV2Item",abstractKey:null}}();m.hash="d514f44f54887c87d0f242aa077953b2";let p=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{kind:"Literal",name:"name",value:"Status"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionView",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],storageKey:'field(name:"Status")'}],storageKey:null},{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"}],storageKey:'fieldValueByName(name:"Status")'}],type:"ProjectV2Item",abstractKey:null}}();p.hash="005be940f57508283adca42ec12256ba";var g=a(38621),f=a(75177),h=a(52464),y=a(34614),b=a(30631),k=a(87330),x=a(30729);let v={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null};v.hash="46251798d3a30836a6711ecaa3cc54e8";let C={kind:"InlineDataFragment",name:"SingleSelectFieldOptionFragment"};C.hash="be640a30fa15271b4fa34e75d3ddb9b1";let j=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleSelectFieldConfigFragment",selections:[e,n,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"SingleSelectFieldOptionFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null}],args:null,argumentDefinitions:[]},e,n,{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},a],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null}}();j.hash="7609e6b1ac2a8d003401b9f85fcd3e61";var S=a(3893),_=a(44968),I=a(78558);let w=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},t=[a],i={alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:t,storageKey:null},r=[{kind:"Literal",name:"name",value:"Status"}],s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={kind:"InlineFragment",selections:[s],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},d=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={kind:"InlineFragment",selections:t,type:"Node",abstractKey:"__isNode"},m={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[c,{kind:"InlineFragment",selections:[a,s],type:"ProjectV2Field",abstractKey:null},u],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},y=[a,p,g,f,h];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:n,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[a,l,i,{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[o],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"clearProjectItemFieldValueMutation",selections:[{alias:null,args:n,concreteType:"ClearProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"clearProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[a,l,i,{alias:null,args:d,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[a,m,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[a,m,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[a,m,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[c,{kind:"InlineFragment",selections:t,type:"ProjectV2SingleSelectField",abstractKey:null},u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[c,{kind:"InlineFragment",selections:[a,s,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:y,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:y,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},p,g,f,h],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:d,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[c,o,u],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}]},params:{id:"d132dec069be1a67131a5e271bc909a6",metadata:{},name:"clearProjectItemFieldValueMutation",operationKind:"mutation",text:null}}}();function F({environment:e,input:n,onError:a,onCompleted:l}){return(0,s.commitMutation)(e,{mutation:w,variables:{input:n},optimisticUpdater:e=>(function(e,n){let a=`${s.ConnectionHandler.getConnectionID(n.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,l=e.get(a);l&&l.getLinkedRecords("edges")?.map((e,a)=>{if(e?.getLinkedRecord("node")?.getLinkedRecord("field")?.getDataID()===n.fieldId){let e=l.getLinkedRecords("edges")||[];e.splice(a,1),l.setLinkedRecords(e,"edges")}})})(e,n),onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}w.hash="1cc97421540c4997953175725e1f92c9";let N=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a=[{kind:"Literal",name:"name",value:"Status"}],l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={kind:"InlineFragment",selections:[l],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},i=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[s],d={kind:"InlineFragment",selections:o,type:"Node",abstractKey:"__isNode"},c={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[r,{kind:"InlineFragment",selections:[s,l],type:"ProjectV2Field",abstractKey:null},d],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},f=[s,u,m,p,g];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:n,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[t],storageKey:'fieldValueByName(name:"Status")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateProjectItemFieldValueMutation",selections:[{alias:null,args:n,concreteType:"UpdateProjectV2ItemFieldValuePayload",kind:"LinkedField",name:"updateProjectV2ItemFieldValue",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"projectV2Item",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[s,c,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[s,c,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[s,c,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[r,{kind:"InlineFragment",selections:o,type:"ProjectV2SingleSelectField",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[r,{kind:"InlineFragment",selections:[s,l,{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:f,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:f,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},u,m,p,g],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:i,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"fieldValueByName",plural:!1,selections:[r,t,d],storageKey:'fieldValueByName(name:"Status")'},s],storageKey:null}],storageKey:null}]},params:{id:"8b296fae9f2499af49f72d6df68d6b5c",metadata:{},name:"updateProjectItemFieldValueMutation",operationKind:"mutation",text:null}}}();function L({environment:e,input:n,onError:a,onCompleted:l}){return(0,s.commitMutation)(e,{mutation:N,variables:{input:n},optimisticUpdater:e=>(function(e,n){let a=`${s.ConnectionHandler.getConnectionID(n.itemId,"ProjectItemSection_fieldValues")}(orderBy:{"direction":"ASC","field":"POSITION"})`,l=e.get(a);if(!l)return;let t=(l.getLinkedRecords("edges")?.map(e=>e.getLinkedRecord("node"))||[]).find(e=>{if(!e)return!1;let a=e.getLinkedRecord("field");return!!a&&a.getDataID()===n.fieldId});if(t)switch(t.getType()){case"ProjectV2ItemFieldTextValue":t.setValue(n.value.text,"text");break;case"ProjectV2ItemFieldNumberValue":t.setValue(n.value.number,"number");break;case"ProjectV2ItemFieldDateValue":t.setValue(n.value.date,"date");break;case"ProjectV2ItemFieldSingleSelectValue":{if(!n.value.singleSelectOptionId)return;let a=e.get(n.value.singleSelectOptionId);if(!a)return;for(let e of(t.setValue(n.value.singleSelectOptionId,"optionId"),["color","name","nameHTML"]))t.setValue(a.getValue(e),e);break}case"ProjectV2ItemFieldIterationValue":{if(!n.value.iterationId)return;let a=e.get(n.value.iterationId);if(!a)return;for(let e of(t.setValue(n.value.iterationId,"iterationId"),["duration","startDate","title","titleHTML"]))t.setValue(a.getValue(e),e)}}})(e,n),onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}N.hash="de3a39d4584b64ead2a58f140d26d900";var T=a(73218);let A={FieldListLi:"ProjectsSections-module__FieldListLi--pl9RA",FieldListUl:"ProjectsSections-module__FieldListUl--gtNkW",FieldListLiText:"ProjectsSections-module__FieldListLiText--Q9q7a",FieldListInternal:"ProjectsSections-module__FieldListInternal--Aek15",ListFieldWrapper:"ProjectsSections-module__ListFieldWrapper--PEW6b",ListFieldWrapperText:"ProjectsSections-module__ListFieldWrapperText--apN8i",FieldBasisAuto:"ProjectsSections-module__FieldBasisAuto--_INid",FieldWrapperInputContainer:"ProjectsSections-module__FieldWrapperInputContainer--U3wbh",FieldWrapperLabel:"ProjectsSections-module__FieldWrapperLabel--h0tzf",SectionViewItem:"ProjectsSections-module__SectionViewItem--jDBwy"};var K=a(34164);function D({children:e,onClick:n,anchorProps:a,disabled:t,isStatusField:i=!1}){return(0,l.jsx)(f.A,{as:t?void 0:"button",onClick:t?T.l:n,sx:{border:"none",borderRadius:2,backgroundColor:"transparent",textAlign:"left",height:"auto",flexGrow:1,py:i?1:"var(--control-medium-paddingBlock)",display:"flex",flexDirection:"row",gap:1,alignItems:"center",color:"fg.muted",overflow:"hidden",lineHeight:1.2,minHeight:i?"var(--control-small-size)":"var(--control-xsmall-size)",...t?{paddingLeft:"6px",paddingRight:"6px"}:{"&:hover":{backgroundColor:"actionListItem.default.hoverBg"}}},...a,children:(0,l.jsx)(f.A,{sx:{fontSize:0,wordBreak:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:e})})}let E=(0,r.forwardRef)(function({name:e,placeholder:n,value:a,input:t,inputRef:i,anchorProps:s,showInput:o,setShowInput:d,canUpdate:c=!0,isStatusField:u=!1,onCommit:m=T.l},p){let f=(0,r.useRef)(null),y=(0,r.useId)(),b=(0,r.useCallback)(e=>{!s&&c?d(!0):s?.onClick&&s.onClick(e)},[s,c,d]);(0,r.useEffect)(()=>{!0===o&&i&&i.current&&i.current.focus()},[i,o]);let x=(0,K.$)(A.ListFieldWrapperText,u&&A.FieldBasisAuto);return(0,l.jsx)("span",{ref:p||f,className:A.ListFieldWrapper,children:o?(0,l.jsxs)("label",{className:A.FieldWrapperLabel,children:[(0,l.jsx)("p",{className:x,children:e}),(0,l.jsxs)("span",{className:A.FieldWrapperInputContainer,children:[t,(0,l.jsx)(k.K,{"aria-label":"Update","data-testid":"commit",size:"small",icon:g.CheckIcon,onClick:()=>{m(),d(!1)},disabled:!c})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{id:y,className:x,children:e}),(0,l.jsx)(D,{isStatusField:u,anchorProps:{...s,"aria-describedby":y},onClick:b,disabled:!c,children:a?(0,l.jsx)(h.A,{sx:{color:"fg.default"},children:a}):(0,l.jsx)(h.A,{sx:{color:"fg.muted",fontSize:0},children:n})})]})})});try{D.displayName||(D.displayName="MetadataButton")}catch{}try{E.displayName||(E.displayName="FieldWrapper")}catch{}let P={overflow:"hidden",textOverflow:"ellipsis",display:"inline-flex",cursor:"inherit","> span":{verticalAlign:"text-top"}};var R=a(20820);let M=({inputName:e,inputColor:n})=>{let a=(0,R.Wk)(n);return(0,l.jsx)(I.A,{sx:{bg:a.bg,color:a.fg,borderColor:a.border,":hover":{bg:a.bg,color:a.fg,borderColor:a.border,boxShadow:"none"},...P},size:"medium",text:e})},V=({inputColor:e})=>{let{bg:n,accent:a}=(0,R.Wk)(e);return(0,l.jsx)(f.A,{sx:{bg:n,borderColor:a,borderWidth:2,borderStyle:"solid",borderRadius:8,flexShrink:0,height:"12px",width:"12px"}})};try{M.displayName||(M.displayName="SingleSelectToken")}catch{}try{V.displayName||(V.displayName="SingleSelectLeadingVisual")}catch{}function O({viewerCanUpdate:e,itemId:n,projectId:a,field:t,value:i,onIssueUpdate:o,isStatusField:c}){let[u,m]=(0,r.useState)(!1),p=(0,s.useRelayEnvironment)(),h=(0,s.useFragment)(j,t),y=(0,s.useFragment)(v,i),b=h.id,k=h.name,[x,w]=(0,r.useState)(""),N=(0,r.useCallback)(e=>{1===e.length?L({environment:p,input:{fieldId:b,itemId:n,projectId:a,value:{singleSelectOptionId:e[0].optionId}},onCompleted:o}):0===e.length&&F({environment:p,input:{fieldId:b,itemId:n,projectId:a},onCompleted:o}),m(!1)},[p,b,n,o,a]),T=(0,r.useCallback)(e=>{w(e)},[]),A=(0,r.useMemo)(()=>{let e=(h.options||[]).map(e=>(0,s.readInlineData)(C,e));return x?e.filter(e=>e.name.toLowerCase().indexOf(x.toLowerCase())>=0):e},[h.options,x]),K=(0,r.useMemo)(()=>(h.options||[]).map(e=>(0,s.readInlineData)(C,e)).filter(e=>e.optionId===y?.optionId),[h.options,y?.optionId]),D=(0,r.useCallback)(e=>({id:e.optionId,children:(0,l.jsxs)(f.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,l.jsx)(_.yx,{html:e.nameHTML}),(0,l.jsx)(_.yx,{sx:{color:"fg.muted",fontSize:0},html:e.descriptionHTML})]}),source:e,leadingVisual:()=>(0,l.jsx)(V,{inputColor:e.color})}),[]),R=(0,r.useCallback)(e=>(0,l.jsx)(E,{showInput:u,setShowInput:m,name:k,isStatusField:c,placeholder:c?(0,l.jsxs)(f.A,{sx:{display:"flex",gap:2,alignItems:"center",fontSize:12,flex:"1 0 auto"},children:[d.k.emptySections.status,(0,l.jsx)(g.TriangleDownIcon,{})]}):(0,l.jsx)(l.Fragment,{children:d.k.emptySections.singleSelectFilterPlaceholder}),value:y?.name&&y?.color?(0,l.jsxs)(f.A,{sx:{display:"flex",gap:1,alignItems:"center",fontSize:0,flex:"1 0 auto"},children:[(0,l.jsx)(M,{inputName:y.name,inputColor:y.color}),c&&(0,l.jsx)(g.TriangleDownIcon,{})]}):null,anchorProps:e}),[k,c,u,y?.color,y?.name]);return e?(0,l.jsx)(S.O,{items:A,initialSelectedItems:K,filterItems:T,getItemKey:e=>e.optionId,convertToItemProps:D,placeholderText:d.k.emptySections.singleSelectFilterPlaceholder,selectionVariant:"single",onSelectionChange:N,renderAnchor:R,height:"large"}):(0,l.jsx)(E,{showInput:u,setShowInput:m,canUpdate:!1,name:k,placeholder:d.k.emptySections.noValue(k),value:y?.name?(0,l.jsx)(I.A,{sx:(y.name,P),size:"large",text:y.name}):null,isStatusField:c})}try{O.displayName||(O.displayName="SingleSelectField")}catch{}var B=a(22577);function U({projectItem:e,setOpen:n,open:a,isProjectOpen:t}){let{id:i,project:r,fieldValueByName:o,isArchived:c}=(0,s.useFragment)(p,e);return(0,l.jsxs)(f.A,{sx:{pl:"var(--control-xsmall-paddingInline-spacious)",pr:2,display:"flex",flexDirection:"column",gap:1,alignItems:"flex-start"},children:[t?(0,l.jsxs)(h.A,{sx:{color:"fg.default",display:"flex",gap:1,fontSize:0,fontWeight:"bold",alignItems:"center",width:"100%"},children:[(0,l.jsx)(x.A,{icon:r.template?g.ProjectTemplateIcon:g.TableIcon}),(0,l.jsx)(h.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.title})]}):(0,l.jsx)(f.A,{sx:{display:"flex",width:"100%"},children:(0,l.jsxs)(y.A,{href:r.url,hoverColor:"accent.fg",underline:!1,sx:{color:"fg.default",display:"flex",fontSize:0,fontWeight:"bold",gap:1,alignItems:"center","&:hover":{textDecoration:"none"},width:"100%"},tabIndex:0,children:[(0,l.jsx)(x.A,{icon:r.template?g.ProjectTemplateIcon:g.TableIcon}),(0,l.jsx)(b.A,{title:r.title,sx:{maxWidth:"100%",display:"block",pr:2},"data-testid":B.Y.projectTitle,children:r.title})]})}),(0,l.jsxs)(f.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row",width:"100%"},children:[(0,l.jsx)("div",{className:A.SectionViewItem,children:r.field&&void 0!==o&&(0,l.jsx)(O,{viewerCanUpdate:r.viewerCanUpdate&&!c,itemId:i,projectId:r.id,field:r.field,value:o,isStatusField:!0})}),(0,l.jsx)(k.K,{variant:"invisible",onClick:()=>{n(!a)},size:"small",icon:a?g.ChevronUpIcon:g.ChevronDownIcon,"aria-label":d.k.showMoreProjectFields,"aria-expanded":a})]})]})}try{U.displayName||(U.displayName="ProjectItemSectionView")}catch{}let $=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},s=[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],o={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},p=[t,r,c,u,m],g={alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:p,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:p,storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"optionId",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},b=[t],k={kind:"InlineFragment",selections:b,type:"Node",abstractKey:"__isNode"},x={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,d],type:"ProjectV2Field",abstractKey:null},k],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[a,l,t],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFields"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ProjectItemSectionFieldListQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,t,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[a,l,t,r,{alias:null,args:s,concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,o,d],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[t,o,d,g],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[t,o,d,{alias:null,args:null,concreteType:"ProjectV2SingleSelectFieldOption",kind:"LinkedField",name:"options",plural:!0,selections:[t,f,d,h,y,{alias:null,args:null,kind:"ScalarField",name:"descriptionHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null}],type:"ProjectV2SingleSelectField",abstractKey:null},k],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:s,concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"fieldValues",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,x,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null},{kind:"InlineFragment",selections:[t,x,{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{kind:"InlineFragment",selections:[t,x,{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:b,type:"ProjectV2SingleSelectField",abstractKey:null},k],storageKey:null},f,d,h,y],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[i,{kind:"InlineFragment",selections:[t,d,g],type:"ProjectV2IterationField",abstractKey:null},k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},r,c,u,m],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'fieldValues(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'},{alias:null,args:s,filters:["orderBy"],handle:"connection",key:"ProjectItemSection_fieldValues",kind:"LinkedHandle",name:"fieldValues"}],type:"ProjectV2Item",abstractKey:null}],storageKey:null}]},params:{id:"38fa9f63b6217ff4c44708911b395768",metadata:{},name:"ProjectItemSectionFieldListQuery",operationKind:"query",text:null}}}();$.hash="4ef2c3ceeef97ad1e5f4279eb86b53cd";var H=a(49720);function z(){return(0,l.jsx)("ul",{className:A.FieldListUl,children:(0,l.jsxs)("li",{style:{margin:"0 2 2 3"},children:[(0,l.jsx)(q,{}),(0,l.jsx)(q,{}),(0,l.jsx)(q,{})]})})}function q(){return(0,l.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:5,width:"100%",marginTop:2},children:[(0,l.jsx)(H.Q,{height:"md",width:"25%"}),(0,l.jsx)(H.Q,{height:"md",width:"40%"})]})}try{z.displayName||(z.displayName="ProjectItemSectionFieldsLoading")}catch{}try{q.displayName||(q.displayName="ProjectFieldLoading")}catch{}let G=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"dataType",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProjectItemSectionFields",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:50},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2FieldConfigurationConnection",kind:"LinkedField",name:"fields",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2FieldConfigurationEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[e,n,a,{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"},{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],type:"ProjectV2Field",abstractKey:null},{kind:"InlineFragment",selections:[e,n,a,{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],type:"ProjectV2IterationField",abstractKey:null},{kind:"InlineFragment",selections:[e,n,a,{args:null,kind:"FragmentSpread",name:"SingleSelectFieldConfigFragment"}],type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:'fields(first:50,orderBy:{"direction":"ASC","field":"POSITION"})'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProjectItemSectionFieldsValues"}],type:"ProjectV2Item",abstractKey:null}}();G.hash="d325b72ce28f95b88d72cb0fb9d8c682";let W=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[e],a=[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:n,type:"ProjectV2Field",abstractKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["fieldValues"]}]},name:"ProjectItemSectionFieldsValues",selections:[{alias:"fieldValues",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"POSITION"}}],concreteType:"ProjectV2ItemFieldValueConnection",kind:"LinkedField",name:"__ProjectItemSection_fieldValues_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemFieldValueEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"ProjectV2ItemFieldTextValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"TextFieldFragment"},{kind:"InlineFragment",selections:a,type:"ProjectV2ItemFieldNumberValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"NumberFieldFragment"},{kind:"InlineFragment",selections:a,type:"ProjectV2ItemFieldDateValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"DateFieldFragment"},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:n,type:"ProjectV2SingleSelectField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldSingleSelectValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"SingleSelectFieldFragment"},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{kind:"InlineFragment",selections:n,type:"ProjectV2IterationField",abstractKey:null}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null},{args:null,kind:"FragmentSpread",name:"IterationFieldFragment"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__ProjectItemSection_fieldValues_connection(orderBy:{"direction":"ASC","field":"POSITION"})'}],type:"ProjectV2Item",abstractKey:null}}();W.hash="aa5a4ebccabf1dc68b3a0e508cf14a20";let Q={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TextFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldTextValue",abstractKey:null};Q.hash="d949dc9d7cf41b07a35b1ab08b26bd44";let X={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TextFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};X.hash="7fbd4e4b2889e3438c0acaa4655bcc8d";var Y=a(89323),J=a(8338),Z=a(67138),ee=a(47584),en=a(99418);let ea={FORBID_TAGS:["style"],ALLOW_DATA_ATTR:!1,ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","span","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","picture","source"]};function el(e){return(e?.startsWith("www.")?"https://":"")+e}let et=e=>en.default.sanitize(e,ea),ei=e=>{if(!e||!function(e){try{return new window.URL(e),!0}catch{return!1}}(e))return!1;try{let n=new URL(e,window.location.origin);return["http:","https:"].includes(n.protocol)}catch{return!1}},er=e=>et(e)===e;function es({viewerCanUpdate:e,itemId:n,projectId:a,field:t,value:i,onIssueUpdate:o}){let d=(0,s.useRelayEnvironment)(),c=(0,r.useRef)(null),u=(0,s.useFragment)(X,t),m=(0,s.useFragment)(Q,i),p=u.id,f=u.name,[h,b]=(0,r.useState)(!1),[k,x]=(0,r.useState)(m?.text??""),v=(0,r.useCallback)(()=>{L({environment:d,input:{fieldId:p,itemId:n,projectId:a,value:{text:k}},onCompleted:o})},[d,p,n,a,k,o]),C=(0,r.useCallback)(e=>{x(e.target.value)},[]),j=(0,r.useCallback)(e=>{"Enter"===e.key&&(v(),b(!1)),"Escape"===e.key&&(e.stopPropagation(),c.current&&(x(m?.text??""),c.current.blur(),b(!1)))},[v,m?.text]),[S,_]=(0,r.useState)(!1),I=(0,r.useRef)(null),w=(0,r.useCallback)(e=>()=>ee.cg?.open(el(e),"_blank","noreferrer"),[]),F=(0,r.useCallback)(()=>b(!0),[b]),N=(0,r.useCallback)(()=>_(!0),[_]),T=(0,r.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),N())},[N]),A=(0,r.useCallback)(n=>e&&n.preventDefault(),[e]),K=(0,r.useMemo)(()=>k.split(/(\s+)/),[k]),[D,P,R]=(0,r.useMemo)(()=>{let e=[],n=!1;return[K.map((a,t)=>{let i=el(et(a));return ei(i)&&er(i)?(n=!0,e.push(a),(0,l.jsx)(y.A,{tabIndex:0,href:el(a),onKeyDown:T,onClick:A,target:"_blank",children:a},`text-field-link-${t}`)):a}),n,e]},[K,A,T]),M=P?{onClick:N}:void 0,V=(0,l.jsx)(Y.W,{open:S,onOpenChange:e=>_(e),anchorRef:I,children:(0,l.jsx)(Y.W.Overlay,{width:"small",children:(0,l.jsx)(J.l,{children:(0,l.jsxs)(J.l.Group,{children:[R?.map((e,n)=>l.jsxs(J.l.Item,{onSelect:w(e),role:"button",children:[l.jsx(J.l.LeadingVisual,{children:l.jsx(g.LinkIcon,{})}),e]},n)),e&&(0,l.jsxs)(J.l.Item,{onSelect:F,role:"button",children:[(0,l.jsx)(J.l.LeadingVisual,{children:(0,l.jsx)(g.PencilIcon,{})}),"Edit"]})]})})})});return e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(E,{ref:I,value:D,anchorProps:M,name:f,placeholder:"Enter text\u2026",inputRef:c,showInput:h,setShowInput:b,onCommit:v,input:(0,l.jsx)(Z.A,{"data-testid":"text-field-input",ref:c,size:"small",sx:{fontSize:0},onChange:C,onKeyDown:j,value:k})}),V]}):(0,l.jsx)(E,{showInput:h,setShowInput:b,placeholder:`No ${f}`,canUpdate:!1,value:D,name:f})}try{es.displayName||(es.displayName="TextField")}catch{}let eo={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"NumberFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldNumberValue",abstractKey:null};eo.hash="17c0ceec1be5ce08381b0aef7e7de517";let ed={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NumberFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};ed.hash="aa7c72083a9ec843850d1089ba1ddda3";var ec=a(32226),eu=a(19377);function em({viewerCanUpdate:e,itemId:n,projectId:a,field:t,value:i,onIssueUpdate:o}){let[c,u]=(0,r.useState)(!1),m=(0,r.useRef)(null),p=(0,s.useRelayEnvironment)(),g=(0,s.useFragment)(ed,t),f=(0,s.useFragment)(eo,i),h=g.id,y=g.name,b=f?.number?.toString()??"",[k,x]=(0,r.useState)(b),[v,C]=(0,r.useState)(void 0),j=(0,r.useCallback)(()=>{v?(x(b),C(void 0)):L({environment:p,input:{fieldId:h,itemId:n,projectId:a,value:{number:(0,eu.$J)(k)??void 0}},onCompleted:o})},[k,p,h,v,n,o,b,a]),S=(0,r.useCallback)(e=>{C((0,eu.Ge)(e.target.value)),x(e.currentTarget.value)},[]),_=(0,r.useCallback)(e=>{"Enter"===e.key&&(j(),u(!1)),"Escape"===e.key&&(e.stopPropagation(),m.current&&(x(b),m.current.blur(),u(!1)))},[j,b]);return e?(0,l.jsx)(E,{showInput:c,setShowInput:u,value:k,name:y,placeholder:d.k.emptySections.numberPlaceholder,inputRef:m,onCommit:j,input:(0,l.jsxs)("div",{children:[(0,l.jsx)(Z.A,{"data-testid":"number-field-input",ref:m,size:"small",sx:{fontSize:0},type:"number",onChange:S,onKeyDown:_,value:k}),v?(0,l.jsx)(ec.A,{sx:{position:"absolute",zIndex:100,fontSize:0,mt:"12px",py:1,px:2,bg:"danger.subtle",color:"fg.default",borderColor:"danger.muted"},caret:"top-left",children:(0,l.jsx)("span",{children:v})}):null]})}):(0,l.jsx)(E,{showInput:c,setShowInput:u,placeholder:d.k.emptySections.noValue(y),canUpdate:!1,value:k,name:y})}try{em.displayName||(em.displayName="NumberField")}catch{}let ep={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"iterationId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IterationFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldIterationValue",abstractKey:null};ep.hash="a1fed908ae0caadc70b43a8c0032cf90";let eg=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{kind:"InlineDataFragmentSpread",name:"IterationFieldIterationFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],args:null,argumentDefinitions:[]}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IterationFieldConfigFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldConfiguration",kind:"LinkedField",name:"configuration",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"iterations",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ProjectV2IterationFieldIteration",kind:"LinkedField",name:"completedIterations",plural:!0,selections:n,storageKey:null}],storageKey:null}],type:"ProjectV2IterationField",abstractKey:null}}();eg.hash="1820eb43fb63bb62abf4c8f24979732c";let ef={kind:"InlineDataFragment",name:"IterationFieldIterationFragment"};ef.hash="28591c2749a30e9b111acd7e77a057f9";var eh=a(84929);function ey({startDate:e,durationInDays:n,titleHTML:a}){let t=new Date,i=(0,eh.H)(e),r=new Date(i.getTime()+(n-1)*864e5),s=i<=t&&t<=r,o=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,l.jsxs)(f.A,{sx:{display:"flex",flexDirection:"row",columnGap:1,rowGap:0,flexWrap:"wrap"},children:[(0,l.jsx)(f.A,{sx:{display:"flex",fontSize:0,justifyContent:"space-between"},children:(0,l.jsx)(_.yx,{html:a})}),(0,l.jsx)(l.Fragment,{children:"\u2022 "}),(0,l.jsxs)(h.A,{sx:{color:"fg.muted",fontSize:0},children:[`${o(i)} - ${o(r)}`," ",s&&(0,l.jsx)(l.Fragment,{children:"\u2022 "})]}),s&&(0,l.jsx)(h.A,{sx:{color:"accent.fg",fontSize:0,fontWeight:"500"},children:"Current"})]})}try{ey.displayName||(ey.displayName="IterationItem")}catch{}let eb={groupId:"completed",header:{title:"Completed",variant:"filled"}},ek={groupId:"active",header:{title:"Active",variant:"filled"}};function ex({viewerCanUpdate:e,itemId:n,projectId:a,field:t,value:i,onIssueUpdate:o}){let[c,u]=(0,r.useState)(!1),m=(0,s.useRelayEnvironment)(),p=(0,s.useFragment)(eg,t),g=(0,s.useFragment)(ep,i),f=p.id,h=p.name,[y,b]=(0,r.useState)(""),k=(0,r.useCallback)(e=>{1===e.length?L({environment:m,input:{fieldId:f,itemId:n,projectId:a,value:{iterationId:e[0].id}},onCompleted:o}):0===e.length&&F({environment:m,input:{fieldId:f,itemId:n,projectId:a},onCompleted:o}),u(!1)},[m,f,n,a,o]),x=(0,r.useCallback)(e=>{b(e)},[]),v=(0,r.useMemo)(()=>{let e=(p.configuration?.iterations||[]).concat(p.configuration?.completedIterations||[]).map(e=>(0,s.readInlineData)(ef,e));return y?e.filter(e=>e.title.toLowerCase().indexOf(y.toLowerCase())>=0):e},[p.configuration?.completedIterations,p.configuration?.iterations,y]),C=(0,r.useMemo)(()=>new Set((p.configuration?.completedIterations||[]).map(e=>(0,s.readInlineData)(ef,e).id)),[p.configuration?.completedIterations]),j=(0,r.useMemo)(()=>{let e=p.configuration?.iterations||[],n=p.configuration?.completedIterations||[];return e.concat(n).map(e=>(0,s.readInlineData)(ef,e)).filter(e=>e.id===g?.iterationId)},[p.configuration?.completedIterations,p.configuration?.iterations,g?.iterationId]),_=(0,r.useCallback)(e=>({id:e.id,children:(0,l.jsx)(ey,{startDate:e.startDate,durationInDays:e.duration,titleHTML:e.titleHTML}),source:e,groupId:C.has(e.id)?eb.groupId:ek.groupId}),[C]),I=(0,r.useCallback)(e=>(0,l.jsx)(E,{showInput:c,setShowInput:u,anchorProps:e,placeholder:d.k.emptySections.iterationPlaceholder,value:g?(0,l.jsx)(ey,{startDate:g.startDate,durationInDays:g.duration,titleHTML:g.titleHTML}):null,name:h}),[h,c,g]),w=(0,r.useMemo)(()=>C.size>0?[ek,eb]:[ek],[C.size]);return e?(0,l.jsx)(S.O,{items:v,groups:w,initialSelectedItems:j,filterItems:x,getItemKey:e=>e.id,convertToItemProps:_,placeholderText:d.k.emptySections.iterationFilterPlaceholder,selectionVariant:"single",onSelectionChange:k,renderAnchor:I,height:"large"}):(0,l.jsx)(E,{showInput:c,setShowInput:u,value:g?(0,l.jsx)(ey,{startDate:g.startDate,durationInDays:g.duration,titleHTML:g.titleHTML}):null,placeholder:d.k.emptySections.noValue(h),canUpdate:!1,name:h})}try{ex.displayName||(ex.displayName="IterationField")}catch{}let ev={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"date",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"field",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DateFieldConfigFragment"}],storageKey:null}],type:"ProjectV2ItemFieldDateValue",abstractKey:null};ev.hash="c8bf0bca589ac323802ccd1cbfa35aa8";let eC={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DateFieldConfigFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"ProjectV2Field",abstractKey:null};eC.hash="137f1e064b5aa98d4b4aa184ee4db814";var ej=a(81020);function eS({viewerCanUpdate:e,itemId:n,projectId:a,field:t,value:i,onIssueUpdate:o}){let c=(0,s.useRelayEnvironment)(),u=(0,s.useFragment)(eC,t),m=(0,s.useFragment)(ev,i),p=u.id,g=u.name,f=m?new Date(m.date):null,h=f?function(e,n={}){return e.toLocaleDateString("en-us",{...e_,...n})}(f):"No date",[y,b]=(0,r.useState)(f),[k,x]=(0,r.useState)(!1),v=(0,r.useCallback)(e=>{b(e),e?L({environment:c,input:{fieldId:p,itemId:n,projectId:a,value:{date:new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10)}},onCompleted:o}):F({environment:c,input:{fieldId:p,itemId:n,projectId:a},onCompleted:o})},[c,p,n,o,a]),C=(0,r.useCallback)(e=>(0,l.jsx)(E,{showInput:k,setShowInput:x,anchorProps:e,placeholder:d.k.emptySections.datePlaceholder,value:h||d.k.emptySections.noValue(g),name:g}),[h,g,k]);return e?(0,l.jsx)(ej.DatePicker,{variant:"single",showClearButton:!0,value:y,onChange:v,anchor:C}):(0,l.jsx)(E,{showInput:k,setShowInput:x,placeholder:d.k.emptySections.noValue(g),canUpdate:!1,name:g,value:h})}let e_={year:"numeric",month:"short",day:"numeric",timeZone:"UTC"};try{eS.displayName||(eS.displayName="DateField")}catch{}function eI({projectItem:e,onIssueUpdate:n}){let a=(0,s.useFragment)(G,e),{fieldValues:t}=(0,s.useFragment)(W,a),i=(0,r.useMemo)(()=>(a?.project.fields?.edges||[]).map(e=>{if(!e?.node||"Status"===e.node.name)return;let l=e.node,i=l.dataType,s=l.id,o=(t?.edges||[]).flatMap(e=>e?.node?[e.node]:[]).find(e=>e?.field?.id===s)||null,d={key:s,viewerCanUpdate:!a.isArchived&&a.project.viewerCanUpdate,itemId:a.id,projectId:a.project.id,field:l,value:o,onIssueUpdate:n};switch(i){case"SINGLE_SELECT":return(0,r.createElement)(O,{...d,key:d.key});case"TEXT":return(0,r.createElement)(es,{...d,key:d.key});case"DATE":return(0,r.createElement)(eS,{...d,key:d.key});case"NUMBER":return(0,r.createElement)(em,{...d,key:d.key});case"ITERATION":return(0,r.createElement)(ex,{...d,key:d.key})}}).filter(e=>void 0!==e),[a.project.fields?.edges,a.project.viewerCanUpdate,a.project.id,a.isArchived,a.id,t?.edges,n]);return 0===i.length?(0,l.jsx)(l.Fragment,{children:" "}):(0,l.jsx)("ul",{className:(0,K.$)(A.FieldListUl,A.FieldListInternal),children:i.map((e,n)=>(0,l.jsx)("li",{className:A.FieldListLi,children:e},`project-field-${n}`))})}try{eI.displayName||(eI.displayName="ProjectItemSectionFields")}catch{}let ew=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unarchiveProjectItemMutation",selections:[{alias:null,args:n,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unarchiveProjectItemMutation",selections:[{alias:null,args:n,concreteType:"UnarchiveProjectV2ItemPayload",kind:"LinkedField",name:"unarchiveProjectV2Item",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1d1e59700f5c9977430696b2338a0674",metadata:{},name:"unarchiveProjectItemMutation",operationKind:"mutation",text:null}}}();function eF(e){return(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(z,{}),children:(0,l.jsx)(eN,{...e})})}function eN({isArchived:e,projectItemId:n,projectId:a,onIssueUpdate:t}){let o=(0,s.useRelayEnvironment)(),{addToast:c}=(0,i.Y6)(),{node:u}=(0,s.useLazyLoadQuery)($,{id:n}),m=(0,r.useCallback)(()=>{!function({environment:e,input:n,onError:a,onCompleted:l}){(0,s.commitMutation)(e,{mutation:ew,variables:{input:n},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}({environment:o,input:{projectId:a,itemId:n},onCompleted:()=>{c({type:"success",message:d.k.archivedSuccess})},onError:()=>{c({type:"error",message:d.k.archivedError})}})},[o,a,n,c]);if(!u||!u.project)return null;let p=e&&u.project.viewerCanUpdate;return(0,l.jsxs)(l.Fragment,{children:[p&&(0,l.jsx)("ul",{className:A.FieldListUl,children:(0,l.jsx)("li",{className:A.FieldListLi,children:(0,l.jsxs)("span",{className:A.FieldListLiText,children:[d.k.archivedDescription,"\xa0",(0,l.jsx)(y.A,{onClick:m,sx:{cursor:"pointer"},children:"Restore"})]})})}),(0,l.jsx)(eI,{onIssueUpdate:t,projectItem:u})]})}ew.hash="774df17c4810f952c016355065fbcd6c";try{eF.displayName||(eF.displayName="ProjectItemSectionFieldList")}catch{}try{eN.displayName||(eN.displayName="ProjectItemSectionFieldListInternal")}catch{}function eL({projectItem:e,onIssueUpdate:n,isOpen:a=!1}){let[t,i]=(0,r.useState)(a),o=(0,s.useFragment)(m,e);return(0,l.jsxs)(f.A,{sx:{my:2,border:"1px solid",borderColor:"border.default",borderRadius:2,width:"100%",py:2,pt:"var(--control-xsmall-paddingInline-spacious)"},children:[(0,l.jsx)(U,{projectItem:o,open:t,setOpen:i,onIssueUpdate:n,isProjectOpen:a}),t&&(0,l.jsx)(eF,{projectItemId:o.id,projectId:o.project.id,isArchived:o.isArchived,onIssueUpdate:n})]})}try{eL.displayName||(eL.displayName="ProjectItemSection")}catch{}var eT=a(95641),eA=a(35436),eK=a(6715),eD=a(55847),eE=a(41515),eP=a(55724),eR=a(12152);let eM=()=>(0,l.jsx)(eT.h,{title:d.k.sectionTitles.projects}),eV=(0,r.forwardRef)((e,n)=>(0,l.jsx)(eK.X,{ref:n,id:e.id,title:d.k.sectionTitles.projects,buttonProps:e}));eV.displayName="ProjectsSectionHeader";let eO=({sectionHeader:e,hasItems:n,children:a})=>(0,l.jsx)(eA.w,{id:"sidebar-projects-section",sectionHeader:e,emptyText:n?void 0:d.k.emptySections.projects,children:a}),eB=()=>(0,l.jsx)(eA.w,{id:"projects-section-fallback",sectionHeader:(0,l.jsx)(eT.h,{title:c.projectsUnavailable}),emptyText:c.tryAgainLater}),eU=({owner:e,repo:n,projects:a,readonly:t,onSelectionChange:i,...r})=>{let s="create-issue-sidebar-projects-section-heading",o=t?(0,l.jsx)(eM,{}):(0,l.jsx)(eP.wX,{pickerId:"create-issue-projects-picker",owner:e,repo:n,selectedProjects:a,readonly:t,onSave:i,anchorElement:e=>(0,l.jsx)(eV,{...e,id:s}),...r});return(0,l.jsx)(eR.t,{fallback:(0,l.jsx)(eB,{}),children:(0,l.jsx)(eO,{sectionHeader:o,hasItems:a.length>0,children:a.length>0&&(0,l.jsx)(J.l,{"aria-labelledby":s,sx:{py:0},variant:"full",children:a.map(e=>(0,l.jsx)(J.l.LinkItem,{href:e.url,sx:{wordBreak:"break-word"},children:e.title},e.id))})})})},e$=t;function eH(e){let n=(0,s.useFragment)(e$,e.issueOrPullRequest);return n.projectItemsNext?(0,l.jsx)(ez,{projectsSectionData:n,...e}):(0,l.jsx)(eB,{})}let ez=({projectsSectionData:e,allowedProjectOwner:n,onIssueUpdate:a,insideSidePanel:t,selectedProjectId:m})=>{let{addToast:p}=(0,i.Y6)(),h=(e.projectItemsNext?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0!==e.project.closed),y=(e.projectItemsNext?.edges??[]).flatMap(e=>e?.node?e?.node:[]).filter(e=>!0===e.project.closed),[b,k]=(0,r.useState)(!1),{viewerCanUpdateMetadata:x,viewerCanUpdate:v,repository:C}=e,j=!(x||v)||C?.isArchived,S=e.id||"",_=h.length>0||y.length>0,I=o.ConnectionHandler.getConnectionID(S,"ProjectSection_projectItemsNext",{allowedOwner:n}),w=(0,s.useRelayEnvironment)(),F=(0,r.useCallback)(e=>{let n=e.filter(e=>!h.some(n=>n.project.id===e.id)),l=h.filter(n=>!e.some(e=>e.id===n.project.id)),t=!1;for(let e of n)(0,eE.Z)({environment:w,connectionId:I,projectId:e.id,issueId:S,onError:()=>t=!0,onCompleted:a});for(let e of l)!function({environment:e,connectionId:n,projectId:a,itemId:l,onError:t,onCompleted:i}){(0,s.commitMutation)(e,{mutation:u,variables:{input:{itemId:l,projectId:a},connections:[n]},onError:e=>t&&t(e),onCompleted:e=>i&&i(e)})}({environment:w,connectionId:I,projectId:e.project.id,itemId:e.id,onError:()=>t=!0,onCompleted:a});t&&p({type:"error",message:c.couldNotUpdateProjects})},[p,I,w,S,a,h]),N=(0,r.useMemo)(()=>h.map(e=>(0,s.readInlineData)(eP.dW,e.project)),[h]),L=y.length,T=(0,r.useMemo)(()=>!e.repository||j?(0,l.jsx)(eM,{}):(0,l.jsx)(eP.wX,{pickerId:`edit-issue-projects-picker-${S}`,repo:e.repository.name,owner:e.repository.owner.login,selectedProjects:N,readonly:j,firstSelectedProjectTitle:h.length>0?h[0].project.title:"",onSave:F,anchorElement:e=>(0,l.jsx)(eV,{...e}),insidePortal:t}),[S,h,e.repository,j,F,N,t]);return e.repository&&e.number?(0,l.jsx)(eO,{sectionHeader:T,hasItems:_,children:(0,l.jsxs)(f.A,{sx:{pl:2,pr:1,width:"100%"},children:[h.map(e=>(0,l.jsx)(eL,{onIssueUpdate:a,projectItem:e,isOpen:m===e.project.id},e.id)),L>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eD.Q,{variant:"invisible",trailingVisual:b?g.ChevronUpIcon:g.ChevronDownIcon,sx:{color:"fg.subtle",p:0,fontSize:0,"&:hover:not([disabled])":{background:"transparent"}},onClick:()=>k(!b),"aria-label":d.k.showClosedProjects,children:`${L} closed project${L>1?"s":""}`}),b&&y.map(e=>(0,l.jsx)(eL,{onIssueUpdate:a,projectItem:e,isOpen:m===e.project.id},e.id))]})]})}):null};try{eM.displayName||(eM.displayName="ReadonlyProjectsSectionHeader")}catch{}try{eO.displayName||(eO.displayName="ProjectsSection")}catch{}try{eB.displayName||(eB.displayName="ProjectsSectionFallback")}catch{}try{eU.displayName||(eU.displayName="CreateIssueProjectsSection")}catch{}try{eH.displayName||(eH.displayName="EditIssueProjectsSection")}catch{}try{ez.displayName||(ez.displayName="EditIssueProjectsSectionInternal")}catch{}},72995:(e,n,a)=>{a.d(n,{pf:()=>R,S7:()=>O,PT:()=>V,Dd:()=>M});var l=a(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionTypeFragment",selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueType",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Issue",abstractKey:null};t.hash="b001a8b0ab2f9df6e46e8fcb5ee286bd";let i=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TypesSectionFragment",selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[e],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"}],storageKey:null},e,{args:null,kind:"FragmentSpread",name:"TypesSectionTypeFragment"},{alias:null,args:null,kind:"ScalarField",name:"viewerCanType",storageKey:null}],type:"Issue",abstractKey:null}}();i.hash="0ff8c6dca741e190d4b8ec1c12fee9f1";var r=a(75177),s=a(96540),o=a(18312),d=a(51782),c=a(95641),u=a(35436),m=a(6715),p=a(75632),g=a(46988),f=a(19335),h=a(9935);let y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"issueType",plural:!1,selections:[a],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeMutation",selections:[{alias:null,args:n,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[l],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueIssueTypeMutation",selections:[{alias:null,args:n,concreteType:"UpdateIssueIssueTypePayload",kind:"LinkedField",name:"updateIssueIssueType",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[l,a],storageKey:null}],storageKey:null}]},params:{id:"8fb2ad8c640842c40c78555ec3de36ef",metadata:{},name:"updateIssueIssueTypeMutation",operationKind:"mutation",text:null}}}();function b({environment:e,input:n,onError:a,onCompleted:l}){return(0,o.commitMutation)(e,{mutation:y,variables:{input:n},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}y.hash="bb977961330cf582e078449e6127a944";var k=a(67136),x=a(50260),v=a(38621),C=a(87330),j=a(47139),S=a(84730);let _={copilotDraftType:"CopilotTypesSection-module__copilotDraftType--eNv_l",copilotLoadingText:"CopilotTypesSection-module__copilotLoadingText--AkBNc",copilotDraftIndividualType:"CopilotTypesSection-module__copilotDraftIndividualType--DhU2e",copilotIcon:"CopilotTypesSection-module__copilotIcon--fYO6J"};var I=a(25661);function w({issueId:e,onIssueUpdate:n,sectionHeader:a,setShouldShowCopilotComponent:t}){let{suggestedType:i,getSuggestions:r,getStatusForType:d}=(0,S.G)(),{addToast:c}=(0,k.Y6)(),m=(0,o.useRelayEnvironment)();(0,s.useEffect)(()=>{"success"===d("issueType")&&void 0===i&&t(!1)},[d,t,i]);let p=(0,s.useCallback)(a=>{b({environment:m,input:{issueId:e,issueTypeId:a.length>0?a[0]?.id:null},onError:()=>c({type:"error",message:f.S.couldNotUpdateType}),onCompleted:n})},[c,m,e,n]);(0,s.useEffect)(()=>{(0,s.startTransition)(()=>{r({issueId:e,environment:m,type:"issueType"})})},[m,r,e]);let h=(0,s.useCallback)(()=>{i&&p([i]),t(!1),(0,g.BI)("copilot_suggested_type.confirm",{type:i?.name,issueId:e})},[e,p,t,i]),y=(0,s.useCallback)(()=>{t(!1),(0,g.BI)("copilot_suggested_type.dismiss",{type:i?.name,issueId:e}),(0,I.ub)(e)},[e,t,i?.name]),C=(0,s.useCallback)(()=>{r({issueId:e,environment:m,type:"issueType"}),(0,g.BI)("copilot_suggested_type_error.retry")},[m,r,e]),j=(0,s.useCallback)(()=>{t(!1),(0,g.BI)("copilot_suggested_type_error.cancel")},[t]);return(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)(F,{}),children:(0,l.jsxs)(u.w,{sectionHeader:a,children:["loading"===d("issueType")&&(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,l.jsx)(v.CopilotIcon,{className:_.copilotIcon}),(0,l.jsx)(x.b,{children:(0,l.jsx)("span",{className:_.copilotLoadingText,children:"Copilot is thinking \u2026"})})]}),"success"===d("issueType")&&null!=i&&(0,l.jsx)(N,{copilotType:i,onConfirmCopilotType:h,onCancel:y,issueId:e}),"error"===d("issueType")&&(0,l.jsx)(T,{onRetry:C,onCancel:j})]})})}function F(){return(0,l.jsx)(u.w,{sectionHeader:(0,l.jsx)(m.X,{title:d.k.sectionTitles.types,readonly:!0}),children:(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-2 py-1","aria-busy":"true","aria-live":"polite",children:[(0,l.jsx)(v.CopilotIcon,{className:_.copilotIcon}),(0,l.jsx)(x.b,{children:(0,l.jsx)("span",{className:_.copilotLoadingText,children:"Copilot is thinking \u2026"})})]})})}function N({copilotType:e,onConfirmCopilotType:n,onCancel:a,issueId:t}){return(0,g.BI)("copilot_suggested_type.shown",{issueId:t}),(0,l.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-2",children:[(0,l.jsx)(L,{name:e.name}),(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,l.jsx)(C.K,{variant:"invisible",size:"small",icon:v.CheckIcon,onClick:n,"aria-label":"Accept suggestion"}),(0,l.jsx)(C.K,{variant:"invisible",size:"small",icon:v.XIcon,onClick:a,"aria-label":"Dismiss suggestion"})]})]})}function L({name:e}){return(0,l.jsx)("div",{className:_.copilotDraftType,children:(0,l.jsx)(j.A,{className:_.copilotDraftIndividualType,children:e})})}function T({onRetry:e,onCancel:n}){return(0,l.jsxs)("span",{className:"d-flex flex-items-center flex-justify-between pl-1",children:[(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-1 py-1",children:[(0,l.jsx)(v.CopilotErrorIcon,{className:_.copilotIcon}),(0,l.jsx)("span",{className:_.copilotLoadingText,children:"Error. Please try again."})]}),(0,l.jsxs)("span",{className:"d-flex flex-items-center pl-1",children:[(0,l.jsx)(C.K,{variant:"invisible",size:"small",icon:v.SyncIcon,onClick:e,"aria-label":"Retry"}),(0,l.jsx)(C.K,{variant:"invisible",size:"small",icon:v.XIcon,onClick:n,"aria-label":"Dismiss"})]})]})}try{w.displayName||(w.displayName="CopilotTypesSection")}catch{}try{F.displayName||(F.displayName="CopilotTypesSectionLoading")}catch{}try{N.displayName||(N.displayName="CopilotTypesSectionSuccess")}catch{}try{L.displayName||(L.displayName="CopilotDraftType")}catch{}try{T.displayName||(T.displayName="CopilotTypesSectionError")}catch{}var A=a(73541),K=a(3310);function D({type:e,anchorProps:n,repoNameWithOwner:a}){return(0,l.jsx)(l.Fragment,{children:e?(0,l.jsx)("div",{"data-testid":K.Y.typeContainer,children:(0,l.jsx)(A.n,{name:e.name,color:e.color,href:`/${a}/issues?q=type:"${e.name}"`,getTooltipText:n=>n?e.name:void 0,sx:{mb:2}})}):(0,l.jsx)(r.A,{sx:{height:"0px",p:0,m:0,border:"0",visibility:"hidden"},...n})})}try{D.displayName||(D.displayName="IssueType")}catch{}let E=()=>(0,l.jsx)(c.h,{title:d.k.sectionTitles.types}),P=({sectionHeader:e,type:n,repoNameWithOwner:a,sx:t})=>(0,l.jsx)(u.w,{sx:t,sectionHeader:e,emptyText:n?void 0:d.k.emptySections.types,children:(0,l.jsx)(r.A,{sx:{ml:2,mt:1},children:(0,l.jsx)(D,{type:n,repoNameWithOwner:a})})});function R({type:e,onSelectionChange:n,viewerCanType:a,sx:t,...i}){let{repo:r,owner:s}=i;return(0,l.jsx)(P,{sx:t,sectionHeader:a?(0,l.jsx)(h.uF,{onSelectionChange:e=>{n(e)},readonly:a,activeIssueType:e,anchorElement:(e,n)=>(0,l.jsx)(m.X,{title:d.k.sectionTitles.types,buttonProps:e,ref:n}),...i,width:"medium"}):(0,l.jsx)(E,{}),type:e,repoNameWithOwner:`${s}/${r}`})}let M=t,V=i;function O({issue:e,onIssueUpdate:n,singleKeyShortcutsEnabled:a,insideSidePanel:t}){let i=(0,o.useFragment)(V,e),{repository:{owner:{login:r},name:c,nameWithOwner:u,issueTypes:y},id:x,viewerCanType:v}=i,C=y?.edges?.map(e=>e?.node?.id)||[],{issueType:j}=(0,o.useFragment)(M,i),S=void 0!==j?(0,o.readInlineData)(h.sH,j):null,{addToast:_}=(0,k.Y6)(),F=(0,o.useRelayEnvironment)(),N=(0,p.G7)("copilot_auto_assign_metadata"),[L,T]=(0,s.useState)(N&&v&&null==S&&!(0,I.ic)(x)),A=(0,s.useCallback)(e=>{L&&(T(!1),(0,g.BI)("copilot_suggested_type.skipped",{issueId:x})),b({environment:F,input:{issueId:x,issueTypeId:e.length>0?e[0]?.id:null},onError:()=>_({type:"error",message:f.S.couldNotUpdateType}),onCompleted:n})},[_,F,x,n,L]),K=(0,s.useMemo)(()=>v?(0,l.jsx)(h.uF,{repo:c,owner:r,onSelectionChange:A,anchorElement:(e,n)=>(0,l.jsx)(m.X,{title:d.k.sectionTitles.types,buttonProps:e,ref:n}),readonly:!v,shortcutEnabled:a,activeIssueType:S??null,insidePortal:t,width:"medium"}):(0,l.jsx)(E,{}),[v,c,r,A,a,S,t]);return v||0!==C.length?L?(0,l.jsx)(w,{issueId:x,onIssueUpdate:n,sectionHeader:K,setShouldShowCopilotComponent:T}):(0,l.jsx)(P,{sectionHeader:K,type:S??null,repoNameWithOwner:u}):null}try{E.displayName||(E.displayName="ReadonlyTypesSectionHeader")}catch{}try{P.displayName||(P.displayName="TypesSection")}catch{}try{R.displayName||(R.displayName="CreateIssueIssueTypesSection")}catch{}try{O.displayName||(O.displayName="EditIssueIssueTypeSection")}catch{}},73541:(e,n,a)=>{a.d(n,{n:()=>d});var l=a(74848),t=a(34614),i=a(78558),r=a(96540);let s={container:"IssueTypeToken-module__container--bGRt0",tokenText:"IssueTypeToken-module__tokenText--fyjvE",token:"IssueTypeToken-module__token--iQHKj"};var o=a(42522);let d=({name:e,color:n,href:a,getTooltipText:d,size:u,sx:m})=>{let p=(0,r.useRef)(null),[g,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>f(c(p.current)),[f,p]);let h=(0,l.jsx)(t.A,{href:a,children:(0,l.jsx)(i.A,{className:s.token,"data-color":n,ref:p,sx:m,text:(0,l.jsx)("span",{className:s.tokenText,children:e})})}),y=d(g);return(0,l.jsx)("div",{className:s.container,"data-size":u,children:y?(0,l.jsx)(o.m,{text:y,children:h}):h})},c=e=>!!e&&!!e.firstElementChild&&e.firstElementChild.scrollWidth>e.firstElementChild.clientWidth;try{d.displayName||(d.displayName="IssueTypeToken")}catch{}},49720:(e,n,a)=>{a.d(n,{Q:()=>c});var l=a(74848),t=a(2809),i=a(96540);let r={container:"IssuesLoadingSkeleton-module__container--NyzFq"},s={sm:16,md:20,lg:24,xl:32},o={rounded:"3px",pill:"100px",elliptical:"50%"},d=()=>`${Math.floor(40*Math.random()+40)}%`,c=({height:e,width:n,borderRadius:a="rounded"})=>{let[c,u]=(0,i.useState)("100%");(0,i.useEffect)(()=>{"random"===n&&u(d())},[n]);let m="string"==typeof e&&e in s?`${s[e]}px`:e,p="random"===n?c:"string"==typeof n&&n in s?`${s[n]}px`:n,g="string"==typeof a&&a in o?o[a]:a;return(0,l.jsx)(t.f,{"data-testid":"issues-loading-skeleton",className:r.container,style:{width:p,height:m,borderRadius:g}})};try{c.displayName||(c.displayName="IssuesLoadingSkeleton")}catch{}},28339:(e,n,a)=>{a.d(n,{G1:()=>M,Ir:()=>V,_g:()=>O,mK:()=>H,OE:()=>R});var l=a(74848);let t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"first"},n={defaultValue:null,kind:"LocalArgument",name:"name"},a={defaultValue:null,kind:"LocalArgument",name:"number"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},t={defaultValue:null,kind:"LocalArgument",name:"query"},i=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],r=[{kind:"Variable",name:"number",variableName:"number"}],s=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"query"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},p={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},g={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},f={kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[e,n,a,l,t],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableUsersQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:[{kind:"InlineFragment",selections:[o,d,c,u,m,p,g],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],type:"Assignable",abstractKey:"__isAssignable"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,n,a,t,e],kind:"Operation",name:"AssigneePickerSearchAssignableUsersQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:s,concreteType:"AssigneeConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"InlineFragment",selections:[d,c,u,m,p,g],type:"Actor",abstractKey:"__isActor"},f],storageKey:null}],storageKey:null}],type:"Assignable",abstractKey:"__isAssignable"},f],storageKey:null},d],storageKey:null}]},params:{id:"bd8107ea164f1f5859481d7e56bfd9c0",metadata:{},name:"AssigneePickerSearchAssignableUsersQuery",operationKind:"query",text:null}}}();t.hash="d702928d0c57f6090420c6da1f509235";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"capabilities"},n={defaultValue:null,kind:"LocalArgument",name:"first"},a={defaultValue:null,kind:"LocalArgument",name:"loginNames"},l={defaultValue:null,kind:"LocalArgument",name:"name"},t={defaultValue:null,kind:"LocalArgument",name:"owner"},i={defaultValue:null,kind:"LocalArgument",name:"query"},r=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],s=[{kind:"Variable",name:"capabilities",variableName:"capabilities"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"loginNames",variableName:"loginNames"},{kind:"Variable",name:"query",variableName:"query"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},p={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},g={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},f={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a,l,t,i],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableRepositoryUsersQuery",selections:[{alias:null,args:r,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:[o,d,c,u,m,p,g],args:null,argumentDefinitions:[]}],storageKey:null},f],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,l,i,a,n,e],kind:"Operation",name:"AssigneePickerSearchAssignableRepositoryUsersQuery",selections:[{alias:null,args:r,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:"ActorConnection",kind:"LinkedField",name:"suggestedActors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d,c,u,m,p,g],storageKey:null},f],storageKey:null},d],storageKey:null}]},params:{id:"76143934e91fc5d431ea7b83f63b08b9",metadata:{},name:"AssigneePickerSearchAssignableRepositoryUsersQuery",operationKind:"query",text:null}}}();i.hash="f2bdddf84af4d342903b16046802a7c9";let r={kind:"InlineDataFragment",name:"AssigneePickerAssignee"};r.hash="51e29765673901bbb4036060ed44d2ea";var s=a(62456),o=a(38621),d=a(55516),c=a(67136),u=a(47139),m=a(75177),p=a(18312),g=a(96540),f=a(37827),h=a(79317),y=a(19335),b=a(5979);let k=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueAssigneesBulkMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueAssigneesBulkMutation",selections:n},params:{id:"81d7ed8a6e6b63c1b5a5f777e63cf5d2",metadata:{},name:"updateIssueAssigneesBulkMutation",operationKind:"mutation",text:null}}}();k.hash="0ba96eec20babdc2170405884532fc45";var x=a(69487);function v(e,n,a,l,t){for(let i of n){if(!e.get(i))return;let n=l[i]?.map(n=>e.get(n));t.applyAssigneeIds.map(l=>{if(a.get(i)?.includes(l))return;let t=e.get(l);t&&n?.filter(e=>e).map(n=>{let a=n&&x.ConnectionHandler.createEdge(e,n,t,"AssigneeEdge");a&&x.ConnectionHandler.insertEdgeBefore(n,a)})}),t.removeAssigneeIds.map(e=>{n?.filter(e=>e).map(n=>n&&x.ConnectionHandler.deleteNode(n,e))})}}var C=a(3893);let j=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueAssigneesBulkByQueryMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueAssigneesBulkByQueryMutation",selections:n},params:{id:"444de2e3bd553d455e56a1c83ac051a8",metadata:{},name:"updateIssueAssigneesBulkByQueryMutation",operationKind:"mutation",text:null}}}();function S(e,n,a){let l=a.toLowerCase().trim(),t=e.filter(e=>`${e.login.toLowerCase()}#${e.name?.toLowerCase()}`.includes(l)),i=n.filter(e=>!t.some(n=>n.id===e.id));return i.sort((e,n)=>e.isCopilot!==n.isCopilot?e.isCopilot?-1:1:e.login.localeCompare(n.login)),t.concat(i)}j.hash="f7a9c293e5cc80562b7a7c7fe81ed937";let _={groupId:"assignees"},I={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},w=(e,n)=>0===e.length?I.groupId:e.find(e=>e.id===n.id)?_.groupId:I.groupId;var F=a(36538),N=a(47584),L=a(22579),T=a(46874),A=a(11086),K=a(73262);let D={banner:"AssigneePicker-module__banner--is9sU"};var E=a(2595),P=a(98830);let R=i,M=r;function V({anchorElement:e,shortcutEnabled:n,...a}){return(0,l.jsx)(L.y,{anchorElement:(n,a)=>e(n,a),createChild:()=>(0,l.jsx)(U,{anchorElement:(n,a)=>e(n,a),shortcutEnabled:n,triggerOpen:!0,...a}),insidePortal:a.insidePortal,keybindingCommandId:z(a.name)})}function O({shortcutEnabled:e,anchorElement:n,...a}){return(0,l.jsx)(L.y,{anchorElement:(e,a)=>n(e,a),keybindingCommandId:z(a.name),createChild:()=>(0,l.jsx)(B,{shortcutEnabled:e,anchorElement:n,triggerOpen:!0,...a})})}function B({repo:e,owner:n,assignees:a,assigneeTokens:t,suggestions:i,maximumAssignees:r,includeAssignableBots:s,includeAuthorableBots:o,...d}){let c=(0,p.useRelayEnvironment)(),[u,m]=(0,g.useState)(!1),[f,y]=(0,g.useState)(null),[b,k]=(0,g.useState)(null),[x,v]=(0,g.useState)(null),C=(0,g.useMemo)(()=>(0,P.M)({includeAssignableBots:s,includeAuthorableBots:o}),[s,o]),j=t.length>0;(0,g.useEffect)(()=>{!N.X3&&j&&(m(!0),(0,h.SD)({environment:c,query:R,variables:{owner:n,name:e,loginNames:t.join(","),first:t.length,capabilities:C}}).subscribe({next:e=>{y(e??null),m(!1)},error:()=>{m(!1)}}))},[c,n,e,t,s,o,C,j]);let S=(0,g.useCallback)(a=>x&&x<=F.t.maximumSuggestedUsers&&b?(m(!1),(0,A.t)({items:[...b,...d.noAssigneeOption?[T.v.noAssigneeData]:[]],filter:a,key:e=>e.login||(d.noAssigneeOption?.source?.login??""),secondaryKey:e=>`${e.name}`})):new Promise((l,t)=>{m(!0),(0,p.fetchQuery)(c,R,{owner:n,name:e,query:a,first:F.t.maximumSuggestedUsers,capabilities:C}).subscribe({next:e=>{if(null!==e){let n=(e.repository?.suggestedActors?.nodes||[]).flatMap(e=>e?[(0,p.readInlineData)(M,e)]:[]);null===x&&v(e.repository?.suggestedActors?.totalCount||0),d.noAssigneeOption&&(0,K.O)(a,d.noAssigneeOption?.source?.login??"")&&n.unshift({...T.v.noAssigneeData}),m(!1),l(n)}},error:e=>{t(e),m(!1)}})}),[x,b,d.noAssigneeOption,c,n,e,C]),_=(0,g.useMemo)(()=>{let e=[];return a.length>0?e=a:t.length>0&&(e=(f?.repository?.suggestedActors?.nodes||[]).flatMap(e=>e?[(0,p.readInlineData)(M,e)]:[])),d.noAssigneeOption?.selected&&e.unshift(T.v.noAssigneeData),e},[t.length,a,f?.repository?.suggestedActors?.nodes,d.noAssigneeOption?.selected]);(0,g.useEffect)(()=>{(async()=>{k(await S("")),m(!1)})()},[]);let I=(0,g.useMemo)(()=>{let e=(b||[]).find(e=>e.isCopilot),n=[...i||b||[]];return e&&!n.find(e=>e.isCopilot)&&n.unshift(e),n},[b,i]);return(0,l.jsx)($,{...d,assignees:_,suggestions:I,repo:e,owner:n,isLoading:u,searchAssignees:S,maximumAssignees:r})}function U({number:e,owner:n,repo:a,assignees:i,suggestions:r,maximumAssignees:s,...o}){let d=(0,p.useRelayEnvironment)(),c=(r?.length||0)>0,[u,m]=(0,g.useState)(!c),[f,y]=(0,g.useState)(null);(0,g.useEffect)(()=>{N.X3||c||(0,h.SD)({environment:d,query:t,variables:{owner:n,name:a,number:e,query:"",first:10}}).subscribe({next:e=>{y(e??null),m(!1)},error:()=>{m(!1)}})},[d,n,a,e,c]);let b=r||(f?.repository?.issueOrPullRequest?.suggestedActors?.nodes||[]).flatMap(e=>e?[(0,p.readInlineData)(M,e)]:[]),k=(0,g.useCallback)(l=>new Promise((i,r)=>{(0,p.fetchQuery)(d,t,{owner:n,name:a,number:e,first:10,query:l}).subscribe({next:e=>{null!==e&&i((e.repository?.issueOrPullRequest?.suggestedActors?.nodes||[]).flatMap(e=>e?[(0,p.readInlineData)(M,e)]:[]))},error:e=>{r(e)}})}),[d,e,n,a]);return(0,l.jsx)($,{...o,repo:a,owner:n,isLoading:u,assignees:i,suggestions:b,maximumAssignees:s,searchAssignees:k})}function $({assignees:e,suggestions:n,searchAssignees:a,onSelectionChange:t,insidePortal:i,anchorElement:r,nested:p,isLoading:h=!1,noAssigneeOption:k,triggerOpen:x,selectionVariant:v="multiple",title:j,maximumAssignees:N,name:L="assignee",showNoMatchItem:A=!1}){let[K,P]=(0,g.useState)(""),[R,M]=(0,g.useState)(void 0),V=(0,E.u)(),{addToast:O}=(0,c.Y6)(),B=(0,g.useCallback)(e=>e.login,[]),U=(0,g.useMemo)(()=>{let a=[];if(a=R?S(e,R,K):S(e,e.concat(n.filter(n=>!e.find(e=>e.login===n.login))),K),V){let e=a.findIndex(e=>e.login===V.login);if(-1!==e)a.splice(e,1);else if(R)return a;a.unshift(V)}return!k||k.selected||a.find(e=>e.id===T.v.noAssigneeData.id)||a.unshift(T.v.noAssigneeData),a},[R,V,k,e,K,n]),$=(0,g.useCallback)(n=>w(e,n),[e]),H=(0,g.useCallback)(e=>{if(k&&e.id===T.v.noAssigneeData.id){let n={...k};return n.groupId=$(e),n}if(A&&e.id===T.v.noMatchData.id)return{...T.v.noMatchData,groupId:$(e),source:e,text:`${L}:${K}`,sx:{wordBreak:"break-word"}};let n=e.isCopilot;return{id:e.id,text:n?b.k.copilotDisplayName:e.login,description:n?b.k.copilotDescription:e.name??"",source:e,groupId:$(e),leadingVisual:()=>n?(0,l.jsx)(o.CopilotIcon,{}):0===e.avatarUrl.length?null:(0,l.jsx)(s.r,{alt:e.login,src:e.avatarUrl}),trailingVisual:()=>"bot"===e.type?(0,l.jsx)(u.A,{children:"bot"}):null,sx:{wordBreak:"break-word"}}},[K,$,L,k,A]),q=(0,g.useCallback)(()=>{M(void 0)},[]),G=(0,g.useCallback)(async e=>{if(""===e){M(void 0);return}try{let n=await a(e);M(n)}catch{O({type:"error",message:y.S.couldNotSearchAssignees})}},[O,a]),W=(0,d.d)(e=>G(e),F.t.pickerDebounceTime,{leading:!0,trailing:!0,onChangeBehavior:"flush"}),Q=(0,g.useCallback)(e=>{let n=e.trim();K!==n&&(W(n),P(e))},[W,K]),X=(0,g.useMemo)(()=>{let n=[],a=U.filter(n=>e.find(e=>e.id===n.id)),l=U.filter(n=>!e.find(e=>e.id===n.id));return a.length>0&&n.push(_),l.length>0&&n.push(I),n},[e,U]),Y=(0,g.useRef)(null);return(0,l.jsx)(m.A,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1},children:(0,l.jsx)(C.O,{items:U,initialSelectedItems:e,loading:h,filterItems:Q,title:j||b.k.assigneesHeader(N??10),getItemKey:B,triggerOpen:x,convertToItemProps:H,placeholderText:b.k.filterUsers(L),selectionVariant:1===N?"single":v||"multiple",onSelectionChange:t,onClose:q,renderAnchor:e=>r(e,Y),groups:X,insidePortal:i,height:"large",width:"medium",nested:p,resultListAriaLabel:"User results",selectPanelRef:Y,subtitle:e.length===N?(0,l.jsx)(f.l,{className:D.banner,variant:"warning",hideTitle:!0,title:"Assignee limit reached",children:b.k.limitWarning(N)}):void 0,customNoMatchItem:A?{id:T.v.noMatchData.id,avatarUrl:T.v.noMatchData.avatarUrl,login:K}:void 0,keybindingCommandId:z(L)})})}function H({useQueryForAction:e,repositoryId:n,query:a,issuesToActOn:t,assigneesAppliedToAll:i,assigneesAppliedToSome:r,existingIssueAssignees:s,connectionIds:o,onError:d,onCompleted:c,...u}){let m=(0,p.useRelayEnvironment)(),f=(0,g.useCallback)(l=>{let r=l.filter(e=>!i.some(n=>n.id===e.id)),u=i.filter(e=>!l.some(n=>n.id===e.id)),g={applyAssigneeIds:r.map(e=>e.id),removeAssigneeIds:u.map(e=>e.id)},f={environment:m,optimisticUpdateIds:t,existingIssueAssignees:s,connectionIds:o,onError:e=>{d?.(e)}};e&&n&&a?function({environment:e,optimisticUpdateIds:n,existingIssueAssignees:a,connectionIds:l,input:{query:t,repositoryId:i,applyAssigneeIds:r,removeAssigneeIds:s},onCompleted:o,onError:d}){let c={applyAssigneeIds:r,removeAssigneeIds:s},u={query:t,repositoryId:i,...c};return(0,p.commitMutation)(e,{mutation:j,variables:{input:u},updater:e=>v(e,n,a,l,c),optimisticUpdater:e=>v(e,n,a,l,c),onCompleted:e=>o&&o(e),onError:e=>d&&d(e)})}({...f,input:{repositoryId:n,query:a,...g},onCompleted:({updateIssuesBulkByQuery:e})=>{c?.(e?.jobId||void 0)}}):function({environment:e,optimisticUpdateIds:n,existingIssueAssignees:a,connectionIds:l,input:{ids:t,applyAssigneeIds:i,removeAssigneeIds:r},onCompleted:s,onError:o}){let d={applyAssigneeIds:i,removeAssigneeIds:r},c={ids:t,...d};return(0,p.commitMutation)(e,{mutation:k,variables:{input:c},updater:e=>v(e,n,a,l,d),optimisticUpdater:e=>v(e,n,a,l,d),onCompleted:e=>s&&s(e),onError:e=>o&&o(e)})}({...f,input:{ids:[...t],...g},onCompleted:({updateIssuesBulk:e})=>{c?.(e?.jobId||void 0)}})},[i,o,m,s,t,c,d,a,n,e]);return(0,l.jsx)(O,{...u,assignees:i,assigneeTokens:[],onSelectionChange:f,includeAssignableBots:!0,includeAuthorableBots:!1})}let z=e=>"author"===e?"item-pickers:open-author":"item-pickers:open-assignees";try{V.displayName||(V.displayName="AssigneePicker")}catch{}try{O.displayName||(O.displayName="AssigneeRepositoryPicker")}catch{}try{B.displayName||(B.displayName="AssigneeRepositoryPickerInternal")}catch{}try{U.displayName||(U.displayName="AssigneePickerInternal")}catch{}try{$.displayName||($.displayName="ItemPickerWrapper")}catch{}try{H.displayName||(H.displayName="BulkIssuesAssigneePicker")}catch{}},9935:(e,n,a)=>{a.d(n,{$H:()=>R,ZQ:()=>V,sH:()=>T,uF:()=>D,xS:()=>K,Jc:()=>A,iT:()=>L});var l,t,i=a(74848);let r={kind:"InlineDataFragment",name:"IssueTypePickerIssueType"};r.hash="0c223d6af5ad63c9b9e4b8a624f01688";let s={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"issueTypesPageSize"}],kind:"Fragment",metadata:{connection:[{count:"issueTypesPageSize",cursor:null,direction:"forward",path:["issueTypes"]}]},name:"IssueTypePickerPaginated",selections:[{alias:"issueTypes",args:null,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"__Repository_issueTypes_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"IssueTypePickerIssueType",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null};s.hash="4091b5cccb90b36bcd379140762052c6";let o=function(){var e={defaultValue:null,kind:"LocalArgument",name:"issueTypesPageSize"},n={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:null,kind:"LocalArgument",name:"repo"},l=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],t=[{kind:"Variable",name:"first",variableName:"issueTypesPageSize"}],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"IssueTypePickerQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{args:[{kind:"Variable",name:"issueTypesPageSize",variableName:"issueTypesPageSize"}],kind:"FragmentSpread",name:"IssueTypePickerPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,e],kind:"Operation",name:"IssueTypePickerQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:t,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:t,filters:null,handle:"connection",key:"Repository_issueTypes",kind:"LinkedHandle",name:"issueTypes"},i],storageKey:null}]},params:{id:"827cadfdeccb6a9d97e37d3d2181fd82",metadata:{},name:"IssueTypePickerQuery",operationKind:"query",text:null}}}();o.hash="af4d71f1b762a40abc70ae6a6f939966";var d=a(70404),c=a(18312),u=a(96540),m=a(38621),p=a(3893);let g=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeBulkByQueryMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueIssueTypeBulkByQueryMutation",selections:n},params:{id:"426a619c52646608c381f8ebf2927e90",metadata:{},name:"updateIssueIssueTypeBulkByQueryMutation",operationKind:"mutation",text:null}}}();g.hash="73076489d1e36668033ad5ed8e6224de";let f=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueIssueTypeBulkMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueIssueTypeBulkMutation",selections:n},params:{id:"fb9fd5943d51bf5311dec5a35836db2d",metadata:{},name:"updateIssueIssueTypeBulkMutation",operationKind:"mutation",text:null}}}();function h(e,n,a){for(let l of n){let n=e.get(l);if(!n)return;let t=a?e.get(a):null;if(!t){n.setValue(null,"issueType");continue}n.setLinkedRecord(t,"issueType")}}f.hash="80e52862748dd652ae22e4d09c73a917";var y=a(55847),b=a(75177),k=a(5979),x=a(22579),v=a(79317),C=a(47584),j=a(724),S=a(20820);let _=e=>function(){let n=S.i4.find(n=>n===e),{bg:a,accent:l}=(0,S.Wk)(n);return(0,i.jsx)(b.A,{sx:{bg:a,borderColor:l,borderWidth:2,borderStyle:"solid",width:12,height:12,borderRadius:8,flexShrink:0}})};try{(l=IssueTypePickerItemLeadingVisual).displayName||(l.displayName="IssueTypePickerItemLeadingVisual")}catch{}var I=a(55295);let w=({color:e})=>{let n=S.i4.find(n=>n===e),{fg:a}=(0,S.Wk)(n);return(0,i.jsx)(b.A,{sx:{width:8,height:8,borderRadius:100,boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))",backgroundColor:`${a}`,display:"flex",alignItems:"center",justifyContent:"center"}})};try{w.displayName||(w.displayName="IssueTypeDot")}catch{}var F=a(46874),N=a(66032);let L="UNSET",T=r,A=s,K=o;function D({shortcutEnabled:e,anchorElement:n,...a}){return(0,i.jsx)(x.y,{keybindingCommandId:"item-pickers:open-issue-type",anchorElement:e=>n(e),createChild:()=>(0,i.jsx)(E,{anchorElement:e=>n(e),shortcutEnabled:e,...a})})}function E({owner:e,repo:n,anchorElement:a,...l}){let t=(0,c.useRelayEnvironment)(),[r,s]=(0,u.useState)(!0),[o,d]=(0,u.useState)(0),[m,p]=(0,u.useState)(!1),[g,f]=(0,u.useState)(null);(0,u.useEffect)(()=>{C.X3||(0,v.SD)({environment:t,query:K,variables:{owner:e,repo:n,issueTypesPageSize:N.En}}).subscribe({next:e=>{f(e.repository??null),s(!1),p(!1)},error:()=>{p(!0),s(!1)}})},[t,o,e,n]);let{createFallbackComponent:h}=(0,j.j)({errorMessage:k.k.cantEditItems("types"),anchorElement:a,open:!0});return m?h(()=>d(e=>e+1)):(0,i.jsx)(P,{repo:n,owner:e,types:g,isLoading:r,anchorElement:a,...l})}function P({title:e=k.k.typesHeader,width:n="large",types:a,activeIssueType:l,showUnset:t=!1,onSelectionChange:r,insidePortal:s,anchorElement:o,isLoading:d,nested:m,issueTypeToken:g,noTypeItem:f}){let[h,y]=(0,u.useState)(""),b=(0,c.useFragment)(A,a),x=(0,u.useMemo)(()=>b?.issueTypes?.edges?.flatMap(e=>e?.node?[c.readInlineData(T,e.node)]:[])||[],[b]),v=(0,u.useMemo)(()=>{let e=g&&'"'===g[0]&&'"'===g[g.length-1]?g.slice(1,-1):g;return x.find(n=>n.name===e)},[x,g]),C=(0,u.useMemo)(()=>{let e=x.slice().sort((e,n)=>e.name.localeCompare(n.name));return(f?e.unshift(F.v.noTypeData):t&&e.unshift({id:L,name:"No issue type",isEnabled:!0,description:"",color:"GRAY"," $fragmentType":"IssueTypePickerIssueType"}),h)?e.filter(e=>e.name.toLowerCase().indexOf(h.toLowerCase())>=0):e},[x,h,t,f]),j=(0,u.useCallback)(e=>{y(e)},[]),S=(0,u.useCallback)(e=>e.id,[]),I=(0,u.useCallback)(e=>({id:e.id,text:e.name,description:e.description??"",descriptionVariant:"block",leadingVisual:_(e.color),source:e}),[]),w=(0,u.useMemo)(()=>f?.selected?[F.v.noTypeData]:l?[l]:v?[v]:[],[l,v,f]),N=(0,u.useRef)(null);return(0,i.jsx)(p.O,{loading:d,items:C,initialSelectedItems:w,filterItems:j,title:e,getItemKey:S,convertToItemProps:I,placeholderText:"Filter types",selectionVariant:"single",onSelectionChange:r,renderAnchor:e=>o(e),insidePortal:s,height:"large",width:n,nested:m,resultListAriaLabel:"Issue Type results",triggerOpen:!0,keybindingCommandId:"item-pickers:open-issue-type",selectPanelRef:N})}function R({onError:e,onCompleted:n,issuesToActOn:a,useQueryForAction:l,repositoryId:t,query:r,activeIssueType:s,...o}){let m=(0,c.useRelayEnvironment)(),{sendAnalyticsEvent:p}=(0,d.s)(),y=(0,u.useCallback)(i=>{let o=1===i.length?i[0]?.id:null;if(!o||o===s?.id)return;let d={environment:m,onError:n=>{e?.(n)}};p("issues_index.bulk_action_issue_type","BULK_ISSUE_ISSUE_TYPE_PICKER",{initialIssueTypeId:s?.id??"",issueTypeId:"UNSET"===o?"":o??"",issueIds:[...a]}),l&&t&&r?function({environment:e,input:{query:n,repositoryId:a,issueTypeId:l},optimisticUpdateIds:t,onCompleted:i,onError:r}){let s={query:n,repositoryId:a};return l!==L?s.issueTypeId=l:s.unsetIssueType=!0,(0,c.commitMutation)(e,{mutation:g,variables:{input:s},updater:e=>h(e,t,s.issueTypeId),optimisticUpdater:e=>h(e,t,s.issueTypeId),onCompleted:e=>i&&i(e),onError:e=>r&&r(e)})}({...d,input:{repositoryId:t,query:r,issueTypeId:o},optimisticUpdateIds:a,onCompleted:({updateIssuesBulkByQuery:e})=>{n?.(e?.jobId||void 0)}}):function({environment:e,input:{ids:n,issueTypeId:a},onCompleted:l,onError:t}){let i={ids:n};return a!==L?i.issueTypeId=a:i.unsetIssueType=!0,(0,c.commitMutation)(e,{mutation:f,variables:{input:i},updater:e=>h(e,n,i.issueTypeId),optimisticUpdater:e=>h(e,n,i.issueTypeId),onCompleted:e=>l&&l(e),onError:e=>t&&t(e)})}({...d,input:{ids:[...a],issueTypeId:o},onCompleted:({updateIssuesBulk:e})=>{n?.(e?.jobId||void 0)}})},[s?.id,m,a,n,e,r,t,p,l]);return(0,i.jsx)(D,{...o,onSelectionChange:y,showUnset:!0,activeIssueType:s})}let M=(e,n)=>e?e.name:n||"None",V=(0,u.forwardRef)(({activeIssueType:e,readonly:n,anchorProps:a},l)=>(0,i.jsx)(I._,{anchorText:k.k.noIssueTypes,sharedPickerMainValue:e?.name,anchorProps:n?void 0:a,ariaLabel:k.k.selectIssueTypes,readonly:n,leadingIcon:m.IssueOpenedIcon,hotKey:void 0,ref:l,leadingIconElement:e&&(0,i.jsx)(w,{color:e.color})}));V.displayName="DefaultIssueTypePickerFooterAnchor";try{D.displayName||(D.displayName="IssueTypePicker")}catch{}try{E.displayName||(E.displayName="IssueTypePickerFetcher")}catch{}try{P.displayName||(P.displayName="ItemPickerWrapper")}catch{}try{R.displayName||(R.displayName="BulkIssueIssueTypePicker")}catch{}try{(t=function({activeIssueType:e,ariaLabelledBy:n,readonly:a,anchorProps:l,preselectedIssueTypeName:t}){let r=M(e,t);return(0,i.jsx)(y.Q,{...l,trailingVisual:a?null:m.TriangleDownIcon,"aria-labelledby":n,disabled:a,sx:{width:"160px"},children:(0,i.jsx)(b.A,{className:"css-truncate css-truncate-target",sx:{width:"110px",textAlign:"left"},children:r})})}).displayName||(t.displayName="DefaultIssueTypeAnchor")}catch{}},21878:(e,n,a)=>{a.d(n,{ng:()=>Q,vF:()=>Z,l_:()=>H,tJ:()=>X,uS:()=>$});var l=a(74848);let t=function(){var e={defaultValue:100,kind:"LocalArgument",name:"count"},n={defaultValue:"",kind:"LocalArgument",name:"labelNames"},a={defaultValue:null,kind:"LocalArgument",name:"owner"},l={defaultValue:null,kind:"LocalArgument",name:"repo"},t={defaultValue:!1,kind:"LocalArgument",name:"shouldQueryByNames"},i=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],r={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null}],storageKey:null},s={kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}},o=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"names",variableName:"labelNames"},s],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[d,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],u={alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:c,storageKey:null};return{fragment:{argumentDefinitions:[e,n,a,l,t],kind:"Fragment",metadata:null,name:"LabelPickerQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r,{args:null,kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"},{condition:"shouldQueryByNames",kind:"Condition",passingValue:!0,selections:[{alias:"labelsByNames",args:o,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:c,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,l,t,n,e],kind:"Operation",name:"LabelPickerQuery",selections:[{alias:null,args:i,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r,d,{alias:null,args:[{kind:"Literal",name:"first",value:100},s],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{condition:"shouldQueryByNames",kind:"Condition",passingValue:!0,selections:[{alias:"labelsByNames",args:o,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[u],storageKey:null}]}],storageKey:null}]},params:{id:"b480cbd1d6d3f7ba4a98229e88acf3fd",metadata:{},name:"LabelPickerQuery",operationKind:"query",text:null}}}();t.hash="f2a0198cb8fd64daf4870ea252f764be";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],n=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerPermissionQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerPermissionQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"e60f1995c53fa2376cdc9daecf2d8d93",metadata:{},name:"LabelPickerPermissionQuery",operationKind:"query",text:null}}}();i.hash="4a622bc23fd8b89eeafc34a5dbf3e987";let r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"count"},n={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:null,kind:"LocalArgument",name:"query"},l={defaultValue:null,kind:"LocalArgument",name:"repo"},t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"query",variableName:"query"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[r,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a,l],kind:"Fragment",metadata:null,name:"LabelPickerSearchQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:s,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,l,a,e],kind:"Operation",name:"LabelPickerSearchQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:s,storageKey:null}],storageKey:null},r],storageKey:null}]},params:{id:"333d28f33fdb9cce58fd191174d5e4f5",metadata:{},name:"LabelPickerSearchQuery",operationKind:"query",text:null}}}();r.hash="1d380fd2b03ec1012648965c94699afe";let s=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"assignedLabelPageSize"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerAssignedLabelsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"assignedLabelPageSize",variableName:"assignedLabelPageSize"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerAssignedLabels"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerAssignedLabelsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,l,{kind:"InlineFragment",selections:[{alias:null,args:t,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:t,filters:["orderBy"],handle:"connection",key:"LabelPicker_labels",kind:"LinkedHandle",name:"labels"},{kind:"TypeDiscriminator",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}],storageKey:null}]},params:{id:"0633bc3316e383c68b8cf79758253709",metadata:{},name:"LabelPickerAssignedLabelsQuery",operationKind:"query",text:null}}}();s.hash="405b6c032efdc12ea880aa34c2d823ee",function(){var e=["labels"],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"assignedLabelPageSize"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"assignedLabelPageSize",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"assignedLabelPageSize",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:s,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelPickerAssignedLabels",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__LabelPicker_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__LabelPicker_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},{kind:"InlineFragment",selections:[n],type:"Node",abstractKey:"__isNode"}],type:"Labelable",abstractKey:"__isLabelable"}}().hash="405b6c032efdc12ea880aa34c2d823ee";let o=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],n=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},t=[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerClientQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:t,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerClientQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,{alias:null,args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:t,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"39780e01dde8a3c435960c74c76b0ba6",metadata:{},name:"LabelPickerClientQuery",operationKind:"query",text:null}}}();o.hash="7765624716d622d8f677df004c2a670c";let d=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelsListPaginationQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelsListPaginationQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"aca48a25a0b7a5db94706bcb01584667",metadata:{},name:"LabelsListPaginationQuery",operationKind:"query",text:null}}}();d.hash="274dd2d68c90b0e42770f48e96f392dc";let c=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:d,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"LabelPickerLabelsPaginated",selections:[e,{alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}}();c.hash="274dd2d68c90b0e42770f48e96f392dc";let u={kind:"InlineDataFragment",name:"LabelPickerLabel"};u.hash="588236f5485d473e68f4a74b65c0b653";var m=a(44968),p=a(67136),g=a(38621),f=a(75177),h=a(3830),y=a(96540),b=a(18312),k=a(79317),x=a(36538),v=a(19335),C=a(16553),j=a(5979);let S=({MAX_DISPLAYED_LABELS:e=5,labelColors:n})=>(0,l.jsx)(f.A,{sx:{display:"flex","> *:not(:last-child)":{mr:"-1px"},alignItems:"center",justifyContent:"center"},children:n.slice(0,e).map((e,n)=>(0,l.jsx)(f.A,{sx:{width:8,height:8,borderRadius:100,boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))",backgroundColor:`#${e}`}},`${n}-${e}`))});try{S.displayName||(S.displayName="LabelDots")}catch{}var _=a(55295);let I=(0,y.forwardRef)(({size:e="large",labelNamesWithColor:n,anchorProps:a,MAX_DISPLAYED_LABELS:t=5,readonly:i,leadingIcon:r,hotKey:s,anchorText:o},d)=>{let c=n.slice(0,t).map(e=>e.nameHTML).join(", ").concat(n.length>t?`, ${n.length-t}+`:"");return(0,l.jsx)(_._,{anchorProps:a,readonly:i,anchorText:o||(n.length>1?j.k.labels:j.k.noLabels),sharedPickerMainValue:n.length>0&&(0,l.jsx)(w,{labelNamesWithColor:n,MAX_DISPLAYED_LABELS:t,compressedLabelTitle:c}),leadingIconElement:n.length>0&&(0,l.jsx)(S,{MAX_DISPLAYED_LABELS:t,labelColors:n.map(e=>e.color)}),ariaLabel:j.k.selectLabels,size:e,leadingIcon:r,hotKey:s,ref:d,compressedTitle:c})});I.displayName="CompressedLabelsToken";let w=({compressedLabelTitle:e})=>(0,l.jsx)(m.yx,{html:e});try{w.displayName||(w.displayName="LabelNames")}catch{}var F=a(3893);let N=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueLabelsBulkMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueLabelsBulkMutation",selections:n},params:{id:"9ef106ee92414640a838c24d1eb80da7",metadata:{},name:"updateIssueLabelsBulkMutation",operationKind:"mutation",text:null}}}();N.hash="f8114faeed7756ecaffd9baca9e555e5";var L=a(69487);function T(e,n,a,l,t){for(let i of n){if(!e.get(i))return;let n=l[i]?.map(n=>e.get(n));t.applyLabelIds.map(l=>{if(a.get(i)?.includes(l))return;let t=e.get(l);t&&n?.filter(e=>e).map(n=>{let a=n&&L.ConnectionHandler.createEdge(e,n,t,"LabelEdge");a&&L.ConnectionHandler.insertEdgeBefore(n,a)})}),t.removeLabelIds.map(e=>{n?.filter(e=>e).map(n=>n&&L.ConnectionHandler.deleteNode(n,e))})}}let A=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueLabelsBulkByQueryMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueLabelsBulkByQueryMutation",selections:n},params:{id:"b9a4afc78884025457f655e918413b6a",metadata:{},name:"updateIssueLabelsBulkByQueryMutation",operationKind:"mutation",text:null}}}();A.hash="bc300fe790ca50bd21facb091f332359";var K=a(724),D=a(47584),E=a(11086);let P={labelPageSuffix:"/issues/labels"};var R=a(55516),M=a(46874),V=a(22579);let O=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateLabelPayload",kind:"LinkedField",name:"createLabel",plural:!1,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"label",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createLabelMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createLabelMutation",selections:n},params:{id:"94488330b364e21d44a402f834159915",metadata:{},name:"createLabelMutation",operationKind:"mutation",text:null}}}();O.hash="1231f9e8c535596d6c60dcdbb81792a6";var B=a(73262),U=a(75632);let $=t,H=u,z=(0,y.forwardRef)(({size:e="small",labels:n,anchorProps:a,displayHotkey:t,MAX_DISPLAYED_LABELS:i=2,readonly:r},s)=>(0,l.jsx)(I,{size:e,labelNamesWithColor:n.map(e=>({nameHTML:e.nameHTML,color:e.color})),anchorProps:a,MAX_DISPLAYED_LABELS:i,readonly:r,leadingIcon:g.TagIcon,hotKey:!r&&t?C.w.labelPicker.toUpperCase():void 0,anchorText:n?.length===0?j.k.noLabels:void 0,ref:s}));z.displayName="CompressedLabelAnchor";let q={groupId:"labels"},G={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}},W={groupId:"copilot",header:{title:"Copilot suggestions",variant:"filled"}};function Q({issuesToActOn:e,existingIssueLabels:n,labelAppliedToAll:a,connectionIds:t,useQueryForAction:i,repositoryId:r,query:s,onCompleted:o,onError:d,...c}){let u=(0,b.useRelayEnvironment)(),m=(0,y.useCallback)(l=>{let c=l.filter(e=>!a.some(n=>n.id===e.id)),m=a.filter(e=>!l.some(n=>e.id===n.id)),p={applyLabelIds:c.map(e=>e.id),removeLabelIds:m.map(e=>e.id)},g={environment:u,optimisticUpdateIds:e,existingIssueLabels:n,connectionIds:t,onError:e=>{d?.(e)}};i&&r&&s?function({environment:e,optimisticUpdateIds:n,existingIssueLabels:a,connectionIds:l,input:{query:t,repositoryId:i,applyLabelIds:r,removeLabelIds:s},onCompleted:o,onError:d}){let c={applyLabelIds:r,removeLabelIds:s},u={query:t,repositoryId:i,...c};return(0,b.commitMutation)(e,{mutation:A,variables:{input:u},updater:e=>T(e,n,a,l,c),optimisticUpdater:e=>T(e,n,a,l,c),onCompleted:e=>o&&o(e),onError:e=>d&&d(e)})}({...g,input:{repositoryId:r,query:s,...p},onCompleted:({updateIssuesBulkByQuery:e})=>{o?.(e?.jobId||void 0)}}):function({environment:e,optimisticUpdateIds:n,existingIssueLabels:a,connectionIds:l,input:{ids:t,applyLabelIds:i,removeLabelIds:r},onCompleted:s,onError:o}){let d={applyLabelIds:i,removeLabelIds:r},c={ids:t,...d};return(0,b.commitMutation)(e,{mutation:N,variables:{input:c},updater:e=>T(e,n,a,l,d),optimisticUpdater:e=>T(e,n,a,l,d),onCompleted:e=>s&&s(e),onError:e=>o&&o(e)})}({...g,input:{ids:[...e],...p},onCompleted:({updateIssuesBulk:e})=>{o?.(e?.jobId||void 0)}})},[t,u,n,e,a,o,d,s,r,i]);return(0,l.jsx)(X,{labels:a,onSelectionChanged:m,showEditLabelsButton:!1,...c})}function X({shortcutEnabled:e,anchorElement:n,showEditLabelsButton:a,...t}){return(0,l.jsx)(V.y,{anchorElement:(e,a)=>n(e,a),createChild:()=>(0,l.jsx)(Y,{anchorElement:n,shortcutEnabled:e,showEditLabelsButton:a,...t}),insidePortal:t.insidePortal,keybindingCommandId:"item-pickers:open-labels"})}function Y({repo:e,owner:n,labels:a,labelNames:t,onSelectionChanged:s,...d}){let c=(0,b.useRelayEnvironment)(),[u,m]=(0,y.useState)(!0),[p,g]=(0,y.useState)(0),[f,h]=(0,y.useState)(!1),[v,C]=(0,y.useState)(null),[S,_]=(0,y.useState)(a),I=`${n}/${e}`,w=(0,b.useClientQuery)(o,{owner:n,repo:e}),F=!!w?.repository?.labels?.nodes?.length,N=(0,y.useRef)(!1);(0,y.useEffect)(()=>{if(!D.X3){if(F){if((0,k.SD)({environment:c,query:i,variables:{owner:n,repo:e}}).subscribe({next:e=>{N.current=e.repository?.viewerIssueCreationPermissions?.labelable||!1,m(!1),h(!1)},error:()=>{h(!0)}}),t){let e=t.map(e=>e.replace(/^"/,"").replace(/"$/,""));_((w.repository?.labels?.nodes||[]).flatMap(n=>{if(!n)return[];let a=(0,b.readInlineData)(H,n);return e.includes(a.name)?[a]:[]}))}}else(0,k.SD)({environment:c,query:$,variables:{owner:n,repo:e,shouldQueryByNames:t&&t.length>0,labelNames:t?.join(","),count:x.t.labelsInitialLoadCount}}).subscribe({next:e=>{let n=e.repository;N.current=e.repository?.viewerIssueCreationPermissions?.labelable||!1,C(n??null),t&&e.repository?.labelsByNames&&_((e.repository?.labelsByNames.nodes||[]).flatMap(e=>e?[(0,b.readInlineData)(H,e)]:[])),m(!1),h(!1)},error:()=>{h(!0)}})}},[c,p,t,n,e,F,w]);let L=(0,y.useCallback)(a=>new Promise((l,t)=>{(0,b.fetchQuery)(c,r,{query:a,owner:n,repo:e,count:x.t.labelsPageSize}).subscribe({next:e=>{if(null!==e){let n=(e.repository?.labels?.nodes||[]).flatMap(e=>e?[(0,b.readInlineData)(H,e)]:[]);d.noLabelOption&&(0,B.O)(a,d.noLabelOption?.source?.name??"")&&n.unshift(M.v.noLabelsData),l(n)}},error:e=>{t(e)}})}),[c,n,d.noLabelOption,e]),T=(0,y.useRef)(null),{createFallbackComponent:A}=(0,K.j)({errorMessage:j.k.cantEditItems("labels"),anchorElement:e=>d.anchorElement(e,T),open:!0}),E=(0,y.useMemo)(()=>{let e=t?S:a;return d.noLabelOption?.selected&&!e.find(e=>e.id===M.v.noLabelsData.id)&&e.unshift(M.v.noLabelsData),e},[S,t,a,d.noLabelOption?.selected]);return f?A(()=>g(p+1)):(0,l.jsx)(J,{repo:e,owner:n,paginatedKey:v,isLoading:u,setIsLoading:m,labels:E,onSelectionChanged:s,searchLabels:L,repoNwo:I,preloadedData:F?w?.repository:void 0,canCreateLabel:N,...d})}function J({labels:e,copilotSuggestedLabels:n,searchLabels:a,paginatedKey:t,isLoading:i,setIsLoading:r,onSelectionChanged:s,insidePortal:o,anchorElement:d,nested:u=!1,triggerOpen:k=!0,initialFilter:C,repoNwo:S,showEditLabelsButton:_=!0,noLabelOption:I,title:w,showNoMatchItem:N=!1,preloadedData:L,canCreateLabel:T}){let A=(0,U.G7)("issues_react_remove_labels_loading"),[K,V]=(0,y.useState)(""),B=(0,y.useRef)(new Set),[$,z]=(0,y.useState)(!1),[Q,X]=(0,y.useState)([]),{addToast:Y}=(0,p.Y6)(),J=(0,b.useRelayEnvironment)(),Z=(0,b.useFragment)(c,t),en=L?.labels?.totalCount||Z?.labels?.totalCount||0,ea=(0,y.useMemo)(()=>{let e=(L?.labels?.nodes||Z?.labels?.nodes||[]).flatMap(e=>e?[(0,b.readInlineData)(H,e)]:[]);return I&&e.unshift(M.v.noLabelsData),e},[Z?.labels?.nodes,I,L]),el=a&&en>ea.length,et=(0,y.useMemo)(()=>e.slice().sort((e,n)=>e.name.localeCompare(n.name)),[e]),ei=L?.id||Z?.id,er=(0,y.useCallback)(()=>!!ea.length&&!(Q.length>1)&&(!Q.length||Q[0]?.id===I?.id),[ea.length,Q,I?.id]);(0,y.useEffect)(()=>{er()&&X(ea)},[ea,er,X]);let es=(0,y.useMemo)(()=>{if(!K){let a=A?Q:ea,l=[...et],t=(n??[]).filter(n=>!e.find(e=>e.id===n.id)),i=a.filter(n=>!e.find(e=>e.id===n.id)&&!t.find(e=>e.id===n.id));return l.push(...t,...i),l.slice(0,x.t.labelsInitialLoadCount)}let a=new Map;for(let e of Q)a.set(e.id,e);for(let e of n??[])a.has(e.id)||a.set(e.id,e);let l=Array.from(a.values());return(0,E.t)({items:l,filter:K,key:e=>e.name,secondaryKey:e=>`${e.name} ${e.description}`}).slice(0,x.t.labelsInitialLoadCount)},[K,Q,A,ea,et,n,e]),eo=(0,y.useCallback)(async e=>{if(!A&&""===e){X(ea),z(!1);return}if(A&&B.current.has(e)){z(!1);return}if(a){z(!0);try{X(A?ee([...Q,...await a(e)]):await a(e))}catch{Y({type:"error",message:v.S.couldNotSearchLabels})}finally{z(!1),A&&B.current.add(e)}}},[A,a,ea,Q,Y]),ed=(0,R.d)(e=>eo(e),x.t.pickerDebounceTime),ec=(0,y.useCallback)(e=>{let n=e.trim();if(K!==n&&el){z(!0),ed(n),V(e);return}0!==en&&V(e)},[ed,K,el,en]),eu=(0,y.useCallback)(e=>e.id,[]),em=(0,y.useCallback)((e,n,a)=>{a.preventDefault(),a.stopPropagation(),ei&&(r(!0),function({environment:e,input:n,onError:a,onCompleted:l}){(0,b.commitMutation)(e,{mutation:O,variables:{input:n},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}({environment:J,input:{repositoryId:ei,color:n.color,name:n.name},onError:()=>{Y({type:"error",message:v.S.couldNotCreateLabel}),r(!1)},onCompleted:e=>{let n=e?.createLabel?.label;n&&X([{...n,__isNew__:!0},...Q]),r(!1)}}))},[Y,J,Q,ei,r]),ep=(0,y.useCallback)(a=>{if(I&&a.id===M.v.noLabelsData.id){let e={...I};return e.groupId=e.selected?q.groupId:G.groupId,e}if(a.id===K)return{id:a.id,description:a.description||void 0,descriptionVariant:"block",source:a,text:`Create new label: "${a.name}"`,trailingVisual:g.PlusIcon,sx:{wordBreak:"break-word","& [class*=BaseVisualContainer]:first-child":{display:"none"}},onAction:(e,n)=>em(e,a,n)};let t=(n??[]).some(e=>e.id===a.id),i=e.find(e=>e.id===a.id)?q.groupId:t?W.groupId:G.groupId;return{id:a.id,description:a.description??void 0,descriptionVariant:"block",children:(0,l.jsx)(m.yx,{sx:{wordBreak:"break-word"},html:a.nameHTML}),source:a,groupId:i,leadingVisual:()=>(0,l.jsx)(f.A,{sx:{bg:`#${a.color}`,borderColor:`#${a.color}`,width:14,height:14,borderRadius:10,borderWidth:"1px",borderStyle:"solid"}})}},[I,K,n,e,em]),eg=(0,y.useMemo)(()=>{let a=[];return e.length>0&&a.push(q),(n??[]).some(n=>!e.some(e=>e.id===n.id))&&a.push(W),es.length>0&&es.length-e.length>0&&a.push(G),a},[e,n,es]),ef=(0,y.useMemo)(()=>{if(!S||!D.XC?.location)return;let e=D.XC.location.origin;return`${e}/${S}${P.labelPageSuffix}`},[S]),eh=(0,y.useCallback)(e=>{D.XC?.location?.href&&_&&ef&&1!==e.button&&(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),D.XC.location.href=ef))},[ef,_]),ey=(0,y.useRef)(null);return(0,l.jsx)(f.A,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1},children:(0,l.jsx)(F.O,{loading:A?i:i||$,items:es,initialSelectedItems:e,title:w||j.k.labelsHeader,filterItems:ec,getItemKey:eu,convertToItemProps:ep,placeholderText:"Filter labels",selectionVariant:0===es.length?"single":"multiple",onSelectionChange:s,renderAnchor:e=>d(e,ey),groups:K?void 0:eg,insidePortal:o,height:"large",width:"medium",nested:u,resultListAriaLabel:"Label results",triggerOpen:k,initialFilter:C,selectPanelRef:ey,keybindingCommandId:"item-pickers:open-labels",customNoMatchItem:T.current&&N&&K&&!$?{id:K,color:"aaaaaa",name:K,nameHTML:K,description:void 0,url:""}:void 0,secondaryAction:_?(0,l.jsx)(h.X.SecondaryActionLink,{onClick:eh,href:ef,size:"small",children:j.k.editLabels}):void 0})})}let Z=(0,y.forwardRef)(({labels:e,readonly:n,anchorProps:a},t)=>(0,l.jsx)(z,{labels:e,readonly:n,displayHotkey:!1,anchorProps:n?void 0:a,ref:t}));Z.displayName="DefaultLabelAnchor";let ee=e=>e.filter((e,n,a)=>a.findIndex(n=>n.id===e.id)===n);try{Q.displayName||(Q.displayName="BulkIssuesLabelPicker")}catch{}try{X.displayName||(X.displayName="LabelPicker")}catch{}try{Y.displayName||(Y.displayName="ItemPickerFetcher")}catch{}try{J.displayName||(J.displayName="ItemPickerWrapper")}catch{}},22579:(e,n,a)=>{a.d(n,{y:()=>r});var l=a(74848),t=a(11499),i=a(96540);function r({anchorElement:e,createChild:n,keybindingCommandId:a}){let[r,s]=(0,i.useState)(!1),o=(0,i.useRef)(null),d=(0,i.useCallback)(()=>{r||s(!0)},[r,s]);return r?n():(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(t.ak,{commands:{[a]:d}}),e({onClick:()=>s(!0),onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),s(!0))}},o)]})}try{r.displayName||(r.displayName="LazyItemPicker")}catch{}},11645:(e,n,a)=>{a.d(n,{R:()=>m});var l=a(74848),t=a(75177),i=a(5979),r=a(47584),s=a(89169);let o=({closed:e,givenDate:n,currentDate:a})=>{let t=e?"short":"long",r=e&&!d(n,a)?void 0:"numeric",o=e&&c(a,n)?"auto":"past",u=e?"auto":"elapsed",m=e?"second":c(n,a)?"month":"day";return(0,l.jsx)(s.A,{date:n,day:"numeric",month:t,tense:d(n,a)?void 0:o,year:r,format:u,precision:m,"data-testid":i.k.testIds.relativeTimeDescription})},d=(e,n)=>{let a=n.getFullYear();return e.getFullYear()<a},c=(e,n)=>12*(e.getFullYear()-n.getFullYear())+(e.getMonth()-n.getMonth())>=1;try{o.displayName||(o.displayName="RelativeTimeDescription")}catch{}var u=a(34407);let m=({closed:e,closedAt:n,dueOn:a,progressPercentage:s,showProgressPercentage:d=!1})=>{let c=e?n:a;if(!c||!f(c))return i.k.milestones.noDueDate;let m=new Date(c),y=new Date,b=!!a&&new Date(c)<new Date&&!h(m,y);return(0,l.jsx)(t.A,{sx:{color:b&&!e?"danger.fg":"fg.subtle"},children:r.KJ?(0,l.jsxs)(l.Fragment,{children:[p({isPastDate:b,closed:e}),"\xa0",b||e?(0,l.jsx)(o,{closed:e,givenDate:m,currentDate:y}):g(c),s&&d?i.k.milestones.progressPercentage(s):""]}):(0,l.jsx)(u.O,{variant:"rounded",height:"sm",width:"50%"})})},p=({isPastDate:e,closed:n})=>n?i.k.milestones.milestoneClosed:e?i.k.milestones.pastDue:i.k.milestones.milestoneDue,g=e=>new Date(e).toLocaleDateString("en-us",{month:"long",year:"numeric",day:"numeric"}),f=e=>!isNaN(new Date(e).getTime()),h=(e,n)=>e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getUTCDate()===n.getUTCDate();try{m.displayName||(m.displayName="MilestoneDescription")}catch{}},71783:(e,n,a)=>{a.d(n,{C2:()=>E,xJ:()=>R,xm:()=>A,De:()=>P,KK:()=>T});var l=a(74848);let t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],n=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MilestonePickerQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,{args:null,kind:"FragmentSpread",name:"MilestonePickerRecentlyUpdatedMilestones"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MilestonePickerQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,l,{alias:null,args:[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}},{kind:"Literal",name:"orderByStates",value:["OPEN","CLOSED"]}],concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],storageKey:'milestones(first:100,orderBy:{"direction":"DESC","field":"UPDATED_AT"},orderByStates:["OPEN","CLOSED"])'}],storageKey:null}]},params:{id:"a9ae2354e6380942865b0f74b338212f",metadata:{},name:"MilestonePickerQuery",operationKind:"query",text:null}}}();t.hash="98ef633283cc4d1c1aee9ad37fefaf7a";let i=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"RecentlyUpdatedMilestoneQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"MilestonePickerRecentlyUpdatedMilestones"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"RecentlyUpdatedMilestoneQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}},{kind:"Literal",name:"orderByStates",value:["OPEN","CLOSED"]}],concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"bb4b0c40d754a6eae272c95852e76a63",metadata:{},name:"RecentlyUpdatedMilestoneQuery",operationKind:"query",text:null}}}();i.hash="50fb18f0ce5eba314445839fc6de2d7f";let r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:i,identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"MilestonePickerRecentlyUpdatedMilestones",selections:[e,{alias:null,args:[{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}},{kind:"Literal",name:"orderByStates",value:["OPEN","CLOSED"]}],concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],type:"Repository",abstractKey:null}}();r.hash="50fb18f0ce5eba314445839fc6de2d7f";let s=function(){var e={defaultValue:null,kind:"LocalArgument",name:"count"},n={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:null,kind:"LocalArgument",name:"query"},l={defaultValue:null,kind:"LocalArgument",name:"repo"},t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderByStates",value:["OPEN","CLOSED"]},{kind:"Variable",name:"query",variableName:"query"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[r,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null}];return{fragment:{argumentDefinitions:[e,n,a,l],kind:"Fragment",metadata:null,name:"MilestonePickerSearchQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:s,args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,l,a,e],kind:"Operation",name:"MilestonePickerSearchQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"nodes",plural:!0,selections:s,storageKey:null}],storageKey:null},r],storageKey:null}]},params:{id:"b78620a59d76b4f1f411a4115dd7c944",metadata:{},name:"MilestonePickerSearchQuery",operationKind:"query",text:null}}}();s.hash="2d4c6e85fab6a6b2dcaa8d224bf364b7";let o={kind:"InlineDataFragment",name:"MilestonePickerMilestone"};o.hash="94cec103731033abe0392685ad560834";var d=a(38621),c=a(96540),u=a(18312),m=a(36538),p=a(5979),g=a(46874),f=a(3893),h=a(55295);let y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMilestoneBulkByQueryMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMilestoneBulkByQueryMutation",selections:n},params:{id:"52e680dbbb4a420c68b4e9638c87ffd3",metadata:{},name:"updateIssueMilestoneBulkByQueryMutation",operationKind:"mutation",text:null}}}();y.hash="6333d73282a9f34e7953304f1630b1a8";let b=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMilestoneBulkMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMilestoneBulkMutation",selections:n},params:{id:"b4a8d70a2993b3985ea6c33da5dff412",metadata:{},name:"updateIssueMilestoneBulkMutation",operationKind:"mutation",text:null}}}();b.hash="8f0efbb3c0daeec3d566120b9ab8b7f3";var k=a(724),x=a(79317),v=a(47584),C=a(19335),j=a(67136),S=a(55516),_=a(22579),I=a(11645),w=a(73262);let F=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateMilestonePayload",kind:"LinkedField",name:"createMilestone",plural:!1,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dueOn",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressPercentage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createMilestoneMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createMilestoneMutation",selections:n},params:{id:"518920fcb374fb2c22831ce13ceace8b",metadata:{},name:"createMilestoneMutation",operationKind:"mutation",text:null}}}();F.hash="04f6d08fc81ee446c151c8e3f0043366";let N={groupId:"open",header:{title:"Open",variant:"filled"}},L={groupId:"closed",header:{title:"Closed",variant:"filled"}},T=s,A=o;function K({repo:e,owner:n,...a}){let i=(0,u.useRelayEnvironment)(),[r,s]=(0,c.useState)(!0),[o,d]=(0,c.useState)(0),[m,g]=(0,c.useState)(!1),[f,h]=(0,c.useState)(null),y=(0,c.useRef)(!1);(0,c.useEffect)(()=>{v.X3||(0,x.SD)({environment:i,query:t,variables:{owner:n,repo:e}}).subscribe({next:e=>{h(e.repository??null),y.current=e.repository?.viewerIssueCreationPermissions?.milestoneable||!1,s(!1),g(!1)},error:()=>{g(!0),s(!1)}})},[i,o,n,e]);let b=(0,c.useRef)(null),{createFallbackComponent:C}=(0,k.j)({errorMessage:p.k.cantEditItems("milestones"),anchorElement:e=>a.anchorElement(e,b),open:!0});return m?C(()=>d(e=>e+1)):(0,l.jsx)(D,{repo:e,owner:n,milestonesKey:f,isLoading:r,setIsLoading:s,canCreateMilestone:y,...a})}function D({repo:e,owner:n,milestonesKey:a,activeMilestone:t,onSelectionChanged:i,insidePortal:s,anchorElement:o,nested:h,triggerOpen:y,initialFilter:b,isLoading:k,setIsLoading:x,noMilestoneItem:v,showMilestoneDescription:_,title:K,canCreateMilestone:D,showNoMatchItem:E=!1}){let P=(0,u.useRelayEnvironment)(),[R,M]=(0,c.useState)(""),[V,O]=(0,c.useState)(!1),[B,U]=(0,c.useState)(),[$,H]=(0,c.useState)([]),{addToast:z}=(0,j.Y6)(),q=(0,u.useFragment)(r,a),G=(0,c.useMemo)(()=>q?.milestones?.nodes?.flatMap(e=>e?[u.readInlineData(A,e)]:[])||[],[q]),W=(0,c.useMemo)(()=>{if(void 0!==B&&B.length>0)return B;let e=G.slice().sort((e,n)=>e.title.localeCompare(n.title)).concat($);return(v&&e.unshift(g.v.noMilestoneData),R)?e.filter(e=>e.title.toLowerCase().indexOf(R.toLowerCase())>=0):e},[G,R,$,v,B]),Q=v&&v.selected,X=(0,c.useMemo)(()=>v?W.filter(e=>!1===e.closed):[],[v,W]),Y=(0,c.useCallback)(async a=>{O(!0),M(a);try{let l=await (0,u.fetchQuery)(P,T,{query:a,owner:n,repo:e,count:10}).toPromise();if(void 0!==l){let e=(l.repository?.milestones?.nodes||[]).flatMap(e=>e?[(0,u.readInlineData)(A,e)]:[]);v&&(0,w.O)(a,v.source?.title??"")&&e.unshift(g.v.noMilestoneData),U(e)}}catch{z({type:"error",message:C.S.couldNotSearchLabels})}finally{O(!1)}},[z,P,v,n,e]),J=(0,S.d)(e=>Y(e),m.t.pickerDebounceTime),Z=(0,c.useCallback)(async e=>{let n=e.trim();if(R!==n){if(""===n){U(void 0),M(n);return}J(n)}},[J,R]),ee=(0,c.useCallback)(e=>e.id,[]),en=q?.id,ea=(0,c.useCallback)((e,n,a)=>{a.preventDefault(),a.stopPropagation(),en&&(x(!0),function({environment:e,input:n,onError:a,onCompleted:l}){(0,u.commitMutation)(e,{mutation:F,variables:{input:n},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}({environment:P,input:{repositoryId:en,title:n.title},onError:()=>{z({type:"error",message:C.S.couldNotCreateMilestone}),x(!1)},onCompleted:e=>{let n=e?.createMilestone?.milestone;n&&H([{...n,__isNew__:!0},...$]),x(!1)}}))},[z,P,$,en,x]),el=(0,c.useCallback)(e=>{if(v&&e.id===g.v.noMilestoneData.id)return{...v};if(e.id===R)return{id:e.id,text:`Create new milestone: "${e.title}"`,source:e,trailingVisual:d.PlusIcon,sx:{wordBreak:"break-word","& [class*=BaseVisualContainer]:first-child":{display:"none"}},onAction:(n,a)=>ea(n,e,a)};let{closed:n,closedAt:a,progressPercentage:t,dueOn:i}=e;return{id:e.id,text:e.title,description:_?(0,l.jsx)(I.R,{closed:n,closedAt:a,progressPercentage:t,dueOn:i,showProgressPercentage:!1}):void 0,descriptionVariant:"block",sx:{wordBreak:"break-word"},source:e,groupId:e.closed?L.groupId:N.groupId,leadingVisual:()=>(0,l.jsx)(d.MilestoneIcon,{size:16})}},[ea,R,v,_]),et=(0,c.useMemo)(()=>{let e=[];return W.some(e=>!e.closed)&&e.push(N),W.some(e=>e.closed)&&e.push(L),e},[W]);v&&Q&&(t=g.v.noMilestoneData);let ei=(0,c.useRef)(null),er=(0,c.useMemo)(()=>t?[t]:[],[t]);return(0,l.jsx)(f.O,{loading:k||V,items:v?X:W,initialSelectedItems:er,filterItems:Z,title:K??p.k.milestonesHeader,getItemKey:ee,convertToItemProps:el,placeholderText:`Filter milestones ${G.length>=m.t.milestonesMaxPreloadCount?`(${m.t.milestonesMaxPreloadCount} milestones loaded)`:""}`,selectionVariant:"single",onSelectionChange:i,groups:v?void 0:et,renderAnchor:e=>o(e,ei),insidePortal:s,height:"large",width:"medium",nested:h,resultListAriaLabel:"Milestone results",triggerOpen:y,initialFilter:b,selectPanelRef:ei,keybindingCommandId:"item-pickers:open-milestone",customNoMatchItem:D.current&&E&&R&&!V?{id:R,closed:!1,progressPercentage:0,title:R,url:""}:void 0})}function E({onError:e,onCompleted:n,issuesToActOn:a,useQueryForAction:t,repositoryId:i,query:r,...s}){let o=(0,u.useRelayEnvironment)(),d=(0,c.useCallback)(l=>{let s=1===l.length&&l[0]?.id!=="no-milestone"?l[0]?.id:null,d=l[0]?.id==="no-milestone";if(!s&&!d)return;let c={environment:o,onError:n=>{e?.(n)}};t&&i&&r?function({environment:e,input:{query:n,repositoryId:a,milestoneId:l,clearMilestone:t},onCompleted:i,onError:r}){return(0,u.commitMutation)(e,{mutation:y,variables:{input:{query:n,repositoryId:a,milestoneId:l,clearMilestone:t}},onCompleted:e=>i&&i(e),onError:e=>r&&r(e)})}({...c,input:{repositoryId:i,query:r,milestoneId:s||void 0,clearMilestone:d||void 0},onCompleted:({updateIssuesBulkByQuery:e})=>{n?.(e?.jobId||void 0)}}):function({environment:e,input:{ids:n,milestoneId:a,clearMilestone:l},onCompleted:t,onError:i}){return(0,u.commitMutation)(e,{mutation:b,variables:{input:{ids:n,milestoneId:a,clearMilestone:l}},onCompleted:e=>t&&t(e),onError:e=>i&&i(e)})}({...c,input:{ids:[...a],milestoneId:s||void 0,clearMilestone:d||void 0},onCompleted:({updateIssuesBulk:e})=>{n?.(e?.jobId||void 0)}})},[o,a,n,e,r,i,t]);return(0,l.jsx)(P,{onSelectionChanged:d,...s})}function P({repo:e,owner:n,shortcutEnabled:a,anchorElement:t,readonly:i,activeMilestone:r,noMilestoneItem:s,...o}){return(0,l.jsx)(_.y,{keybindingCommandId:"item-pickers:open-milestone",anchorElement:(e,n)=>t(e,n),createChild:()=>(0,l.jsx)(K,{repo:e,owner:n,readonly:i,shortcutEnabled:a,initialFilter:"",activeMilestone:r,triggerOpen:!0,anchorElement:t,noMilestoneItem:s,...o}),insidePortal:o.insidePortal})}let R=(0,c.forwardRef)(({activeMilestone:e,readonly:n,nested:a,anchorProps:t},i)=>(0,l.jsx)(h._,{anchorText:p.k.noMilestones,sharedPickerMainValue:e?.title,anchorProps:n?void 0:t,ariaLabel:p.k.selectMilestones,readonly:n,nested:a,leadingIcon:d.MilestoneIcon,hotKey:void 0,ref:i}));R.displayName="DefaultMilestonePickerAnchor";try{K.displayName||(K.displayName="ItemPickerFetcher")}catch{}try{D.displayName||(D.displayName="ItemPickerWrapper")}catch{}try{E.displayName||(E.displayName="BulkIssueMilestonePicker")}catch{}try{P.displayName||(P.displayName="MilestonePicker")}catch{}},55724:(e,n,a)=>{a.d(n,{k$:()=>R,Ci:()=>B,wX:()=>M,BT:()=>P,dW:()=>E});var l=a(74848);let t={kind:"InlineDataFragment",name:"ProjectPickerProject"};t.hash="682212a921e9bca94528a0423c595cde";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"owner"},n={defaultValue:null,kind:"LocalArgument",name:"query"},a={defaultValue:null,kind:"LocalArgument",name:"repo"},l=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],t={kind:"Literal",name:"first",value:5},i=[t,{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"RELEVANCE"}},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"useFullTermQuery",value:!0}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[r,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasReachedItemsLimit",storageKey:null},s],d=[{kind:"InlineDataFragmentSpread",name:"ProjectPickerProject",selections:o,args:null,argumentDefinitions:[]}],c=[t],u=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null}],storageKey:null}],m={alias:null,args:c,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:u,storageKey:"recentProjects(first:5)"},p=[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:u,storageKey:null},m],g=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:o,storageKey:null}],storageKey:null}],f={alias:null,args:c,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:g,storageKey:"recentProjects(first:5)"},h=[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:g,storageKey:null},f];return{fragment:{argumentDefinitions:[e,n,a],kind:"Fragment",metadata:null,name:"ProjectPickerQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],storageKey:null},m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:p,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:p,type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,n],kind:"Operation",name:"ProjectPickerQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[s,{kind:"InlineFragment",selections:h,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:h,type:"User",abstractKey:null},r],storageKey:null},r],storageKey:null}]},params:{id:"65d0c4f8e3a1c1c9cfd78e5b426cbe49",metadata:{},name:"ProjectPickerQuery",operationKind:"query",text:null}}}();i.hash="6e51c93b49adb71d6853eb253aa6a90d";var r=a(81356),s=a(38621),o=a(3830),d=a(96540),c=a(18312),u=a(19335),m=a(5979),p=a(67737),g=a(26071),f=a(55295);let h=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectsBulkMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectsBulkMutation",selections:n},params:{id:"6908509fc024e1ab74ffec2140dcf167",metadata:{},name:"addIssuesToProjectsBulkMutation",operationKind:"mutation",text:null}}}();h.hash="63b0539aebe1a9b04411550192d240e1";let y=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectsBulkByQueryMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectsBulkByQueryMutation",selections:n},params:{id:"b3c56c101a97603233bebecea3252932",metadata:{},name:"addIssuesToProjectsBulkByQueryMutation",operationKind:"mutation",text:null}}}();y.hash="17307308625f16ad7c5aceab5ee6f126";var b=a(3893),k=a(724),x=a(67136),v=a(55516),C=a(47584),j=a(79317),S=a(36538),_=a(20952),I=a(14156),w=a(11499),F=a(75632),N=a(74144);let L=({onClose:e,returnFocusRef:n})=>(0,l.jsx)(N.l,{"aria-label":m.k.projectItemsLimitReachedDialogLabel,title:m.k.projectItemsLimitReachedDialogTitle,onClose:e,returnFocusRef:n,width:"large",footerButtons:[{content:m.k.closeButton,onClick:e,buttonType:"primary"}],children:(0,l.jsx)("div",{children:m.k.projectItemsLimitReachedDialogMessage})});try{L.displayName||(L.displayName="ProjectItemsLimitReachedDialog")}catch{}let T={groupId:"recent",header:{title:"Recent",variant:"filled"}},A={groupId:"repository",header:{title:"Repository",variant:"filled"}},K={groupId:"organization",header:{title:"Organization",variant:"filled"}},D={groupId:"selected"},E=t,P=i,R=({pickerId:e,useQueryForAction:n,repositoryId:a,query:l,issueIds:t,readonly:i,selectedProjects:r,firstSelectedProjectTitle:s,insidePortal:o,anchorElement:u,onCompleted:m,onError:p,nested:g=!1,owner:f,repo:b,triggerOpen:k=!1})=>{let x=(0,c.useRelayEnvironment)(),v=(0,d.useCallback)(e=>{let i=e.filter(e=>!r.some(n=>n.id===e.id)),s=r.filter(n=>!e.some(e=>e.id===n.id));(i.length||s.length)&&(n&&a&&l?function({environment:e,input:{query:n,repositoryId:a,addToProjectV2Ids:l,removeFromProjectV2Ids:t},onCompleted:i,onError:r}){return(0,c.commitMutation)(e,{mutation:y,variables:{input:{query:n,repositoryId:a,addToProjectV2Ids:l,removeFromProjectV2Ids:t}},onCompleted:e=>i&&i(e),onError:e=>r&&r(e)})}({environment:x,input:{repositoryId:a,query:l,addToProjectV2Ids:i.map(e=>e.id),removeFromProjectV2Ids:s.map(e=>e.id)},onCompleted:({updateIssuesBulkByQuery:e})=>{m?.(e?.jobId||void 0)}}):function({environment:e,input:{ids:n,addToProjectV2Ids:a,removeFromProjectV2Ids:l},onCompleted:t,onError:i}){return(0,c.commitMutation)(e,{mutation:h,variables:{input:{ids:n,addToProjectV2Ids:a,removeFromProjectV2Ids:l}},onCompleted:e=>t&&t(e),onError:e=>i&&i(e)})}({environment:x,input:{ids:[...t],addToProjectV2Ids:i.map(e=>e.id),removeFromProjectV2Ids:s.map(e=>e.id)},onCompleted:({updateIssuesBulk:e})=>{m?.(e?.jobId||void 0)},onError:e=>{p?.(e)}}))},[x,t,m,p,l,a,n,r]);return M({pickerId:e,readonly:i,selectedProjects:[...r],firstSelectedProjectTitle:s,insidePortal:o,onSave:v,anchorElement:u,nested:g,owner:f,repo:b,triggerOpen:k})};function M({anchorElement:e,triggerOpen:n,...a}){let[t,i]=(0,d.useState)(n),r=(0,d.useCallback)(()=>{t||i(!0)},[t]);return t?(0,l.jsx)(V,{triggerOpen:!0,anchorElement:n=>e(n),...a,pickerId:"list-header-projects-picker"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(w.ak,{commands:{"item-pickers:open-projects":r}}),e({onClick:()=>{i(!0)},onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(!0))}})]})}function V({repo:e,owner:n,...a}){let t=(0,c.useRelayEnvironment)(),[i,r]=(0,d.useState)(!0),[s,o]=(0,d.useState)(0),[u,m]=(0,d.useState)(!1),[p,g]=(0,d.useState)(null);(0,d.useEffect)(()=>{C.X3||(0,j.SD)({environment:t,query:P,variables:{owner:n,repo:e}}).subscribe({next:e=>{g(e),r(!1),m(!1)},error:()=>{m(!0)}})},[t,s,n,e]);let{createFallbackComponent:f}=(0,k.j)({errorMessage:"Cannot edit projects right now",anchorElement:a.anchorElement,open:!0});return u?f(()=>o(s+1)):(0,l.jsx)(O,{projectsData:p,owner:n,repo:e,isLoading:i,...a})}function O({pickerId:e,selectedProjects:n,projectsData:a,onSave:t,anchorElement:i,insidePortal:f,owner:h,repo:y,isLoading:k=!1,triggerOpen:C=!1,readonly:j,title:N,getSelectedProjects:R}){let[M,V]=(0,d.useState)(a),[O,B]=(0,d.useState)(null),[U,$]=(0,d.useState)(!1),[H,z]=(0,d.useState)(!1),q=(0,c.useRelayEnvironment)(),{addToast:G}=(0,x.Y6)(),[W,Q]=(0,d.useState)(""),X=(0,d.useCallback)(e=>{$(!0),B((0,c.fetchQuery)(q,P,{repo:y,owner:h,query:e}).subscribe({next:e=>{null!==e&&V(e),$(!1)},error:()=>{$(!1),G({type:"error",message:u.S.couldNotSearchProjects})}}))},[h,q,y]),Y=(0,v.d)(e=>X(e),S.t.pickerDebounceTime);(0,d.useEffect)(()=>(0===W.length?V(a):Y(W),O?.unsubscribe(),()=>{$(!1)}),[Y,W,a]);let J=(0,d.useMemo)(()=>(M?.repository?.owner?.recentProjects?.edges||[]).flatMap(e=>e?.node?[(0,c.readInlineData)(E,e.node)].filter(e=>!1===e.closed):[]),[M]),Z=(0,d.useMemo)(()=>(M?.repository?.projectsV2?.nodes||[]).flatMap(e=>e?[(0,c.readInlineData)(E,e)].filter(e=>!1===e.closed):[]),[M]),ee=(0,d.useMemo)(()=>(M?.repository?.owner?.projectsV2?.edges||[]).flatMap(e=>e?.node?[(0,c.readInlineData)(E,e.node)].filter(e=>!1===e.closed):[]),[M]),en=(0,d.useMemo)(()=>R?R([...J,...Z,...ee]):n,[R,n,ee,J,Z]),[ea,el]=(0,d.useState)(()=>en.map(e=>e.id));(0,d.useEffect)(()=>{el(en.map(e=>e.id))},[en,e]);let et=(0,d.useCallback)((e,n)=>{let{title:a,id:l}=n,t=n.hasReachedItemsLimit&&!en.some(e=>e.id===l)?"danger":"default",i=n.hasReachedItemsLimit?"block":"inline";return{text:a,description:n.hasReachedItemsLimit?`${m.k.projectItemsLimitReached}`:void 0,descriptionVariant:i,id:l,groupId:e,selected:ea.includes(l),disabled:!(j||n.viewerCanUpdate),leadingVisual:s.TableIcon,variant:t,sx:{wordBreak:"break-word"}}},[en,ea,j]),ei=(0,d.useMemo)(()=>({selected:en,recent:J.filter(e=>!en.map(function(e){return e.id}).includes(e.id)),repository:Z.filter(e=>!en.map(function(e){return e.id}).includes(e.id)),organization:ee.filter(e=>!en.map(function(e){return e.id}).includes(e.id))}),[en,J,Z,ee]),er=(0,d.useMemo)(()=>Object.keys(ei).flatMap(e=>ei[e].map(n=>et(e,n))),[ei,et]),es=(0,d.useMemo)(()=>er.filter(e=>e.id&&ea.includes(e.id.toString())),[ea,er]),eo=(0,d.useMemo)(()=>{if(er.length<1)return[g.v8];if(""===W)return er;let e=er.filter(e=>(e.text||"").toLowerCase().indexOf(W.trim().toLowerCase())>=0);return e.length<1?[g.Q3]:e},[W,er]),ed=(0,d.useMemo)(()=>eo.includes(g.Q3)||eo.includes(g.v8)?[]:[en.length>0?D:null,J.length>0?T:null,Z.length>0?A:null,ee.length>0?K:null].filter(e=>null!==e),[eo,en.length,J.length,Z.length,ee.length]),ec=(0,d.useCallback)(e=>{let n=es.filter(n=>!e.includes(n)).map(e=>e.id),a=ea;a=[...a,...e.filter(e=>void 0!==e.id).map(e=>e.id)],n.length>0&&(a=a.filter(e=>!n.includes(e))),el([...new Set(a.map(e=>e.toString()))])},[el,es,ea]),{updateOpenState:eu}=(0,p.t)(),[em,ep]=(0,d.useState)(C);(0,r._N)([" "],e=>{if(em){let n=document.querySelector(I.Z.activePickerOption(_.B.itemPickerRootId));if(n){let a=n.getAttribute("data-id"),l=[...eo.values()].find(e=>e.id===a);l&&l.id&&(e.preventDefault(),e.stopPropagation(),el(e=>{let n=[...e],a=n.indexOf(l.id.toString());return a>-1?n.splice(a,1):n.push(l.id.toString()),n}))}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let eg=(0,F.G7)("issues_react_blur_item_picker_on_close"),ef=(0,d.useCallback)(()=>{ep(!1),Q(""),(ea.length!==n.length||ea.some(e=>!n.some(n=>e===n.id)))&&el(n.map(e=>e.id))},[n,ea]),eh=(0,d.useCallback)((n,a)=>{if(eg&&!n&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),"cancel"!==a&&(ep(n),eu(e,n),!n)){Q(""),es.filter(e=>"danger"===e.variant).length>0&&z(!0);let e=es.filter(e=>"danger"!==e.variant).map(e=>e.id).filter(e=>void 0!==e);el(e),t(e.flatMap(e=>Object.keys(ei).flatMap(e=>ei[e]).find(n=>n.id===e)||[]).filter((e,n,a)=>a.findIndex(n=>n.id===e.id)===n).filter(e=>void 0!==e))}},[eg,eu,e,es,t,ei]),ey=(0,d.useCallback)(()=>{em||eh(!0)},[em,eh]),eb=(0,d.useRef)(null),ek=eo.length<=2?"auto":"large",ex=(0,b.D)(f,eb,ek),ev=(0,d.useMemo)(()=>{let e={renderAnchor:e=>i(e),anchorRef:eb,placeholderText:m.k.filterProjects,items:eo,selected:es,open:em,onOpenChange:eh,onCancel:ef,onSelectedChange:ec,filterValue:W,onFilterChange:Q,showItemDividers:!0,overlayProps:{width:"medium",...ex},loading:k||U,title:N??m.k.selectProjects};return ed?.length>0&&eo.length>0&&(e.groupMetadata=ed),e},[ex,i,W,eo,ed,ec,k,em,ef,eh,U,es,N]),eC=(0,d.useCallback)(()=>{z(!1)},[z]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(w.ak,{commands:{"item-pickers:open-projects":ey}}),(0,l.jsx)(o.X,{"aria-label":"Project results","data-id":_.B.itemPickerRootId,"data-testid":_.B.itemPickerTestId,...ev}),H&&(0,l.jsx)(L,{onClose:eC,returnFocusRef:eb})]})}function B({firstSelectedProjectTitle:e,readonly:n,nested:a,anchorProps:t}){return(0,l.jsx)(f._,{anchorText:m.k.noProjects,sharedPickerMainValue:e,anchorProps:n?void 0:t,ariaLabel:m.k.selectProjects,readonly:n,nested:a,leadingIcon:s.TableIcon,hotKey:void 0})}try{R.displayName||(R.displayName="BulkProjectPicker")}catch{}try{M.displayName||(M.displayName="ProjectPicker")}catch{}try{V.displayName||(V.displayName="ItemPickerFetcher")}catch{}try{O.displayName||(O.displayName="SelectPanelWrapper")}catch{}try{B.displayName||(B.displayName="DefaultProjectPickerAnchor")}catch{}},55295:(e,n,a)=>{a.d(n,{_:()=>c});var l=a(74848),t=a(8338),i=a(55847),r=a(75177),s=a(30631),o=a(96540);let d={title:"SharedPicker-module__title--ljVp1"},c=(0,o.forwardRef)(({leadingIconElement:e,anchorText:n,anchorProps:a,sharedPickerMainValue:o,ariaLabel:c,readonly:u,size:m,nested:p=!1,leadingIcon:g,hotKey:f,ariaLabelledBy:h,compressedTitle:y},b)=>{let k={"aria-labelledby":h,"aria-label":c,"aria-disabled":p?u:void 0,disabled:u};if(p){let i=o?e:g&&(0,l.jsx)(g,{});return(0,l.jsxs)(t.l.Item,{...a,...k,role:"menuitem",children:[i?(0,l.jsx)(t.l.LeadingVisual,{children:i}):null,n]})}return o?(0,l.jsx)(i.Q,{ref:b,size:m||"small",...a,...k,children:(0,l.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[(0,l.jsx)(r.A,{sx:{color:"fg.muted",fontWeight:"normal"},children:n}),(0,l.jsx)(r.A,{sx:{display:e?"flex":"none",alignItems:"center",justifyContent:"center","> *:not(:last-child)":{mr:"-3px"}},children:e}),(0,l.jsx)("div",{className:d.title,children:(0,l.jsx)(s.A,{title:y??o.toString()??"",children:o})})]})}):(0,l.jsx)(i.Q,{ref:b,sx:{borderStyle:"dashed",fontWeight:"normal",color:"fg.muted"},size:"small",leadingVisual:g,trailingVisual:f?()=>(0,l.jsx)(r.A,{sx:{color:"fg.muted",borderWidth:1,borderStyle:"solid",borderColor:"border.default",p:"0px 4px",borderRadius:"6px"},children:f}):void 0,...k,...a,children:n})});c.displayName="SharedPicker"},724:(e,n,a)=>{a.d(n,{j:()=>o});var l=a(74848),t=a(96540),i=a(85349),r=a(75177),s=a(30793);function o({errorMessage:e,anchorElement:n,open:a=!1}){let[o,d]=(0,t.useState)(a);return{createFallbackComponent:(0,t.useCallback)(a=>n?(0,l.jsx)(i.T,{width:"medium",height:"small",open:o,onOpen:()=>d(!0),onClose:()=>d(!1),renderAnchor:n,children:(0,l.jsx)(r.A,{sx:{m:1,display:"flex",justifyContent:"center",height:"100%"},children:(0,l.jsx)(s.h,{message:e,retry:a,sx:{p:2}})})}):null,[n,e,o])}}},2595:(e,n,a)=>{a.d(n,{u:()=>u});let l=function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"profileResourcePath",storageKey:null},i={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useViewerSafeViewerQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"AssigneePickerAssignee",selections:[{kind:"InlineFragment",selections:[e,n,a,l,t,i,r],type:"Actor",abstractKey:"__isActor"}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useViewerSafeViewerQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"safeViewer",plural:!1,selections:[n,{kind:"InlineFragment",selections:[e,a,l,t,i,r],type:"Actor",abstractKey:"__isActor"}],storageKey:null}]},params:{id:"cd02b8ff95f218e6feb0f39ec90d2c0c",metadata:{},name:"useViewerSafeViewerQuery",operationKind:"query",text:null}}}();l.hash="9a2514db664867e53145d021e14fc30a";var t=a(79317),i=a(47584),r=a(34004),s=a(96540),o=a(18312),d=a(69487),c=a(28339);function u(){let e=(0,o.useRelayEnvironment)(),{currentUser:n}=(0,r.J)(),[a,u]=(0,s.useState)(n);return(0,s.useEffect)(()=>{i.X3||a||(0,t.SD)({environment:e,query:l,variables:{}}).subscribe({next:e=>{e.safeViewer&&u((0,d.readInlineData)(c.G1,e.safeViewer))}})},[e,a]),a}},47076:(e,n,a)=>{a.d(n,{a:()=>k});var l=a(74848),t=a(30391),i=a(47990),r=a(96540),s=a(59299),o=a(44999),d=a(38267),c=a(57304);let u={small:"16px",medium:"20px",large:"24px",xlarge:"32px"},m="medium",p=({as:e="span",onClick:n,onFocus:a,tabIndex:l=-1,interactive:t})=>t??!!(a||n||l>-1||["a","button"].includes(e)),g={fontSize:1,height:u.xlarge,lineHeight:u.xlarge,paddingLeft:3,paddingRight:3,paddingTop:0,paddingBottom:0},f=(0,c.Ox)({prop:"size",variants:{small:{fontSize:0,height:u.small,lineHeight:u.small,paddingLeft:1,paddingRight:1,paddingTop:0,paddingBottom:0},medium:{fontSize:0,height:u.medium,lineHeight:u.medium,paddingLeft:2,paddingRight:2,paddingTop:0,paddingBottom:0},large:{fontSize:0,height:u.large,lineHeight:u.large,paddingLeft:2,paddingRight:2,paddingTop:0,paddingBottom:0},extralarge:g,xlarge:g}}),h=d.Ay.span.withConfig({displayName:"TokenBase__StyledTokenBase",componentId:"sc-47c3884c-0"})(["align-items:center;border-radius:999px;cursor:",";display:inline-flex;font-weight:",";font-family:inherit;text-decoration:none;max-width:100%;position:relative;white-space:nowrap;"," ",""],e=>p(e)?"pointer":"auto",(0,s.Jt)("fontWeights.bold"),f,o.A),y=r.forwardRef(function({text:e,onRemove:n,id:a,as:t="span",size:i=m,...r},s){return(0,l.jsx)(h,{"aria-label":n?`${e}, press backspace or delete to remove`:void 0,id:a?.toString(),as:t,size:i,...r,ref:s})});try{y.displayName||(y.displayName="TokenBase")}catch{}let b=(0,d.Ay)("span").withConfig({displayName:"TokenTextContainer",componentId:"sc-690ded13-0"})(["flex-grow:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:transparent;border:0;font:inherit;margin:0;padding:0;width:auto;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;color:currentColor;text-decoration:none;&:is(a,button,[tabIndex='0']){cursor:pointer;&::after{content:'';position:absolute;left:0;top:0;right:0;bottom:0;}}"]);try{b.displayName||(b.displayName="TokenTextContainer")}catch{}let k=(0,r.forwardRef)(({as:e,fontWeight:n,fillColor:a="#999",onRemove:s,id:o,isSelected:d,text:c,size:u=m,hideRemoveButton:g,href:f,...h},k)=>{let{colorScheme:x}=(0,t.DP)(),v=(0,r.useMemo)(()=>x?.includes("high_contrast"),[x]),C=(0,r.useMemo)(()=>({"--lightness-threshold":"0.453","--border-threshold":"0.96","--background-alpha":"0.20","--border-alpha":"max(0, min(calc((var(--perceived-lightness) - var(--border-threshold)) * 100), 1))",background:"rgb(var(--label-r), var(--label-g), var(--label-b))",color:"hsl(0deg, 0%, calc(var(--lightness-switch) * 100%))",borderWidth:1,borderStyle:"solid",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 25) * 1%), var(--border-alpha))"}),[]),j=(0,r.useMemo)(()=>({"--lightness-threshold":"0.6","--background-alpha":"0.18","--border-alpha":v?"0.9":"0.3","--lighten-by":"calc(((var(--lightness-threshold) - var(--perceived-lightness)) * 100) * var(--lightness-switch))",borderWidth:1,borderStyle:"solid",background:"rgba(var(--label-r), var(--label-g), var(--label-b), var(--background-alpha))",color:"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%), var(--border-alpha))"}),[v]),S={as:e,href:f},_=p(h)&&!!s&&!g,I=(0,r.useMemo)(()=>{let[e,l,t]=(0,i.Du)(a),[r,o,c]=(0,i.BT)(a);return{"--label-r":String(e),"--label-g":String(l),"--label-b":String(t),"--label-h":String(Math.round(r)),"--label-s":String(Math.round(100*o)),"--label-l":String(Math.round(100*c)),"--perceived-lightness":"calc(((var(--label-r) * 0.2126) + (var(--label-g) * 0.7152) + (var(--label-b) * 0.0722)) / 255)","--lightness-switch":"max(0, min(calc((var(--perceived-lightness) - var(--lightness-threshold)) * -1000), 1))","--border-color":"var(--borderColor-muted, var(--color-border-subtle))",paddingRight:g||!s?void 0:0,position:"relative",minWidth:0,overflow:"hidden",...x?.includes("light")?C:j,...n?{fontWeight:n}:{},...d?{background:"light"===x?"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) - 5) * 1%))":j.background,":focus":{outline:"none"},":after":{content:'""',position:"absolute",zIndex:1,top:"-2px",right:"-2px",bottom:"-2px",left:"-2px",display:"block",pointerEvents:"none",boxShadow:`0 0 0 2px ${"light"===x?"rgb(var(--label-r), var(--label-g), var(--label-b))":"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))"}`,borderRadius:"999px"}}:{}}},[a,g,s,n,x,C,j,d]);return(0,l.jsx)(y,{onRemove:s,id:o?.toString(),isSelected:d,text:c,size:u,sx:I,..._?{}:S,...h,ref:k,children:(0,l.jsx)(b,{..._?S:{},children:c})})});k.displayName="IssueLabelToken"},14546:(e,n,a)=>{a.d(n,{w:()=>c});var l=a(74848),t=a(47076),i=a(44968),r=a(75177),s=a(34614),o=a(96540),d=a(42522);function c({labels:e,testId:n,sx:a,emptyText:c="No labels"}){let u=(0,o.useMemo)(()=>0!==e.length&&e[0]?`${e[0].url.slice(0,e[0].url.lastIndexOf("/labels/"))}/issues`:"",[e]),m=(0,o.useCallback)(e=>`${u}?q=${encodeURIComponent(`state:open label:"${e.name}"`)}`,[u]);return(0,l.jsx)(r.A,{sx:{display:"flex",flexShrink:1,gap:1,flexWrap:"wrap",overflow:"hidden",height:"100%",justifyContent:"flex-start",px:2,pt:1,pb:2,fontSize:0,...a},tabIndex:-1,"data-testid":n,children:e.length>0?e.sort((e,n)=>e.name===n.name?0:e.name>n.name?1:-1).map(e=>(0,l.jsx)(d.m,{text:e.description??"",type:"description","aria-label":e.description??"",sx:{position:"absolute",visibility:e.description?"visible":"hidden"},children:(0,l.jsxs)(s.A,{href:m(e),muted:!0,sx:{overflow:"hidden"},"aria-describedby":`${e.id}-tooltip`,children:[(0,l.jsx)(t.a,{text:(0,l.jsx)(i.yx,{html:e.nameHTML}),fillColor:`#${e.color}`,style:{overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",maxWidth:"100%"}},e.id),(0,l.jsx)("span",{className:"sr-only",id:`${e.id}-tooltip`,children:e.description??""})]},e.id)},e.id)):c})}try{c.displayName||(c.displayName="LabelsList")}catch{}},82091:(e,n,a)=>{a.d(n,{U:()=>o});var l=a(74848),t=a(53949),i=a(34164),r=a(21166);let s={container:"Description-module__container--b3n6F",compact:"Description-module__compact--SPRVh"};function o({children:e,style:n,className:a}){let{variant:o}=(0,r.e)();return(0,l.jsx)("div",{...(0,t.G)("list-view-item-description"),className:(0,i.$)(s.container,"compact"===o&&s.compact,a),style:n,children:e})}try{o.displayName||(o.displayName="ListItemDescription")}catch{}},30448:(e,n,a)=>{a.d(n,{Q:()=>o});var l=a(74848),t=a(53949),i=a(34164),r=a(21166);let s={container:"MainContent-module__container--ry4iL",inner:"MainContent-module__inner--bU_tk",compact:"MainContent-module__compact--mM626"};function o({children:e}){let{variant:n}=(0,r.e)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{...(0,t.G)("list-view-item-main-content"),className:s.container,children:(0,l.jsx)("div",{className:(0,i.$)(s.inner,"compact"===n&&s.compact),children:e})})})}try{o.displayName||(o.displayName="ListItemMainContent")}catch{}},79910:(e,n,a)=>{a.d(n,{V:()=>s});var l=a(74848),t=a(53949),i=a(34164);let r={metadata:"Metadata-module__metadata--yvrod",secondary:"Metadata-module__secondary--zMgLx",primary:"Metadata-module__primary--cJgJU",alignRight:"Metadata-module__alignRight--rp0_Z"};function s({children:e,alignment:n,variant:a,...s}){return(0,l.jsx)("div",{...(0,t.G)("list-view-item-metadata-item"),...s,className:(0,i.$)(r.metadata,"primary"===a?r.primary:r.secondary,"right"===n&&r.alignRight,s.className),children:e})}try{s.displayName||(s.displayName="ListItemMetadata")}catch{}},56495:(e,n,a)=>{a.d(n,{kx:()=>v,ao:()=>x});var l,t,i=a(74848),r=a(44968),s=a(53949),o=a(34164),d=a(96540),c=a(73858),u=a(21166),m=a(65607),p=a(42481);let g={container:"Selection-module__container--VTcpJ",checkbox:"Selection-module__checkbox--nZsSH",checkboxCompact:"Selection-module__checkboxCompact--pRIwD"};var f=a(99191),h=a(33875);let y=()=>{let{variant:e}=(0,u.e)(),{isSelectable:n}=(0,p.v)(),{isSelected:a,onSelect:l}=(0,f.r)(),{title:t}=(0,h.J)();return n?(0,i.jsx)("div",{className:g.container,...(0,s.G)("list-view-item-selection"),children:(0,i.jsx)(m.A,{className:"default"===e?g.checkbox:g.checkboxCompact,checked:a,onChange:()=>l(!a),"aria-label":`Select: ${t}`,"data-listview-component":"selection-input",...(0,s.G)("list-view-item-selection-input")})}):null};try{y.displayName||(y.displayName="ListItemSelection")}catch{}let b={anchor:"Title-module__anchor--SyQM6",heading:"Title-module__heading--upUxW",compact:"Title-module__compact--qLTco",container:"Title-module__container--l9xi7",trailingBadgesSpacer:"Title-module__trailingBadgesSpacer--TioiY",trailingBadgesContainer:"Title-module__trailingBadgesContainer--XGsbF",inline:"Title-module__inline--x4zR5"};function k({children:e,containerStyle:n,containerClassName:a,headerContainerRef:l,headingStyle:t,headingClassName:r,headingRef:m,leadingBadge:p,trailingBadges:g,header:f}){let{variant:k}=(0,u.e)(),{setTitle:x}=(0,h.J)(),v=(0,d.useRef)(null),C=m||v,j=(0,c.m)("listitem");return(0,d.useEffect)(()=>{C?.current?.textContent&&x(C.current.textContent.trim())},[C,x]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{...(0,s.G)("list-view-item-title-container"),style:n,className:(0,o.$)(b.container,"compact"===k&&b.compact,a),ref:l,children:[(0,i.jsxs)(j,{className:(0,o.$)(b.heading,"compact"===k&&b.compact,r),style:t,ref:C,...(0,s.G)("list-view-item-title"),children:[p,f]}),g&&(0,i.jsx)("span",{className:b.trailingBadgesSpacer}),(0,i.jsx)("span",{className:b.trailingBadgesContainer,children:g}),e]}),(0,i.jsx)(y,{})]})}function x({children:e,value:n,containerStyle:a,containerClassName:l,headerContainerRef:t,headingStyle:r,headingClassName:s,headingRef:o,leadingBadge:d,trailingBadges:c,...u}){return(0,i.jsx)(k,{header:u.href||u.onClick?(0,i.jsx)(C,{...u,children:(0,i.jsx)("span",{children:n})}):(0,i.jsx)("span",{children:n}),containerStyle:a,containerClassName:l,headerContainerRef:t,headingStyle:r,headingClassName:s,headingRef:o,leadingBadge:d,trailingBadges:c,children:e})}function v({children:e,html:n,containerStyle:a,containerClassName:l,headerContainerRef:t,headingStyle:s,headingClassName:o,headingRef:d,leadingBadge:c,trailingBadges:u,...m}){return(0,i.jsx)(k,{header:(0,i.jsx)(r.yx,{unverifiedHTML:n,...m}),containerStyle:a,containerClassName:l,headerContainerRef:t,headingStyle:s,headingClassName:o,headingRef:d,leadingBadge:c,trailingBadges:u,children:e})}function C({anchorStyle:e,anchorClassName:n,anchorRef:a,linkProps:l,children:t,...r}){let{setTitleAction:c}=(0,h.J)(),{as:u="a",...m}=l??{},p=(0,d.useRef)(null),g=a||p;return(0,d.useEffect)(()=>{(r.href||r.onClick)&&c(()=>e=>{r.href&&(e.metaKey||e.ctrlKey)?window.open(r.href,"_blank"):g?.current?.click()})},[g,r.href,r.onClick,c]),(0,i.jsx)(u,{...(0,s.G)("listitem-title-link"),style:e,ref:g,className:(0,o.$)(b.anchor,b.inline,n),...r,...m,children:t})}try{k.displayName||(k.displayName="InternalTitle")}catch{}try{(l=TitleTag).displayName||(l.displayName="TitleTag")}catch{}try{x.displayName||(x.displayName="ListItemTitle")}catch{}try{v.displayName||(v.displayName="ListItemSafeHTMLTitle")}catch{}try{(t=function({children:e,html:n,containerStyle:a,containerClassName:l,headerContainerRef:t,headingStyle:s,headingClassName:o,headingRef:d,leadingBadge:c,trailingBadges:u,...m}){return(0,i.jsx)(k,{header:(0,i.jsx)(r.yx,{html:n,...m}),containerStyle:a,containerClassName:l,headerContainerRef:t,headingStyle:s,headingClassName:o,headingRef:d,leadingBadge:c,trailingBadges:u,children:e})}).displayName||(t.displayName="ListItemUnsafeHTMLTitle")}catch{}try{C.displayName||(C.displayName="HeadingLink")}catch{}},71781:(e,n,a)=>{a.d(n,{W:()=>O});var l=a(74848);let t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"includesCreatedEdit",storageKey:null},l=[{kind:"Literal",name:"first",value:100}],t={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:l,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[t,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[o,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[a,{alias:null,args:l,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[t,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[c,o,d,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"c6113eea560ba83b319c9b30fc5d4f7e",metadata:{},name:"MarkdownEditHistoryViewerQuery",operationKind:"query",text:null}}}();t.hash="58ea81646b217a25de6cfe147936e7f6";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewer_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null}],type:"Comment",abstractKey:"__isComment"};i.hash="fcc1ee717c6a87a4ffdb4f4d9391d55c";var r=a(62456),s=a(4003),o=a(34407),d=a(75177),c=a(89323),u=a(8338),m=a(52464),p=a(89169),g=a(47139),f=a(96540),h=a(18312),y=a(30793);let b={couldNotDeleteEditRevision:"Failed to delete this revision",couldNotLoad:"Couldn't load"},k=({retry:e})=>(0,l.jsx)(y.h,{message:b.couldNotLoad,retry:e,sx:{p:4}});try{k.displayName||(k.displayName="CouldNotFindFallbackError")}catch{}let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"diffBefore",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EditHistoryDialogQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[a,l,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"EditHistoryDialogHeaderFragment"}],type:"UserContentEdit",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EditHistoryDialogQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[a,l,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[r,i,s],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},i,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null},s],storageKey:null}]},params:{id:"95112ed4d46018d629c28241b711a389",metadata:{},name:"EditHistoryDialogQuery",operationKind:"query",text:null}}}();x.hash="468f60acb1c6c8a75787e70fe36979a9";var v=a(74144),C=a(91669);let j={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditHistoryDialogHeaderFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null};j.hash="173b0fbf2e248d6057ccd670ace2eea7";var S=a(67136),_=a(38621),I=a(53526),w=a(55847),F=a(30729);let N={deleteEditRevision:"Delete revision"},L={ghostUserLogin:"ghost"},T=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteUserContentEditMutation",selections:[{alias:null,args:n,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[a,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[t,i],storageKey:null},r],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteUserContentEditMutation",selections:[{alias:null,args:n,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[a,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t,i,a],storageKey:null},r],storageKey:null}],storageKey:null}]},params:{id:"71452b9f40a7828ac05811d1ad4f821e",metadata:{},name:"deleteUserContentEditMutation",operationKind:"mutation",text:null}}}();T.hash="45e1f3e7d425560f65ef39e8c357794d";let A=({queryRef:e,userContentEditId:n})=>{let a=(0,h.useFragment)(j,e),t=(0,h.useRelayEnvironment)(),i=(0,I.S)(),{addToast:r}=(0,S.Y6)(),s=(0,f.useCallback)(async()=>{await i({title:C.k.confirmations.deleteEditHistoryTitle,content:C.k.confirmations.deleteEditHistoryContent,confirmButtonType:"danger",confirmButtonContent:C.k.confirmations.deleteEditHistoryConfirmButtonContent})&&function({environment:e,input:{id:n},onCompleted:a,onError:l}){(0,h.commitMutation)(e,{mutation:T,variables:{input:{id:n}},onCompleted:e=>{null===e.deleteUserContentEdit?l?.():a?.()},onError:e=>l?.(e)})}({environment:t,input:{id:n},onError:()=>{r({type:"error",message:b.couldNotDeleteEditRevision})}})},[r,i,t,n]),o=a.newest||a.deletedAt;return(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",position:"sticky",top:0,backgroundColor:"canvas.subtle",p:3,borderBottom:"1px solid",borderColor:"border.muted"},children:[a.editor&&(0,l.jsx)(K,{login:a.editor.login,avatarUrl:a.editor.avatarUrl,time:a.editedAt,details:a.firstEdit?C.k.editHistory.created:C.k.editHistory.edited,trailingElement:o?(0,l.jsx)(g.A,{sx:{ml:1},children:a.deletedAt?C.k.editHistory.deleted:C.k.editHistory.mostRecent}):void 0}),a.viewerCanDelete&&!a.newest&&!a.deletedAt&&(0,l.jsxs)(w.Q,{sx:{marginLeft:"auto"},variant:"danger",size:"small","aria-label":C.k.editHistory.deleteRevisionAriaLabel,onClick:s,children:[(0,l.jsx)(F.A,{icon:_.TrashIcon})," ",N.deleteEditRevision]})]})};function K({login:e,avatarUrl:n,details:a,time:t,sx:i,trailingElement:s}){let o=!!n&&!!e;return(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,l.jsxs)(d.A,{sx:{...i},children:[o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.r,{src:n,size:16,alt:`@${e}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))",mr:1}}),(0,l.jsx)(m.A,{sx:{fontWeight:"bold"},children:e})]}),!o&&(0,l.jsx)("span",{children:e??L.ghostUserLogin}),(0,l.jsxs)("span",{children:[" ",a," "]}),t&&(0,l.jsx)(p.A,{date:new Date(t)})]}),s]})}try{A.displayName||(A.displayName="EditHistoryDialogHeader")}catch{}try{K.displayName||(K.displayName="ActorOperationDetails")}catch{}var D=a(63297);let E=({userContentEditId:e,onClose:n})=>(0,l.jsx)(v.l,{renderBody:()=>(0,l.jsx)(P,{userContentEditId:e}),onClose:n,title:C.k.editHistory.viewingEditTitle,width:"xlarge",height:"auto",sx:{width:"100%",margin:4,maxWidth:"800px",maxHeight:"clamp(300px, 80vh, 800px)"}}),P=({userContentEditId:e})=>{let[n,a]=(0,h.useQueryLoader)(x);return((0,f.useEffect)(()=>{a({id:e})},[a,e]),n)?(0,l.jsx)(f.Suspense,{fallback:(0,l.jsx)(M,{}),children:(0,l.jsx)(s.A,{onRetry:()=>a({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,l.jsx)(k,{retry:e}),children:(0,l.jsx)(R,{queryRef:n,userContentEditId:e})})}):(0,l.jsx)(M,{})},R=({queryRef:e,userContentEditId:n})=>{let a=(0,h.usePreloadedQuery)(x,e).node;if(!a)return(0,l.jsx)(M,{});let t=!a.diffBefore&&!a.diff;return(0,l.jsxs)(d.A,{sx:{overflowY:"auto"},children:[(0,l.jsx)(A,{queryRef:a,userContentEditId:n}),(0,l.jsxs)(d.A,{sx:{p:3},children:[!a.deletedAt&&!t&&(0,l.jsx)(D.n,{before:a.diffBefore??void 0,after:a.diff??void 0}),!a.deletedAt&&t&&(0,l.jsx)(m.A,{sx:{color:"fg.muted",fontStyle:"italic"},children:C.k.editHistory.emptyEdit}),a.deletedAt&&(0,l.jsx)(K,{login:a.deletedBy?.login,details:C.k.editHistory.deletedThisRevision,time:a.deletedAt,sx:{color:"fg.muted",fontStyle:"italic"}})]})]})};function M(){return(0,l.jsxs)(d.A,{sx:{m:2,display:"flex",flexDirection:"column",gap:2},children:[(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"})]})}try{E.displayName||(E.displayName="EditHistoryDialog")}catch{}try{P.displayName||(P.displayName="EditContent")}catch{}try{R.displayName||(R.displayName="EditContentInternal")}catch{}try{M.displayName||(M.displayName="EditContentLoading")}catch{}let V={ActionList_Description:"MarkdownEditHistoryViewer-module__ActionList_Description--Z9ggs"};function O({editHistory:e}){let n=(0,h.useFragment)(i,e),[a,t]=(0,f.useState)(!1),[r,s]=(0,f.useState)("");return n&&n.viewerCanReadUserContentEdits&&n.lastEditedAt?(0,l.jsxs)(d.A,{sx:{display:"flex"},children:[(0,l.jsxs)(c.W,{children:[(0,l.jsx)(c.W.Button,{sx:{color:"fg.muted"},variant:"invisible",size:"small","aria-label":C.k.editHistory.ariaLabel,children:C.k.editHistory.openEditsButton}),(0,l.jsx)(c.W.Overlay,{width:"auto",children:(0,l.jsx)(B,{setIsEditHistoryDialogOpen:t,setSelectedId:s,editHistoryId:n.id,lastEditedAt:n.lastEditedAt})})]}),a&&(0,l.jsx)(E,{onClose:()=>t(!1),userContentEditId:r})]}):null}let B=({editHistoryId:e,lastEditedAt:n,...a})=>{let[i,r]=(0,h.useQueryLoader)(t);return((0,f.useEffect)(()=>{r({id:e},{fetchPolicy:"network-only"})},[e,r,n]),i)?(0,l.jsx)(f.Suspense,{fallback:(0,l.jsx)($,{}),children:(0,l.jsx)(s.A,{onRetry:()=>r({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,l.jsx)(k,{retry:e}),children:(0,l.jsx)(U,{queryRef:i,...a})})}):(0,l.jsx)($,{})},U=({setIsEditHistoryDialogOpen:e,setSelectedId:n,queryRef:a})=>{let i=(0,h.usePreloadedQuery)(t,a);if(!i.node?.userContentEdits)return(0,l.jsx)($,{});let s=i.node.userContentEdits.totalCount;return(0,l.jsx)(u.l,{sx:{maxHeight:"clamp(200px, 30vh, 320px)",overflow:"auto",width:"max-content"},children:(0,l.jsxs)(u.l.Group,{children:[(0,l.jsx)(u.l.GroupHeading,{children:`Edited ${s-1} time${s>2?"s":""}`}),i.node.userContentEdits.edges?.map((a,t)=>{let o=a?.node;if(!o?.editor)return null;let d=i.node?.includesCreatedEdit&&t===s-1;return l.jsxs(u.l.Item,{onSelect:()=>{n(o.id),e(!0)},children:[l.jsx(u.l.LeadingVisual,{children:l.jsx(r.r,{src:o.editor.avatarUrl,size:16,alt:`@${o.editor.login}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))"}})}),l.jsx(m.A,{sx:{fontWeight:"normal"},children:o.editor.login}),l.jsxs(u.l.Description,{truncate:!0,className:V.ActionList_Description,children:[d&&l.jsx("div",{title:"",children:C.k.editHistory.created}),l.jsx(p.A,{date:new Date(o.editedAt)})]}),(0===t||o.deletedAt)&&l.jsx(u.l.TrailingVisual,{children:l.jsx(g.A,{children:0===t?C.k.editHistory.mostRecent:C.k.editHistory.deleted})})]},o.id)})]})})};function $(){return(0,l.jsxs)(d.A,{sx:{m:2,display:"flex",flexDirection:"column",gap:2,minWidth:"256px"},children:[(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"}),(0,l.jsx)(o.O,{variant:"rounded",height:"md",width:"100%"})]})}try{O.displayName||(O.displayName="MarkdownEditHistoryViewer")}catch{}try{B.displayName||(B.displayName="EditHistoryActionMenuContent")}catch{}try{U.displayName||(U.displayName="EditHistoryActionMenuContentInternal")}catch{}try{$.displayName||($.displayName="EditHistoryLoading")}catch{}},63297:(e,n,a)=>{a.d(n,{n:()=>p});var l=a(74848);let t=e=>e.split(/\r?\n/),i=e=>e.split(/\s+/),r=(e,n)=>({groups:[{words:e??"",modification:n}],modification:n}),s={diffContainer:"GroupedTextDiffViewer-module__diffContainer--hFr9Z",borderStylingAdded:"GroupedTextDiffViewer-module__borderStylingAdded--oOMUd",borderStylingRemoved:"GroupedTextDiffViewer-module__borderStylingRemoved--sC9wR",borderStylingChanged:"GroupedTextDiffViewer-module__borderStylingChanged--AAKXv",wordStylingAdded:"GroupedTextDiffViewer-module__wordStylingAdded--Vu4zN",wordStylingRemoved:"GroupedTextDiffViewer-module__wordStylingRemoved--FpdRV",diffLine:"GroupedTextDiffViewer-module__diffLine--UijDm"},o=e=>{switch(e){case"ADDED":return s.borderStylingAdded;case"REMOVED":return s.borderStylingRemoved;case"EDITED":return s.borderStylingChanged;case"UNCHANGED":return""}},d=e=>{switch(e){case"ADDED":return s.wordStylingAdded;case"REMOVED":return s.wordStylingRemoved;case"UNCHANGED":return""}},c=e=>{switch(e){case"ADDED":return{open:"[+]",close:"[/+]"};case"REMOVED":return{open:"[-]",close:"[/-]"}}return{open:"",close:""}},u=e=>"ADDED"===e||"REMOVED"===e,m=({groups:e,modification:n})=>{let a=e.map(e=>e.words).join(" ");return(0,l.jsxs)("span",{className:s.diffLine,children:["EDITED"===n&&e?.map((e,n)=>l.jsxs(l.Fragment,{children:[u(e.modification)&&l.jsx("span",{className:"sr-only",children:c(e.modification).open}),l.jsx("span",{className:d(e.modification),children:`${0===n?"":" "}${e.words}`}),u(e.modification)&&l.jsx("span",{className:"sr-only",children:c(e.modification).close})]},n-1)),"EDITED"!==n&&e.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"sr-only",children:c(n).open}),(0,l.jsx)("span",{children:a}),(0,l.jsx)("span",{className:"sr-only",children:c(n).close})]}),0===e.length&&(0,l.jsx)("br",{})]})},p=({before:e,after:n})=>{let a=function({before:e,after:n}){let a=e?t(e):[],l=n?t(n):[],s=[];for(let e=0;e<a.length||e<l.length;e++){let n=a[e],t=l[e];s.push(function(e,n){let a=e?i(e):[],l=n?i(n):[];if(0===a.length&&0===l.length||e===n)return r(e,"UNCHANGED");if(0===a.length)return r(n,"ADDED");if(0===l.length)return r(e,"REMOVED");let t=[],s={words:"",modification:"UNCHANGED"},o={words:"",modification:"ADDED"},d={words:"",modification:"REMOVED"};for(let e=0;e<a.length||e<l.length;e++){let n=a[e],i=l[e];n===i?(s.words=`${s.words}${0===s.words.length?"":" "}${n}`,""!==o.words&&(t.push(o),o={words:"",modification:"ADDED"}),""!==d.words&&(t.push(d),d={words:"",modification:"REMOVED"})):(""!==s.words&&(void 0!==n||void 0!==i)&&(t.push(s),s={words:"",modification:"UNCHANGED"}),void 0!==n&&(d.words=`${d.words}${0===d.words.length?"":" "}${n}`),void 0!==i&&(o.words=`${o.words}${0===o.words.length?"":" "}${i}`))}return""!==o.words&&t.push(o),""!==d.words&&t.push(d),""!==s.words&&t.push(s),{groups:t,modification:"EDITED"}}(n,t))}return{lines:s}}({before:e,after:n});return(0,l.jsx)("div",{className:s.diffContainer,children:a.lines.map((e,n)=>(0,l.jsx)("div",{className:o(e.modification),children:(0,l.jsx)(m,{...e})},n))})};try{m.displayName||(m.displayName="LineDiffViewer")}catch{}try{p.displayName||(p.displayName="GroupedTextDiffViewer")}catch{}},31786:(e,n,a)=>{a.d(n,{_:()=>d});var l=a(74848);let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownLastEditedBy",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:"__isComment"};t.hash="bbab0cb2d43eeaaa0ed5b010868ec7f4";var i=a(34614),r=a(18312),s=a(91669);let o={container:"MarkdownLastEditedBy-module__container--fKxHN"};function d({editInformation:e,includeSeparator:n,forceUnderline:a}){let d=(0,r.useFragment)(t,e);if(!d||!d.viewerCanReadUserContentEdits||!d.lastUserContentEdit||!d.lastUserContentEdit.editor)return null;let{login:c,url:u}=d.lastUserContentEdit.editor;return(0,l.jsxs)("span",{className:o.container,children:[n&&(0,l.jsx)("span",{children:" \xb7 "}),(0,l.jsxs)("span",{children:[`${s.k.editHistory.editedBy} `,(0,l.jsx)(i.A,{sx:{color:"fg.muted"},href:u,inline:a,children:c})]})]})}try{d.displayName||(d.displayName="MarkdownLastEditedBy")}catch{}},2668:(e,n,a)=>{a.d(n,{B:()=>r});var l=a(74848),t=a(96540),i=a(7284);function r({includeAriaAttributes:e=!0,...n}){let a=(0,t.useId)(),[r,s]=(0,t.useState)(!1),o=n.open??r,d=n.id??a,c=e?{"aria-describedby":d}:{},u=(0,t.useCallback)(()=>s(!0),[]),m=(0,t.useCallback)(()=>s(!1),[]);return[{...c,onPointerEnter:u,onPointerLeave:m,onFocus:u,onBlur:m},(0,l.jsx)(i.m,{...n,open:o,id:d},"portal-tooltip")]}},36172:(e,n,a)=>{a.d(n,{P:()=>f});var l=a(74848),t=a(69676),i=a(82678),r=a(85349),s=a(8338),o=a(96540),d=a(55847),c=a(94977),u=a(86911);function m({reactionGroup:e,disabled:n,onReact:a}){let{content:t,viewerHasReacted:i}=e.reaction,{reactors:r,totalCount:s}=e;if(0===s)return null;let o=r.flatMap(e=>"Other"!==e.typeName?[e.login]:[]),m=(0,u.fj)(t,i,o,s);return(0,l.jsx)(c.A,{"aria-label":(0,u.Js)(o,s),sx:{maxWidth:"100%"},wrap:!0,direction:"ne",align:"left",children:(0,l.jsx)(d.Q,{size:"small",sx:{"&:hover:not([disabled])":{backgroundColor:"accent.muted"},backgroundColor:i?"accent.subtle":"transparent",borderColor:i?"accent.emphasis":"border.default",borderRadius:100,px:2,boxShadow:"none"},"aria-label":m,role:"switch","aria-checked":i,leadingVisual:()=>(0,l.jsx)(l.Fragment,{children:u.qG[t]}),onClick:()=>a(t,i),disabled:n,children:s})})}try{m.displayName||(m.displayName="ReactionButton")}catch{}function p({onReact:e,reaction:n}){let{content:a,viewerHasReacted:t}=n;return(0,l.jsx)(s.l.Item,{sx:{"&:hover":{backgroundColor:"accent.emphasis"},py:0,px:0,width:"max-content",m:0,backgroundColor:t?"accent.subtle":"transparent"},role:"menuitemcheckbox","aria-checked":t,onSelect:()=>e(a,t),children:u.qG[a]},a)}try{p.displayName||(p.displayName="ReactionsMenuItem")}catch{}var g=a(13506);function f({reactionGroups:e,canReact:n=!0,onReact:a}){let[d,c]=(0,o.useState)(!1),u=e.length>0,{containerRef:f}=(0,i.G)({bindKeys:t.z0.HomeAndEnd|t.z0.ArrowHorizontal,focusOutBehavior:"wrap"});return(0,l.jsxs)("div",{role:"toolbar","aria-label":"Reactions",ref:f,className:"d-flex gap-1 flex-wrap",children:[n&&(0,l.jsx)(r.T,{open:d,onOpen:()=>c(u),onClose:()=>c(!1),anchorRef:f,focusZoneSettings:{bindKeys:t.z0.ArrowAll|t.z0.HomeAndEnd,focusOutBehavior:"wrap"},renderAnchor:e=>(0,l.jsx)(g.N,{renderAnchorProps:e,reactionsAvailable:u}),children:(0,l.jsx)(s.l,{className:"d-flex flex-row p-1 gap-1",role:"menu","aria-orientation":"horizontal",children:(e||[]).map((e,n)=>(0,l.jsx)(p,{reaction:e.reaction,onReact:(e,n)=>{a(e,n),c(!1)}},n))})}),(e||[]).map((e,n)=>(0,l.jsx)(m,{reactionGroup:e,onReact:(e,n)=>a(e,n)},n))]})}try{f.displayName||(f.displayName="ReactionViewerBase")}catch{}},22368:(e,n,a)=>{a.r(n),a.d(n,{ReactionViewerRelay:()=>m,ReactionViewerRelayQueryComponent:()=>p,default:()=>g});var l=a(74848);let t=function(){var e={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},n=[e];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReactionViewerRelayGroups",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:n,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Mannequin",abstractKey:null}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}}();t.hash="4957e34582c8895c7e94b4dc9fa57fc9";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[l],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"4ad1541bb8051d5b7a55a10bbdf54731",metadata:{},name:"ReactionViewerRelayLazyQuery",operationKind:"query",text:null}}}();i.hash="95899d766fa2c1bc2ea04b604e3db421";var r=a(96540),s=a(18312),o=a(66854);let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[l],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addReactionMutation",selections:[{alias:null,args:n,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addReactionMutation",selections:[{alias:null,args:n,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"c925c985a3bde5cd71f1859404c89567",metadata:{},name:"addReactionMutation",operationKind:"mutation",text:null}}}();d.hash="504ef43df20e9ee96a023f421682e18d";let c=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},t=[l],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeReactionMutation",selections:[{alias:null,args:n,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeReactionMutation",selections:[{alias:null,args:n,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[a,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{kind:"InlineFragment",selections:t,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"fd20390882af8180d05f0d4a921c00d9",metadata:{},name:"removeReactionMutation",operationKind:"mutation",text:null}}}();c.hash="8e28d0138da52c07bb0e64eda432f580";var u=a(36172);function m({reactionGroups:e,subjectId:n,canReact:a=!0}){let i=(0,s.useRelayEnvironment)(),m=(0,s.useFragment)(t,e),p=(0,r.useCallback)((e,l)=>{a&&(l?function({environment:e,input:{subject:n,content:a},onError:l,onCompleted:t}){return(0,s.commitMutation)(e,{mutation:c,variables:{input:{subjectId:n,content:a}},optimisticUpdater:e=>{let l=e.get(n);if(!l)return;let t=l.getLinkedRecords("reactionGroups");if(!t)return;let i=t.findIndex(e=>e.getValue("content")===a),r=t[i];if(r){r.setValue(!1,"viewerHasReacted");let a=`client:${n}:reactionGroups:${i}:reactors(first:5)`,l=e.get(a);if(l){let e=l.getValue("totalCount");l.setValue(e&&e>0?e-1:0,"totalCount")}}},onError:e=>l&&l(e),onCompleted:e=>t&&t(e)})}({environment:i,input:{subject:n,content:e}}):function({environment:e,input:{subject:n,content:a},onError:l,onCompleted:t}){return(0,s.commitMutation)(e,{mutation:d,variables:{input:{subjectId:n,content:a}},optimisticUpdater:e=>{let l=e.get(n);if(!l)return;let t=l.getLinkedRecords("reactionGroups");if(!t)return;let i=t.findIndex(e=>e.getValue("content")===a),r=t[i];if(r){r.setValue(!0,"viewerHasReacted");let a=`client:${n}:reactionGroups:${i}:reactors(first:5)`,l=e.get(a);if(l){let e=l.getValue("totalCount");l.setValue(e?e+1:1,"totalCount")}}},onError:e=>l&&l(e),onCompleted:e=>t&&t(e)})}({environment:i,input:{subject:n,content:e}}))},[a,i,n]),g=(m.reactionGroups||[]).filter(e=>!!e).map(e=>({reaction:{content:e.content,viewerHasReacted:e.viewerHasReacted},reactors:e.reactors?.nodes?.map(e=>e&&"%other"!==e.__typename?{login:"Bot"===e.__typename&&e.isCopilot?o.t.copilotDisplayName:e.login,typeName:e.__typename}:{login:"",typeName:"Other"})||[],totalCount:e.reactors?.totalCount||0}));return(0,l.jsx)(u.P,{reactionGroups:g,canReact:a,subjectId:n,onReact:p})}function p({id:e,subjectLocked:n}){let a=(0,s.useLazyLoadQuery)(i,{id:e},{fetchPolicy:"store-or-network"});return a.node?(0,l.jsx)(m,{subjectId:e,reactionGroups:a.node,canReact:!n}):null}let g=m;try{m.displayName||(m.displayName="ReactionViewerRelay")}catch{}try{p.displayName||(p.displayName="ReactionViewerRelayQueryComponent")}catch{}},13506:(e,n,a)=>{a.d(n,{N:()=>o});var l=a(74848),t=a(38621),i=a(87330),r=a(94977),s=a(66854);function o({renderAnchorProps:e,reactionsAvailable:n}){let a=(0,l.jsx)(d,{renderAnchorProps:e,reactionsAvailable:n});return n?a:(0,l.jsx)(r.A,{"aria-label":s.t.reactionsUnavailable,children:a})}let d=({renderAnchorProps:e,reactionsAvailable:n})=>(0,l.jsx)(i.K,{unsafeDisableTooltip:!0,size:"small",sx:{borderRadius:100,height:28,width:28,display:"flex",alignItems:"center","& > span":{lineHeight:1,ml:"-1px"}},icon:t.SmileyIcon,...e,"aria-label":s.t.addOrRemoveReaction,inactive:!n,"aria-labelledby":void 0});try{o.displayName||(o.displayName="ReactionViewerAnchor")}catch{}try{d.displayName||(d.displayName="BaseIcon")}catch{}},16497:(e,n,a)=>{a.d(n,{e:()=>i});var l=a(74848),t=a(34407);function i(){return(0,l.jsx)("div",{className:"d-flex flex-wrap gap-1",children:(0,l.jsx)(t.O,{variant:"elliptical",height:"28px",width:"28px"})})}try{i.displayName||(i.displayName="ReactionViewerLoading")}catch{}},4003:(e,n,a)=>{a.d(n,{A:()=>d});var l=a(74848),t=a(96540),i=a(42445),r=a(50045);function s(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}let o=e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"Error:"}),(0,l.jsx)("button",{onClick:e,children:"Retry"})]});let BasicPreloadedQueryBoundary=class BasicPreloadedQueryBoundary extends t.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){let n=e.shouldSkipReport??!1,a={critical:this.props.critical||!1,reactAppName:this.props.appName};n||(0,i.N7)(e,a)}render(){let{children:e}=this.props,{error:n}=this.state,a=this.props.fallback||o;return n?a(this._retry,n):e}constructor(...e){super(...e),s(this,"state",{error:null}),s(this,"_retry",()=>{this.props.onRetry(),this.setState({error:null})})}};function d(e){let n=(0,t.useContext)(r.I),a=e.appName||n?.appName;return(0,l.jsx)(BasicPreloadedQueryBoundary,{...e,appName:a})}try{d.displayName||(d.displayName="PreloadedQueryBoundary")}catch{}}}]);
//# sourceMappingURL=ui_packages_commits_shared_use-load-deferred-commit-data_ts-ui_packages_diff-lines_diff-lines-21f1cb-1022b73ce773.js.map