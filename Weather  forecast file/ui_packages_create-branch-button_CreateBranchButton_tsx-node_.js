"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_create-branch-button_CreateBranchButton_tsx-node_modules_react-virtual_dist_react-b4da89"],{15930:(e,t,r)=>{let n;r.d(t,{H:()=>g});var i=r(10204);let AliveSession=class AliveSession extends i.ib{getUrlFromRefreshUrl(){return a(this.refreshUrl)}constructor(e,t,r,n,i){super(e,()=>this.getUrlFromRefreshUrl(),r,n,void 0,i),this.refreshUrl=t}};async function a(e){let t=await s(e);return t&&t.url&&t.token?o(t.url,t.token):null}async function s(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function o(e,t){let r=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(r.ok)return r.text();throw Error("fetch error")}var l=r(70170),c=r(75028),u=r(80688),d=r(23683),f=r(75632);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,{channel:t,type:r,data:n}){for(let i of e)i.dispatchEvent(new CustomEvent(`socket:${r}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:n}}))}let m=class AliveSessionProxy{subscribe(e){let t=this.subscriptions.add(...e);t.length&&this.worker.port.postMessage({subscribe:t});let r=new Set(t.map(e=>e.name)),n=e.reduce((e,t)=>{let n=t.topic.name;return(0,i.JR)(n)&&!r.has(n)&&e.add(n),e},new Set);n.size&&this.worker.port.postMessage({requestPresence:Array.from(n)})}unsubscribeAll(...e){let t=this.subscriptions.drain(...e);t.length&&this.worker.port.postMessage({unsubscribe:t});let r=this.presenceMetadata.removeSubscribers(e);this.sendPresenceMetadataUpdate(r)}updatePresenceMetadata(e){let t=new Set;for(let r of e)this.presenceMetadata.setMetadata(r),t.add(r.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let r of e)t.push({channelName:r,metadata:this.presenceMetadata.getChannelMetadata(r)});this.worker.port.postMessage({updatePresenceMetadata:t})}online(){this.worker.port.postMessage({online:!0})}offline(){this.worker.port.postMessage({online:!1})}hangup(){this.worker.port.postMessage({hangup:!0})}receive(e){let{channel:t}=e;if("presence"===e.type){let r=this.notifyPresenceDebouncedByChannel.get(t);r||(r=(0,l.s)((e,r)=>{this.notify(e,r),this.notifyPresenceDebouncedByChannel.delete(t)},100),this.notifyPresenceDebouncedByChannel.set(t,r)),r(this.subscriptions.subscribers(t),e);return}this.notify(this.subscriptions.subscribers(t),e)}constructor(e,t,r,n,a,s){h(this,"worker",void 0),h(this,"subscriptions",new i.m0),h(this,"presenceMetadata",new i.VH),h(this,"notify",void 0),h(this,"notifyPresenceDebouncedByChannel",new Map),this.notify=a,this.worker=new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${n}`,type:"module"}),this.worker.port.onmessage=({data:e})=>this.receive(e),this.worker.port.postMessage({connect:{url:t,refreshUrl:r,options:s}})}};async function v(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let t=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!t)return;let r=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!r)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!n)return;let i=(()=>{let i=(0,f.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,d.nr)()&&"SharedWorker"in window&&"true"!==(0,u.A)("localStorage").getItem("bypassSharedWorker"))try{return new m(e,t,r,n,p,i)}catch{}return new AliveSession(t,r,!1,p,i)})();return window.addEventListener("online",()=>i.online()),window.addEventListener("offline",()=>i.offline()),window.addEventListener("pagehide",()=>{"hangup"in i&&i.hangup()}),i}async function b(){return await c.G,v()}function g(){return n||(n=b())}},88853:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(10204);function i(e,t,r){if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let i=n.KK.parse(t);if(!i)throw Error("Invalid channel name");let a={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&r(e.detail.data)}},topic:i};return e.subscribe([a]),{unsubscribe:()=>e.unsubscribeAll(a.subscriber)}}},76797:(e,t,r)=>{r.d(t,{D:()=>n});function n(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);let t=document.body;if(!t)return Promise.reject(Error());let r=function(e){let t=document.createElement("pre");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t}(e);return t.appendChild(r),!function(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent||"");let t=getSelection();if(null==t)return Promise.reject(Error());t.removeAllRanges();let r=document.createRange();r.selectNodeContents(e),t.addRange(r),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}(r),t.removeChild(r),Promise.resolve()}},99425:(e,t,r)=>{r.d(t,{x:()=>h});var n,i=r(96540),a=r(45996),s=r(15930),o=r(88853),l=r(74848),c=r(10204);let u=(0,i.createContext)(null),d=null;function f(e,t){let r=c.KK.parse(e);if(!r)throw Error(`Invalid channel name. Did you forget to sign it with \`signChannel("${e}")\`?`);return d||(d=new c.m0),d.add({topic:r,subscriber:t}),{unsubscribe:()=>{d?.delete({topic:r,subscriber:t})}}}try{u.displayName||(u.displayName="AliveTestContext")}catch{}try{(n=function({children:e,initialMessages:t}){return(0,i.useEffect)(()=>{let e=[];if(t)for(let[r,n]of t){let t=window.setTimeout(()=>{(function(e,t){if(null===d)throw Error('Test helper `dispatchAliveTestMessage` called outside `AliveTestProvider`. Please wrap your component under test in `AliveTestProvider` from "@github-ui/use-alive/test-utils".');for(let r of Array.from(d.subscribers(e)))r(t)})(r,n)},0);e.push(t)}return()=>{for(let t of(d=null,e))window.clearTimeout(t)}}),(0,l.jsx)(u.Provider,{value:f,children:e})}).displayName||(n.displayName="AliveTestProvider")}catch{}function h(e,t){let r=(0,a.A)(),n=(0,i.useContext)(u);(0,i.useEffect)(()=>{let i=()=>{},a=!1;return async function(){if(e){if("function"==typeof n){let r=await n(e,t);r&&(i=r.unsubscribe);return}try{let n=await (0,s.H)();if(a)return;let l=(0,o.$)(n,e,t);l?.unsubscribe&&(r()?i=l.unsubscribe:l.unsubscribe())}catch(e){console.error(e)}}}(),()=>{a=!0,i()}},[e,t,r,n])}},57572:(e,t,r)=>{function n(e,t={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let r=function(e){let t=new URL(e,window.location.href),r=new URL(window.location.href,window.location.origin),n=r.searchParams.get("_features");n&&!t.searchParams.has("_features")&&t.searchParams.set("_features",n);let i=r.searchParams.get("_tracing");return i&&!t.searchParams.has("_tracing")&&t.searchParams.set("_tracing",i),e.startsWith(window.location.origin)?t.href:`${t.pathname}${t.search}`}(e),i={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(r,{...t,headers:i})}function i(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},i=t?.body?JSON.stringify(t.body):void 0;return n(e,{...t,body:i,headers:r})}function a(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return n(e,{...t,headers:r})}function s(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return i(e,{...t,headers:r})}r.d(t,{DI:()=>n,QJ:()=>a,Sr:()=>s,lS:()=>i})},26514:(e,t,r)=>{r.d(t,{T:()=>h});var n=r(74848),i=r(45996),a=r(38621),s=r(87330),o=r(96540),l=r(34164),c=r(42522),u=r(13080),d=r(76797);let f={tooltip:"CopyToClipboardButton-module__tooltip--Dq1IB"};function h({icon:e=a.CopyIcon,size:t="medium",onCopy:r,textToCopy:h,tooltipProps:p,variant:m="invisible",ariaLabel:v,className:b,disabled:g,...y}){let[w,x]=o.useState(!1),S=(0,i.A)(),k=v??`Copy "${h}" to clipboard`,j=w?"Copied!":k,C={size:t,variant:m,onClick:()=>{x(!0),(0,u.i)("Copied!"),(0,d.D)(h),r?.(),setTimeout(()=>S()&&x(!1),2e3)},icon:w?a.CheckIcon:e,className:(0,l.$)(w?"color-fg-success":void 0,b),...y},R=(0,o.useId)();return g?(0,n.jsx)(s.K,{...C,"aria-label":k,disabled:!0}):(0,n.jsx)(c.m,{text:j,"aria-label":k,type:"label",id:R,"aria-hidden":!0,...p,className:(0,l.$)(f.tooltip,p?.className),children:(0,n.jsx)(s.K,{...C,"aria-labelledby":R})})}try{h.displayName||(h.displayName="CopyToClipboardButton")}catch{}},30876:(e,t,r)=>{r.d(t,{F:()=>j});var n=r(74848),i=r(96540),a=r(55847),s=r(73451),o=r(74144),l=r(17500),c=r(57572),u=r(81112),d=r(26514),f=r(75177),h=r(67138);let p=(0,i.forwardRef)(function({newBranchName:e,setNewBranchName:t},r){return(0,n.jsxs)(s.A,{children:[(0,n.jsx)(s.A.Label,{children:"New branch name"}),(0,n.jsxs)(f.A,{sx:{display:"flex",width:"100%"},children:[(0,n.jsx)(h.A,{block:!0,className:"color-bg-subtle",sx:{borderBottomRightRadius:0,borderTopRightRadius:0,width:"88%"},value:e,onChange:e=>t(e.target.value),ref:r}),(0,n.jsx)(f.A,{className:"color-bg-subtle",sx:{display:"flex",justifyContent:"center",borderRightWidth:1,borderLeftWidth:0,borderTopWidth:1,borderBottomWidth:1,borderTopRightRadius:"10%",borderBottomRightRadius:"10%",borderColor:"border.default",borderStyle:"solid",width:"12%"},children:(0,n.jsx)(d.T,{tooltipProps:{direction:"nw"},textToCopy:e,ariaLabel:"Copy to clipboard",className:"pt-1",sx:{height:25,width:25}})})]})]})});try{p.displayName||(p.displayName="NewBranchName")}catch{}var m=r(85349),v=r(52464),b=r(8338),g=r(38621);function y(e){return`${e.ownerLogin}/${e.name}`}function w({isForkSourceOpen:e,setForkSourceOpen:t,repoSource:r,setRepoSource:s,repository:o,repositoryParent:l,setDefaultBranch:c,setBranchSource:u}){return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)("span",{className:"note text-small mt-0",children:"Choose from this fork or its upstream repository."}),(0,n.jsx)(m.T,{open:e,overlayProps:{role:"dialog",width:"medium"},onOpen:()=>t(!0),onClose:()=>t(!1),renderAnchor:e=>(0,n.jsx)(a.Q,{...e,trailingVisual:g.TriangleDownIcon,"aria-label":y(r),"data-testid":"anchor-button",children:(0,n.jsxs)(f.A,{sx:{display:"flex"},children:[(0,n.jsx)(f.A,{sx:{mr:1,color:"fg.muted"},children:(0,n.jsx)(g.RepoIcon,{size:"small"})}),(0,n.jsx)(f.A,{sx:{fontSize:1,maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(0,n.jsxs)(v.A,{sx:{minWidth:0},children:["\xa0",`${y(r)}`]})})]})}),focusZoneSettings:{disabled:!0},children:(0,n.jsx)("div",{"data-testid":"overlay-content",id:"selectPanel",children:(0,n.jsxs)(b.l,{selectionVariant:"single",children:[(0,n.jsx)(b.l.Item,{selected:r.id===l.id,onSelect:()=>{s(l),c(l.defaultBranch),u(l.defaultBranch),t(!1)},children:`${l.ownerLogin}/${l.name}`}),(0,n.jsx)(b.l.Item,{selected:r.id===o.id,onSelect:()=>{s(o),c(o.defaultBranch),u(o.defaultBranch),t(!1)},children:`${o.ownerLogin}/${o.name}`})]})})})]})}try{w.displayName||(w.displayName="ForkPicker")}catch{}var x=r(99425),S=r(84976);function k({channel:e="",onUpdate:t}){let[,r]=(0,S.ok)(),n=(0,i.useCallback)(e=>{t(e),r(t=>(t.set("branch_event",encodeURIComponent(e.reason)),t))},[t,r]);return(0,x.x)(e,n),null}try{k.displayName||(k.displayName="LiveBranches")}catch{}function j({branchListCacheKey:e,repository:t,repositoryParent:r,createUrl:d,helpUrl:f,liveReload:h}){let[m,v]=(0,i.useState)(!1),[b,g]=(0,i.useState)(t.defaultBranch),[y,x]=(0,i.useState)(t.defaultBranch),[S,j]=(0,i.useState)(""),[C,R]=(0,i.useState)(t),[A,N]=(0,i.useState)(!1),[M,T]=(0,i.useState)(void 0),[P,E]=(0,i.useState)(void 0),[B,L]=(0,i.useState)(!1),[_,z]=(0,i.useState)(!1),[I,O]=(0,i.useState)(void 0),F=(0,i.useRef)(null),U=(0,i.useRef)(null);function $(){T(void 0),E(void 0),j(""),L(!1)}async function H(){if(!_){z(!0);let e=new FormData;e.append("name",S),e.append("branch",y),r&&e.append("repo",C.id.toString()),e.append("send_response_as_json","true");let t=await (0,c.DI)(d,{method:"post",body:e,headers:{Accept:"application/json"}}),n=await t.json();if(t.ok)$(),v(!1),h&&n.channel?O(n.channel):window.location.reload();else{let e=n.error;e?.includes("Repository rule violations found")?(E(void 0),T(e.replace("Repository rule violations found","").trim().split("\n\n").slice(0,3))):e&&(T(void 0),E(e.trim()))}z(!1)}}return(0,i.useEffect)(()=>{m&&requestAnimationFrame(()=>U.current?.focus())},[m]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Q,{ref:F,variant:"primary",className:"ml-3",onClick:()=>{$(),v(!0)},children:"New branch"}),m&&(0,n.jsx)(o.l,{title:"Create a branch",width:"large",onClose:()=>{v(!1),$()},returnFocusRef:F,footerButtons:B?[]:[{content:"Cancel",buttonType:"normal",onClick:()=>{v(!1),$()}},{content:"Create new branch",buttonType:"primary",onClick:H}],children:(0,n.jsxs)(n.Fragment,{children:[(M||P)&&(0,n.jsx)(u.r,{prefix:"Unable to create branch:",errorMessageUsingPrefix:M?"Please address the rule violations and try again.":void 0,errorMessageNotUsingPrefix:P,ruleErrors:M,helpUrl:f}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),H()},children:(0,n.jsx)(p,{newBranchName:S,setNewBranchName:j,ref:U})}),(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsxs)(s.A,{children:[(0,n.jsx)(s.A.Label,{className:"mb-0",children:"Source"}),r&&(0,n.jsx)(w,{isForkSourceOpen:A,setForkSourceOpen:N,repoSource:C,setRepoSource:R,repository:t,repositoryParent:r,setDefaultBranch:g,setBranchSource:x}),(0,n.jsx)(l.PI,{currentCommitish:y,defaultBranch:b,owner:C.ownerLogin,repo:C.name,canCreate:!1,cacheKey:e,selectedRefType:"branch",onSelectItem:e=>x(e),closeOnSelect:!0,types:["branch"],hideShowAll:!0})]})})]})}),I?(0,n.jsx)(k,{channel:I,onUpdate:()=>O(void 0)}):null]})}try{j.displayName||(j.displayName="CreateBranchButton")}catch{}},81112:(e,t,r)=>{r.d(t,{r:()=>u});var n=r(74848),i=r(38621),a=r(65481),s=r(34614),o=r(75177),l=r(30729),c=r(44968);function u({prefix:e,errorMessageUsingPrefix:t,errorMessageNotUsingPrefix:r,hideRuleErrorsTitle:u,ruleErrors:d,helpUrl:f,flashRef:h}){let p=(d?.length||0)>0;return t||r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.A,{id:"flash",variant:"danger",className:"d-flex flex-items-center flex-justify-between",sx:{marginBottom:3},tabIndex:-1,ref:h,children:t?(0,n.jsxs)("div",{children:[e," ",(0,n.jsx)(c.yx,{sx:{fontWeight:"bold"},unverifiedHTML:t}),p&&f&&(0,n.jsx)(s.A,{href:`${f}/repositories/configuring-branches-and-merges-in-your-repository/managing-rulesets/about-rulesets`,sx:{marginLeft:1},children:"Learn more about rulesets."})]}):r&&(0,n.jsx)("div",{children:r})}),p&&(0,n.jsxs)(o.A,{sx:{marginBottom:3},children:[!u&&(0,n.jsx)(o.A,{sx:{fontWeight:"bold",marginBottom:1},children:"Repository rule violations found:"}),d?.map(e=>n.jsxs(o.A,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(l.A,{icon:i.XCircleFillIcon,size:16,sx:{color:"danger.fg"}}),n.jsx(o.A,{sx:{marginLeft:2},children:e})]},e))]})]}):null}try{u.displayName||(u.displayName="FlashError")}catch{}},44968:(e,t,r)=>{r.d(t,{mo:()=>h,oG:()=>u,yx:()=>d});var n,i=r(74848),a=r(75177),s=r(52464),o=r(99418),l=r(96540);function c(e){if("html"in e&&void 0!==e.html){let{html:t,...r}=e;return{safeHTML:t,props:r}}let{unverifiedHTML:t,unverifiedHTMLConfig:r,...n}=e,i={...r,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{safeHTML:o.default.sanitize(t,i),props:n}}let u=f(a.A);u.displayName="SafeHTMLBox";let d=f(s.A);function f(e){return(0,l.forwardRef)((t,r)=>{let{safeHTML:n,props:a}=c(t);return(0,i.jsx)(e,{ref:r,...a,dangerouslySetInnerHTML:n?{__html:n}:void 0})})}d.displayName="SafeHTMLText";let h=(0,l.forwardRef)((e,t)=>{let{safeHTML:r,props:n}=c(e);return(0,i.jsx)("div",{ref:t,...n,dangerouslySetInnerHTML:r?{__html:r}:void 0})});h.displayName="SafeHTMLDiv";try{(n=SafeHTMLComponent).displayName||(n.displayName="SafeHTMLComponent")}catch{}},35822:(e,t,r)=>{r.d(t,{v:()=>p,z:()=>m});var n,i=r(96540);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=["bottom","height","left","right","top","width"],o=new Map,l=function e(){var t=[];o.forEach(function(e,r){var n,i,a=r.getBoundingClientRect();n=a,i=e.rect,void 0===n&&(n={}),void 0===i&&(i={}),s.some(function(e){return n[e]!==i[e]})&&(e.rect=a,t.push(e))}),t.forEach(function(e){e.callbacks.forEach(function(t){return t(e.rect)})}),n=window.requestAnimationFrame(e)},c="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function u(e,t){var r=t.rect;return e.height!==r.height||e.width!==r.width?r:e}var d=function(){return 50},f=function(e){return e},h=function(e,t){return e[t?"offsetWidth":"offsetHeight"]},p=function(e){for(var t=Math.max(e.start-e.overscan,0),r=Math.min(e.end+e.overscan,e.size-1),n=[],i=t;i<=r;i++)n.push(i);return n};function m(e){var t,r=e.size,s=void 0===r?0:r,m=e.estimateSize,b=void 0===m?d:m,g=e.overscan,y=void 0===g?1:g,w=e.paddingStart,x=void 0===w?0:w,S=e.paddingEnd,k=e.parentRef,j=e.horizontal,C=e.scrollToFn,R=e.useObserver,A=e.initialRect,N=e.onScrollElement,M=e.scrollOffsetFn,T=e.keyExtractor,P=void 0===T?f:T,E=e.measureSize,B=void 0===E?h:E,L=e.rangeExtractor,_=void 0===L?p:L,z=j?"width":"height",I=j?"scrollLeft":"scrollTop",O=i.useRef({scrollOffset:0,measurements:[]}),F=i.useState(0),U=F[0],$=F[1];O.current.scrollOffset=U;var H=(R||function(e,t){void 0===t&&(t={width:0,height:0});var r=i.useState(e.current),a=r[0],s=r[1],d=i.useReducer(u,t),f=d[0],h=d[1],p=i.useRef(!1);return c(function(){e.current!==a&&s(e.current)}),c(function(){a&&!p.current&&(p.current=!0,h({rect:a.getBoundingClientRect()}))},[a]),i.useEffect(function(){if(a){var e,t=(e=function(e){h({rect:e})},{observe:function(){var t=0===o.size;o.has(a)?o.get(a).callbacks.push(e):o.set(a,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),t&&l()},unobserve:function(){var t=o.get(a);if(t){var r=t.callbacks.indexOf(e);r>=0&&t.callbacks.splice(r,1),t.callbacks.length||o.delete(a),o.size||cancelAnimationFrame(n)}}});return t.observe(),function(){t.unobserve()}}},[a]),f})(k,A)[z];O.current.outerSize=H;var D=i.useCallback(function(e){k.current&&(k.current[I]=e)},[k,I]),W=C||D;C=i.useCallback(function(e){W(e,D)},[D,W]);var q=i.useState({}),G=q[0],K=q[1],V=i.useCallback(function(){return K({})},[]),J=i.useRef([]),Q=i.useMemo(function(){var e=J.current.length>0?Math.min.apply(Math,J.current):0;J.current=[];for(var t=O.current.measurements.slice(0,e),r=e;r<s;r++){var n=P(r),i=G[n],a=t[r-1]?t[r-1].end:x,o="number"==typeof i?i:b(r),l=a+o;t[r]={index:r,start:a,size:o,end:l,key:n}}return t},[b,G,x,s,P]),X=((null==(t=Q[s-1])?void 0:t.end)||x)+(void 0===S?0:S);O.current.measurements=Q,O.current.totalSize=X;var Z=N?N.current:k.current,Y=i.useRef(M);Y.current=M,c(function(){if(!Z){$(0);return}var e=function(e){$(Y.current?Y.current(e):Z[I])};return e(),Z.addEventListener("scroll",e,{capture:!1,passive:!0}),function(){Z.removeEventListener("scroll",e)}},[Z,I]);var ee=function(e){for(var t=e.measurements,r=e.outerSize,n=e.scrollOffset,i=t.length-1,a=v(0,i,function(e){return t[e].start},n),s=a;s<i&&t[s].end<n+r;)s++;return{start:a,end:s}}(O.current),et=ee.start,er=ee.end,en=i.useMemo(function(){return _({start:et,end:er,overscan:y,size:Q.length})},[et,er,y,Q.length,_]),ei=i.useRef(B);ei.current=B;var ea=i.useMemo(function(){for(var e=[],t=0,r=en.length;t<r;t++)!function(t,r){var n=en[t],i=Q[n],s=a(a({},i),{},{measureRef:function(e){if(e){var t=ei.current(e,j);if(t!==s.size){var r=O.current.scrollOffset;s.start<r&&D(r+(t-s.size)),J.current.push(n),K(function(e){var r;return a(a({},e),{},((r={})[s.key]=t,r))})}}}});e.push(s)}(t);return e},[en,D,j,Q]),es=i.useRef(!1);c(function(){es.current&&K({}),es.current=!0},[b]);var eo=i.useCallback(function(e,t){var r=(void 0===t?{}:t).align,n=void 0===r?"start":r,i=O.current,a=i.scrollOffset,s=i.outerSize;"auto"===n&&(n=e<=a?"start":e>=a+s?"end":"start"),"start"===n?C(e):"end"===n?C(e-s):"center"===n&&C(e-s/2)},[C]),el=i.useCallback(function(e,t){var r=void 0===t?{}:t,n=r.align,i=void 0===n?"auto":n,o=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(r,["align"]),l=O.current,c=l.measurements,u=l.scrollOffset,d=l.outerSize,f=c[Math.max(0,Math.min(e,s-1))];if(f){if("auto"===i){if(f.end>=u+d)i="end";else{if(!(f.start<=u))return;i="start"}}eo("center"===i?f.start+f.size/2:"end"===i?f.end:f.start,a({align:i},o))}},[eo,s]);return{virtualItems:ea,totalSize:X,scrollToOffset:eo,scrollToIndex:i.useCallback(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];el.apply(void 0,t),requestAnimationFrame(function(){el.apply(void 0,t)})},[el]),measure:V}}var v=function(e,t,r,n){for(;e<=t;){var i=(e+t)/2|0,a=r(i);if(a<n)e=i+1;else{if(!(a>n))return i;t=i-1}}return e>0?e-1:0}}}]);
//# sourceMappingURL=ui_packages_create-branch-button_CreateBranchButton_tsx-node_modules_react-virtual_dist_react-b4da89-4c65f6f31eac.js.map